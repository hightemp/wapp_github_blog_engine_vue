(function(){"use strict";var e={8464:function(e,t,i){i(7658);var a=i(7139),n=i(7327),o=i(13),s=i(8228),l=i(6704);class r{static fnInit(e){r.oRepoItem=e,"github"==e.type&&r.fnInitGit(),"webdav"==e.type&&r.fnInitWebdav()}static fnInitGit(){_s("Database.fnInitGit"),r.octokit=new o.v({auth:r.oRepoItem.key})}static fnInitWebdav(){r.webdav=(0,s.createClient)(r.oRepoItem.url,{username:r.oRepoItem.username,password:r.oRepoItem.password})}static fnReadFileJSON(e){return new Promise((async(t,i)=>{this.fnReadFile(e).then((({sData:e})=>{t(JSON.parse(e))})).catch((e=>{i(e)}))}))}static fnReadFile(e){return"github"==r.oRepoItem.type?r.fnReadFileGithub(e):"webdav"==r.oRepoItem.type?r.fnReadFileWebdav(e):void 0}static fnWriteFileJSON(e,t){return this.fnWriteFile(e,JSON.stringify(t,null,4))}static fnWriteFile(e,t){return"github"==r.oRepoItem.type?r.fnWriteFileGithub(e,t):"webdav"==r.oRepoItem.type?r.fnWriteFileWebdav(e,t):void 0}static fnCreateDir(e){if("webdav"==r.oRepoItem.type)return r.fnCreateDirWebdav(e)}static fnCreateDirWebdav(e){return new Promise((async(t,i)=>{_l(">>>",e),r.webdav.createDirectory(e),t()}))}static fnReadFileWebdav(e){r.oRepoItem;return new Promise((async(t,i)=>{try{var a=await r.webdav.getFileContents(e),n=new TextDecoder("utf-8"),o=n.decode(a);r.oSHA[e]="",t({sData:o,sSHA:""})}catch(s){console.error(s),i(s)}}))}static fnReadFileGithub(e){return new Promise((async(t,i)=>{var a=r.oRepoItem;return e=e.replace(/^\/+/,""),r.octokit.rest.repos.getContent({owner:a.login,repo:a.repo,path:e}).then((({data:i})=>{var a=(0,l.Jx)(i.content);r.oSHA[e]=i.sha,t({sData:a,sSHA:i.sha})})).catch((e=>{console.error(e),i(e)}))}))}static fnWriteFileGithub(e,t,i=null){return new Promise((async(a,n)=>{var o=r.oRepoItem;return e=e.replace(/^\/+/,""),r.octokit.rest.repos.createOrUpdateFileContents({owner:o.login,repo:o.repo,path:e,sha:i||r.oSHA[e],message:r.fnGetUpdateMessage(),content:(0,l.cv)(t)}).then((()=>{a()})).catch((e=>{console.error(e),n(e)}))}))}static fnWriteFileWebdav(e,t){return new Promise((async(i,a)=>{r.oRepoItem;return new Promise((async(i,a)=>{try{var n=new TextEncoder,o=n.encode(t);await r.webdav.putFileContents(e,o,{contentLength:!1,overwrite:!0}),i()}catch(s){a(s)}}))}))}static fnGetUpdateMessage(){return"update: "+new Date}}function d(e){return e[0].split(" ")}function c(e){return{[e]:{get(){return this.$store.state[e]},set(t){this.$store.commit("fnUpdateVar",{sName:e,sV:t})}}}}function u(e){var t={},i=e.split(" ");for(var a of i)t=Object.assign(t,c(a));return t}function m(){return(Math.random()+1).toString(36).substring(7)}function p(e,t){var i="data:text/json;charset=utf-8,"+encodeURIComponent(t),a=document.createElement("A");a.setAttribute("href",i),a.setAttribute("download",`${e}_${(new Date).getTime()}.json`),a.click(),a.remove()}(0,n.Z)(r,"octokit",null),(0,n.Z)(r,"oSHA",{}),(0,n.Z)(r,"webdav",null),(0,n.Z)(r,"oRepoItem",null);const f="notes-database.json";function g(e,t){var i=e.oDatabase.categories.find((e=>e.id==t));return i.parent_id?g(e,i.parent_id):i}const b={groups_last_id:0,groups:[],categories_last_id:0,categories:[],articles_last_id:0,articles:[],favorites_last_id:0,favorites:[],tags_last_id:0,tags:[],tags_relations_last_id:0,tags_relations:[],links_last_id:0,links:[]};var v=(0,a.MT)({state(){return{aReposList:[],oRepo:null,iSelectedRepoIndex:null,bShowErrorWindow:!1,sErrorWindowMessage:"",sErrorWindowTitle:"",bShowRepoWindow:!0,bShowGroupEditWindow:!1,oGroupEditItem:null,sGroupEditWindowGroupName:"",bShowCategoryEditWindow:!1,oCategoryEditItem:null,sCategoryEditWindowCategoryName:"",sCategoryEditWindowGroupID:"",sCategoryEditWindowCategoryID:"",bShowArticleEditWindow:!1,oArticleEditItem:null,sArticleEditWindowArticleName:"",sArticleEditWindowGroupID:"",sArticleEditWindowCategoryID:"",bShowTagEditWindow:!1,oTagEditItem:null,sTagEditWindowTagName:"",bShowLinkEditWindow:!1,oLinkEditItem:null,sLinkEditWindowLinkName:"",sLinkEditWindowLinkURL:"",bShowRepoWindow:!0,bShowSaveToast:!1,bShowLoader:!1,bShowEditor:!1,sArticleContent:"",sCurrentMode:"",iEditIndex:null,oDatabase:b,sSelectedArticleID:null,sSelectedCategoryID:null,sSelectedGroupID:null,sSelectedTagID:null,sSelectedLinkID:null}},mutations:{fnReposRemove(e,t){e.aReposList.splice(t,1),localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnReposSelect(e,t){e.iSelectedRepoIndex=t},fnReposClean(e){e.aReposList=[],localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnReposUpdate(e,{iIndex:t,oObj:i}){-1==t?e.aReposList.push(i):e.aReposList.splice(t,1,i),localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnLoadRepos(e){try{e.aReposList=JSON.parse(localStorage.getItem("aReposList")||"[]")}catch(t){}},fnUpdateDatabase(e,t){e.oDatabase=t},fnHideRepoWindow(e){e.bShowRepoWindow=!1},fnShowRepoWindow(e){e.bShowRepoWindow=!0},fnShowLoader(e){e.bShowLoader=!0},fnHideLoader(e){e.bShowLoader=!1},fnShowEditor(e){e.bShowEditor=!0},fnHideEditor(e){e.bShowEditor=!1},fnSelectGroup(e,t){e.sSelectedGroupID=t},fnSelectCategory(e,t){e.sSelectedCategoryID=t},fnSelectArticle(e,t){e.sSelectedArticleID=t},fnSelectTag(e,t){e.sSelectedTagID=t},fnSelectLink(e,t){e.sSelectedLinkID=t},fnSetArticleContent(e,t){e.sArticleContent=t},fnUpdateMode(e,t){e.sCurrentMode=t},fnCleanDatabase(e){e.oDatabase=b},fnShowGroupEditWindow(e,t){e.bShowGroupEditWindow=!0,e.oGroupEditItem=t,_l(">>>",t),e.sGroupEditWindowGroupName=t?t.name:""},fnHideGroupEditWindow(e){e.bShowGroupEditWindow=!1},fnShowCategoryEditWindow(e,t){if(e.bShowCategoryEditWindow=!0,e.oCategoryEditItem=t,t){e.sCategoryEditWindowCategoryName=t.name;var i=g(e,t.id);_l(">>>",i),e.sCategoryEditWindowGroupID=i?.group_id,e.sCategoryEditWindowCategoryID=t.parent_id}else e.sCategoryEditWindowCategoryName="",e.sCategoryEditWindowGroupID="",e.sCategoryEditWindowCategoryID=""},fnHideCategoryEditWindow(e){e.bShowCategoryEditWindow=!1},fnShowArticleEditWindow(e,t){if(e.bShowArticleEditWindow=!0,e.oArticleEditItem=t,t){e.sArticleEditWindowArticleName=t.name;var i=e.oDatabase.categories.find((e=>e.id==t.category_id));e.sArticleEditWindowGroupID=i?.group_id,e.sArticleEditWindowCategoryID=t.category_id}else e.sArticleEditWindowArticleName="",e.sArticleEditWindowCategoryID="",e.sArticleEditWindowGroupID=""},fnHideArticleEditWindow(e){e.bShowArticleEditWindow=!1},fnShowTagEditWindow(e,t){e.bShowTagEditWindow=!0,e.oTagEditItem=t,e.sTagEditWindowTagName=t?t.name:""},fnHideTagEditWindow(e){e.bShowTagEditWindow=!1},fnShowLinkEditWindow(e,t){e.bShowLinkEditWindow=!0,e.oLinkEditItem=t,t?(e.sLinkEditWindowLinkName=t.name,e.sLinkEditWindowLinkURL=t.url):(e.sLinkEditWindowLinkName="",e.sLinkEditWindowLinkURL="")},fnHideLinkEditWindow(e){e.bShowLinkEditWindow=!1},fnUpdateDatabaseTable(e,{sTableName:t,sField:i,sV:a}){e.oDatabase[t][i]=a},fnUpdateVar(e,{sName:t,sV:i}){e[t]=i},fnAddGroup(e,t){e.oDatabase.groups_last_id++,t={...t,id:e.oDatabase.groups_last_id},e.oDatabase.groups.push(t)},fnUpdateGroup(e,{iIndex:t,oItem:i}){e.oDatabase.groups.splice(t,1,i)},fnRemoveGroup(e,t){e.oDatabase.groups.splice(t,1)},fnAddCategory(e,t){e.oDatabase.categories_last_id++,t={...t,id:e.oDatabase.categories_last_id},e.oDatabase.categories.push(t)},fnUpdateCategory(e,{iIndex:t,oItem:i}){e.oDatabase.categories.splice(t,1,i)},fnRemoveCategory(e,t){e.oDatabase.categories.splice(t,1)},fnAddArticle(e,t){e.oDatabase.articles_last_id++,t={...t,id:e.oDatabase.articles_last_id},e.oDatabase.articles.push(t)},fnUpdateArticle(e,{iIndex:t,oItem:i}){e.oDatabase.articles.splice(t,1,i)},fnRemoveArticle(e,t){e.oDatabase.articles.splice(t,1)},fnAddTag(e,t){e.oDatabase.tags_last_id++,t={...t,id:e.oDatabase.tags_last_id},e.oDatabase.tags.push(t)},fnUpdateTag(e,{iIndex:t,oItem:i}){_l(">>>",i),e.oDatabase.tags.splice(t,1,i)},fnRemoveTag(e,t){e.oDatabase.tags.splice(t,1)},fnRemoveTagRelation(e,t){e.oDatabase.tags_relations.splice(t,1)},fnAddLink(e,t){e.oDatabase.links_last_id++,t={...t,id:e.oDatabase.links_last_id},e.oDatabase.links.push(t)},fnUpdateLink(e,{iIndex:t,oItem:i}){e.oDatabase.links.splice(t,1,i)},fnRemoveLink(e,t){e.oDatabase.links.splice(t,1)},fnSaveArticleContent(e,{iIndex:t,sContent:i}){e.sArticleContent=i},fnAddFavorite(e,t){~e.oDatabase.findIndex((e=>e.id==t.id))||(e.oDatabase.articles_last_id++,e.oDatabase.favorites.push({id:e.oDatabase.articles_last_id,article_id:t.id}))},fnRemoveFavorite(e,t){var i=e.oDatabase.favorites.findIndex((e=>e.article_id==t.id));e.oDatabase.favorites.splice(i,1)}},actions:{fnPrepareRepo({commit:e,state:t,dispatch:i,getters:a}){e("fnHideRepoWindow"),r.fnInit(a.oCurrentRepo),i("fnLoadDatabase")},fnSaveDatabase({commit:e,state:t}){return r.fnWriteFileJSON(f,t.oDatabase)},fnSaveArticlePage({commit:e,state:t,getters:i}){if(i.oCurrentArticle){var a=i.fnGetCurrentArticlePath();r.fnWriteFile(a,t.sArticleContent)}},fnLoadDatabase({commit:e,state:t}){e("fnShowLoader"),r.fnReadFileJSON(f).then((t=>{e("fnUpdateDatabase",t),e("fnHideLoader")})).catch((i=>{(i+"").match(/Not Found/)&&(_l(">>>",i+""),r.fnWriteFileJSON(f,t.oDatabase).then((()=>{r.fnReadFileJSON(f).then((t=>{e("fnUpdateDatabase",t),e("fnHideLoader")}))})))}))},fnUpdateGroup({commit:e,getters:t},i){var a=t.fnGetGroupIndex(i.id);e("fnUpdateGroup",{iIndex:a,oItem:i})},fnUpdateCategory({commit:e,getters:t},i){var a=t.fnGetCategoryIndex(i.id);e("fnUpdateCategory",{iIndex:a,oItem:i})},fnUpdateArticle({commit:e,getters:t},i){var a=t.fnGetArticleIndex(i.id);e("fnUpdateArticle",{iIndex:a,oItem:i})},fnUpdateTag({commit:e,getters:t},i){var a=t.fnGetTagIndex(i.id);e("fnUpdateTag",{iIndex:a,oItem:i})},fnUpdateLink({commit:e,getters:t},i){var a=t.fnGetLinkIndex(i.id);e("fnUpdateLink",{iIndex:a,oItem:i})},fnRemoveGroup({commit:e,getters:t},i){var a=t.fnGetGroupIndex(i.id);e("fnRemoveGroup",a)},fnRemoveCategory({commit:e,getters:t},i){var a=t.fnGetCategoryIndex(i.id);e("fnRemoveCategory",a)},fnRemoveArticle({commit:e,getters:t,state:i},a){var n=null;while(~(n=t.fnGetTagRelationIndexForArticle(a.id)))e("fnRemoveTagRelation",n);while(~(n=t.fnGetFavoriteIndexForArticle(a.id)))e("fnRemoveFavorite",n);var o=t.fnGetArticleIndex(a.id);e("fnRemoveArticle",o)},fnRemoveTag({commit:e,getters:t},i){var a=t.fnGetTagIndex(i.id);e("fnRemoveTag",a)},fnRemoveLink({commit:e,getters:t},i){var a=t.fnGetLinkIndex(i.id);e("fnRemoveLink",a)},async fnSelectArticle({commit:e,state:t,getters:i},a){if(e("fnSelectArticle",a),_l(">>>",a),a){var n=i.fnGetCurrentArticlePath();r.fnCreateDir("/pages/");r.fnReadFile(n).then((({sData:t,sSHA:i})=>{e("fnShowEditor"),e("fnSetArticleContent",t)})).catch((t=>{(t+"").match(/Not Found/)&&(r.fnWriteFile(n,""),e("fnShowEditor"),e("fnSetArticleContent",""))}))}},fnSaveGroup({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oGroupEditItem){var n={name:a.sGroupEditWindowGroupName};e("fnAddGroup",n)}else a.oGroupEditItem.name=a.sGroupEditWindowGroupName,t("fnUpdateGroup",a.oGroupEditItem)},fnSaveCategory({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oCategoryEditItem){var n={name:a.sCategoryEditWindowCategoryName,parent_id:sCategoryEditWindowCategoryID};e("fnAddCategory",n)}else a.oCategoryEditItem.name=a.sCategoryEditWindowCategoryName,a.oCategoryEditItem.parent_id=a.sCategoryEditWindowCategoryID,t("fnUpdateCategory",a.oCategoryEditItem)},fnSaveArticle({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oArticleEditItem){var n={name:a.sArticleEditWindowArticleName,category_id:a.sArticleEditWindowCategoryID,hash_name:m(),html:""};e("fnAddArticle",n)}else a.oArticleEditItem.name=a.sArticleEditWindowArticleName,a.oArticleEditItem.category_id=a.sArticleEditWindowCategoryID,t("fnUpdateArticle",a.oArticleEditItem)},fnSaveTag({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oTagEditItem){var n={name:a.sTagEditWindowTagName};e("fnAddTag",n)}else a.oTagEditItem.name=a.sTagEditWindowTagName,t("fnUpdateTag",a.oTagEditItem)},fnSaveLink({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oLinkEditItem){var n={name:a.sLinkEditWindowLinkName,url:a.sLinkEditWindowLinkURL};e("fnAddLink",n)}else a.oLinkEditItem.name=a.sLinkEditWindowLinkName,a.oLinkEditItem.url=a.sLinkEditWindowLinkURL,t("fnUpdateLink",a.oLinkEditItem)},fnSaveArticleContent({commit:e,getters:t,state:i},a){var n=i.oDatabase.articles.findIndex((e=>e.id==t.oCurrentArticle.id));e("fnSaveArticleContent",{iIndex:n,sContent:a})}},getters:{fnGetCurrentArticlePath:(e,t)=>()=>`/pages/${t.oCurrentArticle?.hash_name}.html`,oCurrentRepo(e){return e.aReposList[e.iSelectedRepoIndex]},fnGetCategory:e=>t=>e.oDatabase.categories.find((e=>e.id==t)),fnGetGroup:e=>t=>e.oDatabase.groups.find((e=>e.id==t)),fnGetArticle:e=>t=>e.oDatabase.articles.find((e=>e.id==t)),fnGetTagRelationIndexForArticle:e=>t=>e.oDatabase.tags_relations.findIndex((e=>e.article_id==t)),fnGetFavoriteIndexForArticle:e=>t=>e.oDatabase.favorites.findIndex((e=>e.article_id==t)),fnGetCategoryIndex:e=>t=>e.oDatabase.categories.findIndex((e=>e.id==t)),fnGetGroupIndex:e=>t=>e.oDatabase.groups.findIndex((e=>e.id==t)),fnGetArticleIndex:e=>t=>e.oDatabase.articles.findIndex((e=>e.id==t)),fnGetTagIndex:e=>t=>e.oDatabase.tags.findIndex((e=>e.id==t)),fnGetLinkIndex:e=>t=>e.oDatabase.links.findIndex((e=>e.id==t)),fnFilterCurrentCategories:e=>t=>e.oDatabase.categories.filter((i=>~i.name.indexOf(t)&&i.group_id==e.sSelectedGroupID)),fnFilterCurrentArticles:e=>t=>e.oDatabase.articles.filter((i=>~i.name.indexOf(t)&&i.category_id==e.sSelectedCategoryID)),fnGetFavorites:e=>()=>e.oDatabase.articles.filter((t=>~e.oDatabase.favorites.findIndex((e=>t.id==e.id)))),fnFilterFavorites:(e,t)=>e=>t.fnGetFavorites().filter((t=>~t.name.indexOf(e))),fnFilterLinks:e=>t=>e.oDatabase.links.filter((e=>~e.name.indexOf(t))),fnGetArticlesTags:e=>t=>e.oDatabase.tags.filter((i=>~e.oDatabase.tags_relations.findIndex((e=>t==e.article_id&&e.tag_id==i.id)))),fnFilterArticlesTags:(e,t)=>(e,i)=>t.fnGetArticlesTags(e).filter((e=>~e.name.indexOf(i))),fnGetTagsArticles:e=>t=>e.oDatabase.articles.filter((i=>~e.oDatabase.tags_relations.findIndex((e=>i.id==e.article_id&&e.tag_id==t)))),fnFilterTagsArticles:(e,t)=>(e,i)=>t.fnGetTagsArticles(e).filter((e=>~e.name.indexOf(i))),fnFilterCurrentTagsArticles:(e,t)=>i=>t.fnFilterTagsArticles(e.sSelectedTagID,i),fnFilterTags:e=>t=>e.oDatabase.tags.filter((e=>~e.name.indexOf(t))),fnFilterGroups:e=>t=>e.oDatabase.groups.filter((e=>~e.name.indexOf(t))),fnFilterTreeCategoriesByGroup:(e,t)=>i=>{var a=e.oDatabase.categories.filter((e=>e.group_id==i&&1*e.parent_id===0)),n=JSON.parse(JSON.stringify(a)),o=[];for(var s of n)o=o.concat([s]),n=t.fnFilterCategoriesByParent(s.id),o=o.concat(n);return o},fnFilterRootCategoriesByGroup:e=>t=>e.oDatabase.categories.filter((e=>e.group_id==t&&1*e.parent_id===0)),fnFilterCategoriesByParent:(e,t)=>(i,a=1)=>{var n=e.oDatabase.categories.filter((e=>e.parent_id==i)),o=JSON.parse(JSON.stringify(n)),s=[];for(var l of o)l.name="--".repeat(a)+(a>0?"--":"")+l.name,s=s.concat([l]),o=t.fnFilterCategoriesByParent(l.id,a+1),s=s.concat(o);return s},fnFilterCategories:e=>t=>e.oDatabase.categories.filter((e=>~e.name.indexOf(t))),fnFilterArticles:e=>t=>e.oDatabase.articles.filter((e=>~e.name.indexOf(t))),fnFilterFavorites:(e,t)=>e=>t.fnGetFavorites().filter((t=>~t.name.indexOf(e))),fnFilterTags:e=>t=>e.oDatabase.tags.filter((e=>~e.name.indexOf(t))),fnFilterLinks:e=>t=>e.oDatabase.links.filter((e=>~e.name.indexOf(t))),aGroupsList(e){return e.oDatabase.groups},aCategoriesList(e){return e.oDatabase.categories},aArticlesList(){return state.oDatabase.articles},aTagsList(){return state.oDatabase.tags},aLinksist(){return state.oDatabase.links},oCurrentGroup(e,t){return e.oDatabase.groups.find((t=>t.id==e.sSelectedGroupID))},oCurrentCategory(e,t){return e.oDatabase.categories.find((t=>t.id==e.sSelectedCategoryID))},oCurrentArticle(e,t){return e.oDatabase.articles.find((t=>t.id==e.sSelectedArticleID))},oCurrentTag(e,t){return e.oDatabase.tags.find((t=>t.id==e.sSelectedTagID))},oCurrentLink(e,t){return e.oDatabase.links.find((t=>t.id==e.sSelectedLinkID))},fnGetCurrentLink:e=>()=>e.oDatabase.links.find((t=>t.id==e.sSelectedLinkID)),fnGetCurrentTag:e=>()=>e.oDatabase.tags.find((t=>t.id==e.sSelectedTagID)),fnFilterCategoriesByGroup:e=>t=>e.oDatabase.categories.filter((e=>e.group_id==t)),fnFilterArticlesByCategory:e=>t=>e.oDatabase.articles.filter((e=>e.category_id==t)),fnFilterArticlesByID:e=>t=>e.oDatabase.articles.filter((e=>e.id==t))}}),w=i(9242),h=i(3396),C=i(2268);const _={class:"wrapper"},y={class:"app-modes"},S=(0,h._)("i",{class:"bi bi-person-fill"},null,-1),k=[S],D=(0,h._)("i",{class:"bi bi-cloud-arrow-up"},null,-1),I=[D],A=(0,h._)("hr",null,null,-1),E=["title","onClick"],L=(0,h._)("hr",null,null,-1),F=(0,h._)("i",{class:"bi bi-database-x"},null,-1),W=[F],T={class:"current-mode"},R={class:"editor-wrapper"};function G(e,t,i,a,n,o){const s=(0,h.up)("ListMode"),l=(0,h.up)("CatalogMode"),r=(0,h.up)("FavoritesMode"),d=(0,h.up)("TagsMode"),c=(0,h.up)("LinksMode"),u=(0,h.up)("PageEditor"),m=(0,h.up)("ErrorWindow"),p=(0,h.up)("AskAPIWindow"),f=(0,h.up)("EditGroup"),g=(0,h.up)("EditCategory"),b=(0,h.up)("EditArticle"),v=(0,h.up)("EditLink"),S=(0,h.up)("EditTag"),D=(0,h.up)("Loader"),F=(0,h.up)("SavedToast");return(0,h.wg)(),(0,h.iD)(h.HY,null,[(0,h._)("div",_,[(0,h._)("div",y,[(0,h._)("button",{class:"btn",onClick:t[0]||(t[0]=(...t)=>e.fnShowRepoWindow&&e.fnShowRepoWindow(...t)),title:"Выбрать другую сессию"},k),(0,h._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>o.fnSaveAll&&o.fnSaveAll(...e)),title:"Сохранить все"},I),A,((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(n.aMenu,(e=>((0,h.wg)(),(0,h.iD)("a",{key:e.class,class:(0,C.C_)((o.sCurrentMode==e.class?"btn-primary":"")+" btn "+e.class),title:e.title,onClick:t=>o.fnMenuItemClick(e)},[(0,h._)("i",{class:(0,C.C_)("bi "+e.icon)},null,2)],10,E)))),128)),L,(0,h._)("button",{class:"btn",onClick:t[2]||(t[2]=(...e)=>o.fnClearDatabase&&o.fnClearDatabase(...e)),title:"Удалить все"},W)]),(0,h._)("div",T,[(0,h.wy)((0,h.Wm)(s,null,null,512),[[w.F8,"app-mode-list"==o.sCurrentMode]]),(0,h.wy)((0,h.Wm)(l,null,null,512),[[w.F8,"app-mode-catalog"==o.sCurrentMode]]),(0,h.wy)((0,h.Wm)(r,null,null,512),[[w.F8,"app-mode-favorites"==o.sCurrentMode]]),(0,h.wy)((0,h.Wm)(d,null,null,512),[[w.F8,"app-mode-tags"==o.sCurrentMode]]),(0,h.wy)((0,h.Wm)(c,null,null,512),[[w.F8,"app-mode-links"==o.sCurrentMode]])]),(0,h._)("div",R,[(0,h.Wm)(u)])]),(0,h.Wm)(m,{message:e.sErrorWindowMessage,title:e.sErrorWindowTitle},null,8,["message","title"]),(0,h.Wm)(p),(0,h.Wm)(f),(0,h.Wm)(g),(0,h.Wm)(b),(0,h.Wm)(v),(0,h.Wm)(S),(0,h.Wm)(D),(0,h.Wm)(F)],64)}const x={class:"loader"},U=(0,h._)("div",{class:"center"},[(0,h._)("div",{class:"lds-dual-ring"})],-1),O=[U];function M(e,t,i,a,n,o){return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",x,O,512)),[[w.F8,e.bShowLoader]])}var N={computed:{...(0,a.rn)(d`bShowLoader`)}},H=i(89);const P=(0,H.Z)(N,[["render",M]]);var V=P;const Y={id:"mode-list",class:"mode"},z={class:"all-articles-panel"},K={class:"actions-panel"},$={class:"list"},Z=["onClick"],j={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},J={class:"item-inner-title"},B={class:"item-inner-title"};function q(e,t,i,a,n,o){const s=(0,h.up)("Dropdown");return(0,h.wg)(),(0,h.iD)("div",Y,[(0,h._)("div",z,[(0,h._)("div",K,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFilter=e)},null,512),[[w.nr,n.sFilter]]),(0,h.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnMenuItemClick},null,8,["items","onClickitem"])]),(0,h._)("div",$,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aArticleList,(t=>((0,h.wg)(),(0,h.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row item-artilces-list "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,h._)("a",j,[(0,h._)("div",J,(0,C.zw)(t.name),1)]),(0,h._)("div",B,(0,C.zw)(e.fnGetCategory(t.category_id)?.name),1)],10,Z)))),128))])])])}const Q={class:"dropdown"},X=["onClick","innerHTML"];function ee(e,t,i,a,n,o){return(0,h.wg)(),(0,h.iD)("div",Q,[(0,h._)("a",{class:"btn dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:t[0]||(t[0]=(...e)=>o.fnMenuOpen&&o.fnMenuOpen(...e))}),(0,h._)("ul",{class:(0,C.C_)("dropdown-menu "+(n.bOpened?"show":""))},[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(n.aItems,(e=>((0,h.wg)(),(0,h.iD)("li",{key:e.id},[(0,h._)("a",{class:"dropdown-item",href:"#",onClick:t=>o.fnOnItemClick(e),innerHTML:e.title},null,8,X)])))),128))],2)])}var te={props:["items"],emits:["clickitem"],data(){return{aItems:this.items,bOpened:!1}},methods:{fnFocusOut(){this.bOpened=!1},fnMenuOpen(){this.bOpened=!this.bOpened},fnOnItemClick(e){this.bOpened=!1,this.$emit("clickitem",e)}},created(){window.addEventListener("click",(e=>{this.$el.contains(e.target)||(this.bOpened=!1)}))}};const ie=(0,H.Z)(te,[["render",ee]]);var ae=ie,ne={name:"ListMode",components:{Dropdown:ae},computed:{...(0,a.rn)(d`sSelectedArticleID`),...(0,a.Se)(d`oCurrentArticle fnGetCategory`),aArticleList(){return this.$store.getters.fnFilterArticles(this.sFilter)}},data(){return{sFilter:"",aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnShowArticleEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveArticle`),fnMenuItemClick(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnAddFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}}};const oe=(0,H.Z)(ne,[["render",q]]);var se=oe;const le={id:"mode-catalog",class:"mode"},re={class:"groups-panel"},de={class:"actions-panel"},ce={class:"list"},ue=["onClick"],me={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},pe={class:"item-inner-title"},fe={class:"categories-panel"},ge={class:"actions-panel"},be={class:"list"},ve={class:"articles-panel"},we={class:"actions-panel"},he={class:"list"},Ce=["onClick"],_e={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},ye={class:"item-inner-title"};function Se(e,t,i,a,n,o){const s=(0,h.up)("Dropdown"),l=(0,h.up)("TreeList");return(0,h.wg)(),(0,h.iD)("div",le,[(0,h._)("div",re,[(0,h._)("div",de,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sGroupGilter=e)},null,512),[[w.nr,n.sGroupGilter]]),(0,h.Wm)(s,{items:n.aGroupDropdownMenu,onClickitem:o.fnGroupClickItem},null,8,["items","onClickitem"])]),(0,h._)("div",ce,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aGroupList,(t=>((0,h.wg)(),(0,h.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedGroupID?"active":"")),onClick:i=>e.fnSelectGroup(t.id)},[(0,h._)("a",me,[(0,h._)("div",pe,(0,C.zw)(t.name),1)])],10,ue)))),128))])]),(0,h._)("div",fe,[(0,h._)("div",ge,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>n.sCategoryFilter=e)},null,512),[[w.nr,n.sCategoryFilter]]),(0,h.Wm)(s,{items:n.aCategoryDropdownMenu,onClickitem:o.fnCategoryClickItem},null,8,["items","onClickitem"])]),(0,h._)("div",be,[(0,h.Wm)(l,{list:o.aCategoryList,parent:0,level:0,selected:e.sSelectedCategoryID,onClickitem:o.fnSelectCategoryItem},null,8,["list","selected","onClickitem"])])]),(0,h._)("div",ve,[(0,h._)("div",we,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>n.sArticleFilter=e)},null,512),[[w.nr,n.sArticleFilter]]),(0,h.Wm)(s,{items:n.aArticleDropdownMenu,onClickitem:o.fnArticleClickItem},null,8,["items","onClickitem"])]),(0,h._)("div",he,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aArticleList,((t,i)=>((0,h.wg)(),(0,h.iD)("div",{key:i,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,h._)("a",_e,[(0,h._)("div",ye,(0,C.zw)(t.name),1)])],10,Ce)))),128))])])])}function ke(e,t,i,a,n,o){const s=(0,h.up)("TreeItem");return(0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aList,(e=>((0,h.wg)(),(0,h.j4)(s,{key:e.id,item:e,parent:o.sParent,list:o.aList,selected:o.sSelectedID,level:o.iLevel,onClickitem:o.fnSelectItem},null,8,["item","parent","list","selected","level","onClickitem"])))),128)}const De={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},Ie={class:"bi bi-dash-square"},Ae={class:"bi bi-plus-square"},Ee={class:"item-inner-title"};function Le(e,t,i,a,n,o){const s=(0,h.up)("TreeItem");return(0,h.wg)(),(0,h.iD)(h.HY,null,[1*o.oItem.parent_id==1*o.sParent?((0,h.wg)(),(0,h.iD)("div",{key:0,class:(0,C.C_)("input-group item-tree-row "+(o.oItem.id==o.sSelectedID?"active":"")),onClick:t[1]||(t[1]=(...e)=>o.fnSelectItem&&o.fnSelectItem(...e))},[(0,h._)("a",De,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.iLevel,(e=>((0,h.wg)(),(0,h.iD)("div",{class:"tree-spacer",key:e})))),128)),(0,h._)("a",{class:"item-flag",onClick:t[0]||(t[0]=(...e)=>o.fnToggleItem&&o.fnToggleItem(...e))},[(0,h.wy)((0,h._)("i",Ie,null,512),[[w.F8,n.bIsOpened]]),(0,h.wy)((0,h._)("i",Ae,null,512),[[w.F8,!n.bIsOpened]])]),(0,h._)("div",Ee,(0,C.zw)(o.oItem.name),1)])],2)):(0,h.kq)("",!0),((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aList,(e=>((0,h.wg)(),(0,h.iD)(h.HY,{key:e.id},[1*e.parent_id==1*o.oItem.id&&n.bIsOpened?((0,h.wg)(),(0,h.j4)(s,{key:0,item:e,parent:o.oItem.id,list:o.aList,selected:o.sSelectedID,level:o.iLevel+1,onClickitem:o.fnForwardSelectItem},null,8,["item","parent","list","selected","level","onClickitem"])):(0,h.kq)("",!0)],64)))),128))],64)}var Fe={name:"TreeItem",components:{TreeList:xe},emits:["clickitem"],props:{item:Object,parent:{type:Number,default:0},list:Array,selected:[String,Number,null],level:{type:Number,default:0}},computed:{oItem(){return this.item},sParent(){return this.parent},aList(){return this.list},sSelectedID(){return this.selected},iLevel(){return this.level}},data(){return{bIsOpened:this.item.is_opened}},methods:{fnForwardSelectItem(e){this.$emit("clickitem",e)},fnSelectItem(){this.$emit("clickitem",this.oItem)},fnToggleItem(){this.oItem.is_opened=!this.oItem.is_opened,this.bIsOpened=this.oItem.is_opened}}};const We=(0,H.Z)(Fe,[["render",Le]]);var Te=We,Re={name:"TreeList",components:{TreeItem:Te},emits:["clickitem"],props:{parent:{type:Number,default:0},list:Array,selected:[String,Number,null],level:{type:Number,default:0}},computed:{sParent(){return this.parent},aList(){return this.list},sSelectedID(){return this.selected},iLevel(){return this.level}},data(){return{}},methods:{fnSelectItem(e){this.$emit("clickitem",e)}}};const Ge=(0,H.Z)(Re,[["render",ke]]);var xe=Ge,Ue={name:"CatalogMode",components:{Dropdown:ae,TreeList:xe},computed:{...(0,a.rn)(d`sSelectedGroupID sSelectedCategoryID sSelectedArticleID`),...(0,a.Se)(d`oCurrentGroup oCurrentCategory oCurrentArticle`),aGroupList(){return this.$store.getters.fnFilterGroups(this.sGroupGilter)},aCategoryList(){return this.$store.getters.fnFilterCurrentCategories(this.sCategoryFilter)},aArticleList(){return this.$store.getters.fnFilterCurrentArticles(this.sArticleFilter)}},data(){return{sGroupGilter:"",sCategoryFilter:"",sArticleFilter:"",aGroupDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aCategoryDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aArticleDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnSelectGroup fnSelectCategory fnShowGroupEditWindow fnShowCategoryEditWindow fnShowArticleEditWindow fnAddFavorite`),...(0,a.nv)(d`fnSelectArticle fnRemoveGroup fnRemoveCategory fnRemoveArticle`),fnSelectCategoryItem(e){this.fnSelectCategory(e.id)},fnGroupClickItem(e){"add"==e.id&&this.fnShowGroupEditWindow(null),"edit"==e.id&&(this.oCurrentGroup?this.fnShowGroupEditWindow(this.oCurrentGroup):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentGroup?this.fnRemoveGroup(this.oCurrentGroup):alert("Нужно выбрать"))},fnCategoryClickItem(e){"add"==e.id&&this.fnShowCategoryEditWindow(null),"edit"==e.id&&(this.oCurrentCategory?this.fnShowCategoryEditWindow(this.oCurrentCategory):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentCategory?this.fnRemoveCategory(this.oCurrentCategory):alert("Нужно выбрать"))},fnArticleClickItem(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnAddFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}},created(){}};const Oe=(0,H.Z)(Ue,[["render",Se]]);var Me=Oe;const Ne={id:"mode-favorites",class:"mode"},He={class:"favorites-panel"},Pe={class:"actions-panel"},Ve={class:"list"},Ye=["onClick"],ze={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},Ke={class:"item-inner-title"};function $e(e,t,i,a,n,o){const s=(0,h.up)("Dropdown");return(0,h.wg)(),(0,h.iD)("div",Ne,[(0,h._)("div",He,[(0,h._)("div",Pe,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFavFilter=e)},null,512),[[w.nr,n.sFavFilter]]),(0,h.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnArticleClickItem},null,8,["items","onClickitem"])]),(0,h._)("div",Ve,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aFavList,((t,i)=>((0,h.wg)(),(0,h.iD)(h.HY,{key:i},[t&&t.id?((0,h.wg)(),(0,h.iD)("div",{key:0,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,h._)("a",ze,[(0,h._)("div",Ke,(0,C.zw)(t.name),1)])],10,Ye)):(0,h.kq)("",!0)],64)))),128))])])])}var Ze={name:"FavoritesMode",components:{Dropdown:ae},computed:{...(0,a.rn)(d`sSelectedArticleID oDatabase`),...(0,a.Se)(d`oCurrentArticle fnGetCategory`),aFavList(){return this.$store.state.oDatabase.favorites.map((e=>this.$store.state.oDatabase.articles.find((t=>t.id==e.article_id)))).filter((e=>~e?.name.indexOf(this.sFavFilter)))}},data(){return{sFavFilter:"",aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> Убрать из ибранного'}]}},methods:{...(0,a.OI)(d`fnShowArticleEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveArticle fnRemoveFavorite`),fnArticleClickItem(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnRemoveFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}}};const je=(0,H.Z)(Ze,[["render",$e]]);var Je=je;const Be={id:"mode-tags",class:"mode"},qe={class:"tags-panel"},Qe={class:"actions-panel"},Xe={class:"list"},et=["onClick"],tt={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},it={class:"item-inner-title"},at={class:"tags-articles-panel"},nt={class:"actions-panel"},ot={class:"list"},st=["onClick"],lt={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},rt={class:"item-inner-title"};function dt(e,t,i,a,n,o){const s=(0,h.up)("Dropdown");return(0,h.wg)(),(0,h.iD)("div",Be,[(0,h._)("div",qe,[(0,h._)("div",Qe,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sTagFilter=e)},null,512),[[w.nr,n.sTagFilter]]),(0,h.Wm)(s,{items:n.aTagDropdownMenu,onClickitem:o.fnTagClickItem},null,8,["items","onClickitem"])]),(0,h._)("div",Xe,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aTagsList,(t=>((0,h.wg)(),(0,h.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedTagID?"active":"")),onClick:i=>e.fnSelectTag(t.id)},[(0,h._)("a",tt,[(0,h._)("div",it,(0,C.zw)(t.name),1)])],10,et)))),128))])]),(0,h._)("div",at,[(0,h._)("div",nt,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>n.sArticleFilter=e)},null,512),[[w.nr,n.sArticleFilter]])]),(0,h._)("div",ot,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aArticlesList,(t=>((0,h.wg)(),(0,h.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,h._)("a",lt,[(0,h._)("div",rt,(0,C.zw)(t.name),1)])],10,st)))),128))])])])}var ct={name:"TagsMode",components:{Dropdown:ae},computed:{...(0,a.rn)(d`sSelectedTagID sSelectedArticleID`),...(0,a.Se)(d`oCurrentTag`),aTagsList(){return this.$store.getters.fnFilterTags(this.sTagFilter)},aArticlesList(){return this.$store.getters.fnFilterCurrentTagsArticles(this.sArticleFilter)}},data(){return{sTagFilter:"",sArticleFilter:"",aTagDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aArticleDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnSelectTag fnShowTagEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveTag`),fnTagClickItem(e){"add"==e.id&&this.fnShowTagEditWindow(null),"edit"==e.id&&(this.oCurrentTag?this.fnShowTagEditWindow(this.oCurrentTag):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentTag?this.fnRemoveTag(this.oCurrentTag):alert("Нужно выбрать"))}}};const ut=(0,H.Z)(ct,[["render",dt]]);var mt=ut;const pt={id:"mode-links",class:"mode"},ft={class:"links-panel"},gt={class:"actions-panel"},bt={class:"list"},vt=["onClick"],wt={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},ht={class:"item-inner-title"},Ct=["href"],_t={class:"item-inner-title"};function yt(e,t,i,a,n,o){const s=(0,h.up)("Dropdown");return(0,h.wg)(),(0,h.iD)("div",pt,[(0,h._)("div",ft,[(0,h._)("div",gt,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFilter=e)},null,512),[[w.nr,n.sFilter]]),(0,h.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnClickItem},null,8,["items","onClickitem"])]),(0,h._)("div",bt,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aLinkList,(t=>((0,h.wg)(),(0,h.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row item-links-row "+(t.id==e.sSelectedLinkID?"active":"")),onClick:i=>e.fnSelectLink(t.id)},[(0,h._)("a",wt,[(0,h._)("div",ht,(0,C.zw)(t.name),1)]),(0,h._)("a",{href:t.url,class:"list-group-item list-group-item-action item-title link"},[(0,h._)("div",_t,(0,C.zw)(t.url),1)],8,Ct)],10,vt)))),128))])])])}var St={name:"LinksMode",components:{Dropdown:ae},computed:{...(0,a.rn)(d`sSelectedLinkID`),...(0,a.Se)(d`oCurrentLink`),aLinkList(){return this.$store.getters.fnFilterLinks(this.sFilter)}},data(){return{sFilter:"",sSelectedID:null,oSelectedLink:null,aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}]}},methods:{...(0,a.OI)(d`fnSelectLink fnShowLinkEditWindow`),...(0,a.nv)(d`fnRemoveLink`),fnClickItem(e){"add"==e.id&&this.fnShowLinkEditWindow(null),"edit"==e.id&&(this.oCurrentLink?this.fnShowLinkEditWindow(this.oCurrentLink):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentLink?this.fmRemoveLink(this.oCurrentLink):alert("Нужно выбрать"))}}};const kt=(0,H.Z)(St,[["render",yt]]);var Dt=kt;const It=(0,h._)("div",{class:"block-overlay"},null,-1),At={class:"modal fade show",id:"modal-error",tabindex:"-1"},Et={class:"modal-dialog"},Lt={class:"modal-content"},Ft={class:"modal-header"},Wt={class:"modal-title"},Tt={class:"modal-body"},Rt=(0,h._)("div",{class:"modal-footer"},null,-1);function Gt(e,t,i,a,n,o){return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",null,[It,(0,h._)("div",At,[(0,h._)("div",Et,[(0,h._)("div",Lt,[(0,h._)("div",Ft,[(0,h._)("h5",Wt,(0,C.zw)(e.title),1),(0,h._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,h._)("div",Tt,(0,C.zw)(e.message),1),Rt])])])],512)),[[w.F8,e.bShowErrorWindow]])}var xt={computed:{...u("bShowErrorWindow")},methods:{fnClose(){this.bShowErrorWindow=!1}}};const Ut=(0,H.Z)(xt,[["render",Gt]]);var Ot=Ut;const Mt=(0,h._)("div",{class:"block-overlay"},null,-1),Nt={id:"modal-ask-api-key",class:"modal show",tabindex:"-1"},Ht={class:"modal-dialog"},Pt={class:"modal-content"},Vt=(0,h._)("div",{class:"modal-header"},[(0,h._)("h5",{class:"modal-title"},"Данные репозитория")],-1),Yt={class:"modal-body",style:{height:"500px","overflow-y":"scroll"}},zt={class:"modal-ask-api_list_buttons"},Kt=(0,h._)("div",null,null,-1),$t={class:"mb-3"},Zt=(0,h._)("label",{for:"",class:"form-label"},"Логин",-1),jt=(0,h._)("option",{value:"github"},"github",-1),Jt=(0,h._)("option",{value:"webdav"},"webdav",-1),Bt=[jt,Jt],qt={class:"mb-3"},Qt=(0,h._)("label",{for:"",class:"form-label"},"Название",-1),Xt={class:"mb-3"},ei=(0,h._)("label",{for:"",class:"form-label"},"Логин",-1),ti={class:"mb-3"},ii=(0,h._)("label",{for:"",class:"form-label"},"Репозиторий",-1),ai={class:"mb-3"},ni=(0,h._)("label",{for:"",class:"form-label"},"API Ключ",-1),oi={class:"mb-3"},si=(0,h._)("label",{for:"",class:"form-label"},"URL",-1),li={class:"mb-3"},ri=(0,h._)("label",{for:"",class:"form-label"},"Пользователь",-1),di={class:"mb-3"},ci=(0,h._)("label",{for:"",class:"form-label"},"Пароль",-1),ui={class:"modal-ask-api_list_buttons"},mi=(0,h._)("div",null,null,-1),pi={class:"list-repo-item_desc"},fi={class:"list-repo-item_title"},gi={class:"list-repo-item_type"},bi={class:"list-repo-item_name"},vi=(0,h._)("b",null,"login:",-1),wi=(0,h._)("b",null,"repo:",-1),hi=(0,h._)("b",null,"key:",-1),Ci=(0,h._)("b",null,"url:",-1),_i=(0,h._)("b",null,"username:",-1),yi=(0,h._)("b",null,"password:",-1),Si=["onClick"],ki=(0,h._)("i",{class:"bi bi-pencil"},null,-1),Di=[ki],Ii=["onClick"],Ai=(0,h._)("i",{class:"bi bi-trash"},null,-1),Ei=[Ai],Li=["onClick"],Fi=(0,h._)("i",{class:"bi bi-star-fill"},null,-1),Wi=[Fi],Ti={class:"modal-footer"};function Ri(e,t,i,a,n,o){return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",null,[Mt,(0,h._)("div",Nt,[(0,h._)("div",Ht,[(0,h._)("div",Pt,[Vt,(0,h._)("div",Yt,[null!==n.iEditIndex?((0,h.wg)(),(0,h.iD)(h.HY,{key:0},[(0,h._)("div",zt,[Kt,(0,h._)("div",null,[(0,h._)("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>o.fnCancelRepo&&o.fnCancelRepo(...e))},"Отмена"),(0,h._)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>o.fnSaveRepo&&o.fnSaveRepo(...e))},"Сохранить")])]),(0,h._)("div",$t,[Zt,(0,h.wy)((0,h._)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>n.sFromType=e)},Bt,512),[[w.bM,n.sFromType]])]),(0,h._)("div",qt,[Qt,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=t=>e.sFormName=t)},null,512),[[w.nr,e.sFormName]])]),"github"==n.sFromType?((0,h.wg)(),(0,h.iD)(h.HY,{key:0},[(0,h._)("div",Xt,[ei,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>n.sFormLogin=e)},null,512),[[w.nr,n.sFormLogin]])]),(0,h._)("div",ti,[ii,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>n.sFormRepo=e)},null,512),[[w.nr,n.sFormRepo]])]),(0,h._)("div",ai,[ni,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>n.sFormKey=e)},null,512),[[w.nr,n.sFormKey]])])],64)):(0,h.kq)("",!0),"webdav"==n.sFromType?((0,h.wg)(),(0,h.iD)(h.HY,{key:1},[(0,h._)("div",oi,[si,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>n.sFormURL=e)},null,512),[[w.nr,n.sFormURL]])]),(0,h._)("div",li,[ri,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=t=>e.sFormUsername=t)},null,512),[[w.nr,e.sFormUsername]])]),(0,h._)("div",di,[ci,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=t=>e.sFormPassword=t)},null,512),[[w.nr,e.sFormPassword]])])],64)):(0,h.kq)("",!0)],64)):((0,h.wg)(),(0,h.iD)(h.HY,{key:1},[(0,h._)("div",ui,[mi,(0,h._)("div",null,[(0,h._)("button",{class:"btn btn-secondary",onClick:t[10]||(t[10]=(...e)=>o.fnExport&&o.fnExport(...e))},"Экспортировать"),(0,h._)("button",{class:"btn btn-danger",onClick:t[11]||(t[11]=(...e)=>o.fnCleanRepo&&o.fnCleanRepo(...e))},"Очистить"),(0,h._)("button",{class:"btn btn-success",onClick:t[12]||(t[12]=(...e)=>o.fnNewRepo&&o.fnNewRepo(...e))},"Добавить")])]),((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(e.aReposList,((t,i)=>((0,h.wg)(),(0,h.iD)("div",{key:i,class:(0,C.C_)("list-repo-item "+(e.iSelectedRepoIndex==i?"active":""))},[t?((0,h.wg)(),(0,h.iD)(h.HY,{key:0},[(0,h._)("div",pi,[(0,h._)("div",fi,[(0,h._)("div",gi,(0,C.zw)(t.type),1),(0,h._)("div",bi,(0,C.zw)(t.name),1)]),"github"==t.type?((0,h.wg)(),(0,h.iD)(h.HY,{key:0},[(0,h._)("div",null,[vi,(0,h.Uk)(" "+(0,C.zw)(t.login),1)]),(0,h._)("div",null,[wi,(0,h.Uk)(" "+(0,C.zw)(t.repo),1)]),(0,h._)("div",null,[hi,(0,h.Uk)(" "+(0,C.zw)(t.key),1)])],64)):(0,h.kq)("",!0),"webdav"==t.type?((0,h.wg)(),(0,h.iD)(h.HY,{key:1},[(0,h._)("div",null,[Ci,(0,h.Uk)(" "+(0,C.zw)(t.url),1)]),(0,h._)("div",null,[_i,(0,h.Uk)(" "+(0,C.zw)(t.username),1)]),(0,h._)("div",null,[yi,(0,h.Uk)(" "+(0,C.zw)(t.password),1)])],64)):(0,h.kq)("",!0)]),(0,h._)("div",null,[(0,h._)("button",{class:"btn btn-success",onClick:e=>o.fnEditRepo(i),title:"Редактировать"},Di,8,Si),(0,h._)("button",{class:"btn btn-danger",onClick:e=>o.fnRemoveRepo(i),title:"Удалить"},Ei,8,Ii),(0,h._)("button",{class:"btn btn-info",onClick:e=>o.fnSelectRepo(i),title:"Выбрать"},Wi,8,Li)])],64)):(0,h.kq)("",!0)],2)))),128))],64))]),(0,h._)("div",Ti,[(0,h._)("button",{class:"btn btn-success",onClick:t[13]||(t[13]=e=>o.fnAcceptRepo())},"Выбрать")])])])])],512)),[[w.F8,e.bShowRepoWindow]])}var Gi={name:"AskAPIWindow",components:{},computed:{...(0,a.rn)(d`aReposList iSelectedRepoIndex bShowRepoWindow`)},data(){return{iEditIndex:null,sFormLogin:"",sFormRepo:"",sFormKey:"",sFormURL:"",sFromType:"github"}},methods:{...(0,a.OI)(d`fnReposRemove fnReposSelect fnReposClean fnReposUpdate`),...(0,a.nv)(d`fnPrepareRepo`),fnSaveRepo(){if(this.sFormName){var e={name:this.sFormName,login:this.sFormLogin,repo:this.sFormRepo,key:this.sFormKey,type:this.sFromType,url:this.sFormURL,username:this.sFormUsername,password:this.sFormPassword};this.fnReposUpdate({iIndex:this.iEditIndex,oObj:e}),_l(this.aReposList),this.iEditIndex=null}else alert("Надо заполнить поле - Название")},fnNewRepo(){this.iEditIndex=-1,this.sFormName="",this.sFormLogin="",this.sFormRepo="",this.sFormKey="",this.sFormType="github",this.sFormURL="",this.sFormUsername="",this.sFormPassword=""},fnEditRepo(e){this.iEditIndex=e;var t=this.aReposList[this.iEditIndex];this.sFormName=t.name,this.sFormLogin=t.login,this.sFormRepo=t.repo,this.sFormKey=t.key,this.sFormType=t.type,this.sFormURL=t.url,this.sFormUsername=t.username,this.sFormPassword=t.password},fnRemoveRepo(e){this.fnReposRemove(e)},fnSelectRepo(e){this.fnReposSelect(e)},fnCleanRepo(){this.fnReposClean()},fnCancelRepo(){this.iEditIndex=null},fnAcceptRepo(){if(!this.aReposList[this.iSelectedRepoIndex])return alert("Нужно выбрать репозиторий");this.fnPrepareRepo()},fnExport(){p("database",JSON.stringify(this.aReposList))}},created(){}};const xi=(0,H.Z)(Gi,[["render",Ri]]);var Ui=xi;const Oi=(0,h._)("div",{class:"block-overlay"},null,-1),Mi={class:"modal show",id:"modal-edit-article",tabindex:"-1"},Ni={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Hi={class:"modal-content"},Pi={class:"modal-header"},Vi=(0,h._)("h5",{class:"modal-title"},"Статья",-1),Yi={class:"modal-body"},zi={class:"mb-3"},Ki=(0,h._)("label",{for:"",class:"form-label"},"Название",-1),$i={class:"modal-footer"};function Zi(e,t,i,a,n,o){return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",null,[Oi,(0,h._)("div",Mi,[(0,h._)("div",Ni,[(0,h._)("div",Hi,[(0,h._)("div",Pi,[Vi,(0,h._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,h._)("div",Yi,[(0,h._)("div",zi,[Ki,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sGroupEditWindowGroupName=t)},null,512),[[w.nr,e.sGroupEditWindowGroupName]])])]),(0,h._)("div",$i,[(0,h._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,h._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowGroupEditWindow]])}var ji={name:"EditGroup",props:{},computed:{...(0,a.rn)(d`bShowGroupEditWindow`),...u("sGroupEditWindowGroupName")},methods:{...(0,a.OI)(d`fnHideGroupEditWindow`),...(0,a.nv)(d`fnSaveGroup`),fnSave(){this.fnSaveGroup(),this.fnHideGroupEditWindow()},fnClose(){this.fnHideGroupEditWindow()}}};const Ji=(0,H.Z)(ji,[["render",Zi]]);var Bi=Ji;const qi=(0,h._)("div",{class:"block-overlay"},null,-1),Qi={class:"modal show",id:"modal-edit-category",tabindex:"-1"},Xi={class:"modal-dialog"},ea={class:"modal-content"},ta={class:"modal-header"},ia=(0,h._)("h5",{class:"modal-title"},"Редактирование категории",-1),aa={class:"modal-body"},na={class:"mb-3"},oa=(0,h._)("label",{for:"",class:"form-label"},"Родительская группа",-1),sa=["value"],la={class:"mb-3"},ra=(0,h._)("label",{for:"",class:"form-label"},"Родительская категория",-1),da=["value"],ca={class:"mb-3"},ua=(0,h._)("label",{for:"",class:"form-label"},"Название",-1),ma={class:"modal-footer"};function pa(e,t,i,a,n,o){return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",null,[qi,(0,h._)("div",Qi,[(0,h._)("div",Xi,[(0,h._)("div",ea,[(0,h._)("div",ta,[ia,(0,h._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,h._)("div",aa,[(0,h._)("div",na,[oa,(0,h._)("div",null,[(0,h.wy)((0,h._)("select",{id:"edit-category-group",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sCategoryEditWindowGroupID=t)},[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(e.aGroupsList,(e=>((0,h.wg)(),(0,h.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,sa)))),128))],512),[[w.bM,e.sCategoryEditWindowGroupID]])])]),(0,h._)("div",la,[ra,(0,h._)("div",null,[(0,h.wy)((0,h._)("select",{id:"edit-category-parent",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sCategoryEditWindowCategoryID=t)},[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aCategoriesList,(e=>((0,h.wg)(),(0,h.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,da)))),128))],512),[[w.bM,e.sCategoryEditWindowCategoryID]])])]),(0,h._)("div",ca,[ua,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control",id:"edit-category-name","aria-describedby":"","onUpdate:modelValue":t[3]||(t[3]=t=>e.sCategoryEditWindowCategoryName=t)},null,512),[[w.nr,e.sCategoryEditWindowCategoryName]])])]),(0,h._)("div",ma,[(0,h._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,h._)("button",{id:"category-edit-save",type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowCategoryEditWindow]])}var fa={name:"EditCategory",props:{},computed:{...(0,a.rn)(d`bShowCategoryEditWindow`),...(0,a.Se)(d`aGroupsList`),...u("sCategoryEditWindowCategoryName sCategoryEditWindowGroupID sCategoryEditWindowCategoryID"),aCategoriesList(){return this.$store.getters.fnFilterCategoriesByGroup(this.sCategoryEditWindowGroupID)}},data(){return{}},methods:{...(0,a.OI)(d`fnHideCategoryEditWindow`),...(0,a.nv)(d`fnSaveCategory`),fnSave(){this.fnSaveCategory(),this.fnHideCategoryEditWindow()},fnClose(){this.fnHideCategoryEditWindow()}}};const ga=(0,H.Z)(fa,[["render",pa]]);var ba=ga;const va=(0,h._)("div",{class:"block-overlay"},null,-1),wa={class:"modal show",id:"modal-edit-category",tabindex:"-1"},ha={class:"modal-dialog"},Ca={class:"modal-content"},_a={class:"modal-header"},ya=(0,h._)("h5",{class:"modal-title"},"Редактирование категории",-1),Sa={class:"modal-body"},ka={class:"mb-3"},Da=(0,h._)("label",{for:"",class:"form-label"},"Родительская группа",-1),Ia=["value"],Aa={class:"mb-3"},Ea=(0,h._)("label",{for:"",class:"form-label"},"Родительская категория",-1),La=["value"],Fa={class:"mb-3"},Wa=(0,h._)("label",{for:"",class:"form-label"},"Название",-1),Ta={class:"modal-footer"};function Ra(e,t,i,a,n,o){return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",null,[va,(0,h._)("div",wa,[(0,h._)("div",ha,[(0,h._)("div",Ca,[(0,h._)("div",_a,[ya,(0,h._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,h._)("div",Sa,[(0,h._)("div",ka,[Da,(0,h._)("div",null,[(0,h.wy)((0,h._)("select",{id:"edit-category-group",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sArticleEditWindowGroupID=t)},[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(e.aGroupsList,(e=>((0,h.wg)(),(0,h.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,Ia)))),128))],512),[[w.bM,e.sArticleEditWindowGroupID]])])]),(0,h._)("div",Aa,[Ea,(0,h._)("div",null,[(0,h.wy)((0,h._)("select",{id:"edit-category-parent",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sArticleEditWindowCategoryID=t)},[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aCategoriesList,(e=>((0,h.wg)(),(0,h.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,La)))),128))],512),[[w.bM,e.sArticleEditWindowCategoryID]])])]),(0,h._)("div",Fa,[Wa,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control",id:"edit-category-name","aria-describedby":"","onUpdate:modelValue":t[3]||(t[3]=t=>e.sArticleEditWindowArticleName=t)},null,512),[[w.nr,e.sArticleEditWindowArticleName]])])]),(0,h._)("div",Ta,[(0,h._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,h._)("button",{id:"category-edit-save",type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowArticleEditWindow]])}var Ga={name:"EditArticle",props:{},computed:{...(0,a.rn)(d`bShowArticleEditWindow`),...(0,a.Se)(d`aGroupsList fnFilterCategoriesByGroup`),...u("sArticleEditWindowArticleName sArticleEditWindowGroupID sArticleEditWindowCategoryID"),aCategoriesList(){return this.$store.getters.fnFilterCategoriesByGroup(this.sArticleEditWindowGroupID)}},data(){return{bShowWindow:!1}},methods:{...(0,a.OI)(d`fnHideArticleEditWindow`),...(0,a.nv)(d`fnSaveArticle`),fnSave(){this.fnSaveArticle(),this.fnHideArticleEditWindow()},fnClose(){this.fnHideArticleEditWindow()}}};const xa=(0,H.Z)(Ga,[["render",Ra]]);var Ua=xa;const Oa=(0,h._)("div",{class:"block-overlay"},null,-1),Ma={class:"modal show",id:"modal-edit-article",tabindex:"-1"},Na={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Ha={class:"modal-content"},Pa={class:"modal-header"},Va=(0,h._)("h5",{class:"modal-title"},"Статья",-1),Ya={class:"modal-body"},za={class:"mb-3"},Ka=(0,h._)("label",{for:"",class:"form-label"},"Название",-1),$a={class:"mb-3"},Za=(0,h._)("label",{for:"",class:"form-label"},"URL",-1),ja={class:"modal-footer"};function Ja(e,t,i,a,n,o){return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",null,[Oa,(0,h._)("div",Ma,[(0,h._)("div",Na,[(0,h._)("div",Ha,[(0,h._)("div",Pa,[Va,(0,h._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,h._)("div",Ya,[(0,h._)("div",za,[Ka,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sLinkEditWindowLinkName=t)},null,512),[[w.nr,e.sLinkEditWindowLinkName]])]),(0,h._)("div",$a,[Za,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sLinkEditWindowLinkURL=t)},null,512),[[w.nr,e.sLinkEditWindowLinkURL]])])]),(0,h._)("div",ja,[(0,h._)("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,h._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[4]||(t[4]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowLinkEditWindow]])}var Ba={name:"EditLink",props:{},computed:{...(0,a.rn)(d`bShowLinkEditWindow`),...u("sLinkEditWindowLinkName sLinkEditWindowLinkURL")},data(){return{}},methods:{...(0,a.OI)(d`fnHideLinkEditWindow`),...(0,a.nv)(d`fnSaveLink`),fnClose(){this.fnHideLinkEditWindow()},fnSave(){this.fnSaveLink(),this.fnHideLinkEditWindow()}}};const qa=(0,H.Z)(Ba,[["render",Ja]]);var Qa=qa;const Xa=(0,h._)("div",{class:"block-overlay"},null,-1),en={class:"modal show",id:"modal-edit-article",tabindex:"-1"},tn={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},an={class:"modal-content"},nn={class:"modal-header"},on=(0,h._)("h5",{class:"modal-title"},"Статья",-1),sn={class:"modal-body"},ln={class:"mb-3"},rn=(0,h._)("label",{for:"",class:"form-label"},"Название",-1),dn={class:"modal-footer"};function cn(e,t,i,a,n,o){return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",null,[Xa,(0,h._)("div",en,[(0,h._)("div",tn,[(0,h._)("div",an,[(0,h._)("div",nn,[on,(0,h._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,h._)("div",sn,[(0,h._)("div",ln,[rn,(0,h.wy)((0,h._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sTagEditWindowTagName=t)},null,512),[[w.nr,e.sTagEditWindowTagName]])])]),(0,h._)("div",dn,[(0,h._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,h._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowTagEditWindow]])}var un={name:"EditGroup",props:{},computed:{...(0,a.rn)(d`bShowTagEditWindow`),...u("sTagEditWindowTagName")},data(){return{}},methods:{...(0,a.OI)(d`fnHideTagEditWindow`),...(0,a.nv)(d`fnSaveTag`),fnClose(){this.fnHideTagEditWindow()},fnSave(){this.fnSaveTag(),this.fnHideTagEditWindow()}}};const mn=(0,H.Z)(un,[["render",cn]]);var pn=mn;const fn={class:"page-panel"},gn={class:"actions-panel page-actions-panel"},bn=(0,h._)("i",{class:"bi bi-save"},null,-1),vn=[bn],wn=(0,h._)("i",{class:"bi bi-link-45deg"},null,-1),hn=[wn],Cn=(0,h._)("i",{class:"bi bi-file-code"},null,-1),_n=[Cn],yn=(0,h._)("i",{class:"bi bi-tags"},null,-1),Sn=[yn],kn=(0,h._)("i",{class:"bi bi-image"},null,-1),Dn=[kn],In=(0,h._)("i",{class:"bi bi-journal-text"},null,-1),An=[In],En=(0,h._)("div",{class:"actions-panel-spacer"},null,-1),Ln=(0,h._)("i",{class:"bi bi-x-lg"},null,-1),Fn=[Ln],Wn={class:"tab-page"},Tn={class:"tab-page-tags"},Rn={class:"tab-page-images"},Gn={class:"actions-panel"},xn={class:"list"},Un=(0,h._)("a",{class:(0,C.C_)("list-group-item list-group-item-action item-title ")},[(0,h._)("div",{class:"item-inner-title"},[(0,h._)("img",{src:""})])],-1),On=(0,h._)("div",{class:"image-path"},null,-1),Mn=[Un,On],Nn={class:"tab-page-comments"},Hn={class:"actions-panel"},Pn=(0,h._)("div",null,null,-1);function Vn(e,t,i,a,n,o){const s=(0,h.up)("ckeditor"),l=(0,h.up)("TagsSelector");return(0,h.wy)(((0,h.wg)(),(0,h.iD)("div",fn,[(0,h._)("div",gn,[(0,h._)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>o.fnSaveEditorContents&&o.fnSaveEditorContents(...e))},vn),(0,h._)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...e)=>o.fnOpenLink&&o.fnOpenLink(...e))},hn),(0,h._)("button",{class:(0,C.C_)("btn "+("page"==n.sCurrentTab?"btn-primary":"")),onClick:t[2]||(t[2]=e=>n.sCurrentTab="page")},_n,2),(0,h._)("button",{class:(0,C.C_)("btn "+("tags"==n.sCurrentTab?"btn-primary":"")),onClick:t[3]||(t[3]=e=>n.sCurrentTab="tags")},Sn,2),(0,h._)("button",{class:(0,C.C_)("btn "+("images"==n.sCurrentTab?"btn-primary":"")),onClick:t[4]||(t[4]=e=>n.sCurrentTab="images")},Dn,2),(0,h._)("button",{class:(0,C.C_)("btn "+("comments"==n.sCurrentTab?"btn-primary":"")),onClick:t[5]||(t[5]=e=>n.sCurrentTab="comments")},An,2),En,(0,h._)("button",{class:"btn btn-danger",onClick:t[6]||(t[6]=(...e)=>o.fnClose&&o.fnClose(...e))},Fn)]),(0,h.wy)((0,h._)("div",Wn,[(0,h.Wm)(s,{editor:n.oClassicEditor,modelValue:n.sData,"onUpdate:modelValue":t[7]||(t[7]=e=>n.sData=e),config:n.oEditorConfig,ref:"editorjs",style:{height:"100%"},onReady:o.onEditorReady,onInput:o.onEditorInput},null,8,["editor","modelValue","config","onReady","onInput"])],512),[[w.F8,"page"==n.sCurrentTab]]),(0,h.wy)((0,h._)("div",Tn,[(0,h.Wm)(l,{id:n.sArticleID},null,8,["id"])],512),[[w.F8,"tags"==n.sCurrentTab]]),(0,h.wy)((0,h._)("div",Rn,[(0,h._)("div",Gn,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[8]||(t[8]=e=>n.sImagesFilter=e),onInput:t[9]||(t[9]=(...e)=>o.fnImagesFilter&&o.fnImagesFilter(...e))},null,544),[[w.nr,n.sImagesFilter]])]),(0,h._)("div",xn,[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(n.aImagesList,(e=>((0,h.wg)(),(0,h.iD)("div",{key:e.id,class:(0,C.C_)("input-group item-row item-image-row")},Mn)))),128))])],512),[[w.F8,"images"==n.sCurrentTab]]),(0,h.wy)((0,h._)("div",Nn,[(0,h._)("div",Hn,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[10]||(t[10]=e=>n.sCommentsFilter=e),onInput:t[11]||(t[11]=(...e)=>o.fnCommentsFilter&&o.fnCommentsFilter(...e))},null,544),[[w.nr,n.sCommentsFilter]])]),Pn],512),[[w.F8,"comments"==n.sCurrentTab]])],512)),[[w.F8,e.bShowEditor]])}const Yn={class:"selecteion-tag-panel"},zn={class:"left-tag-panel"},Kn={class:"actions-panel"},$n=(0,h._)("i",{class:"bi bi-arrow-repeat"},null,-1),Zn=[$n],jn={class:"selector"},Jn=["value"],Bn={class:"middle-tag-panel"},qn=(0,h._)("i",{class:"bi bi-chevron-double-left"},null,-1),Qn=[qn],Xn=(0,h._)("i",{class:"bi bi-chevron-compact-left"},null,-1),eo=[Xn],to=(0,h._)("i",{class:"bi bi-chevron-compact-right"},null,-1),io=[to],ao=(0,h._)("i",{class:"bi bi-chevron-double-right"},null,-1),no=[ao],oo={class:"right-tag-panel"},so={class:"actions-panel"},lo=(0,h._)("i",{class:"bi bi-arrow-repeat"},null,-1),ro=[lo],co={class:"selector"},uo=["value"];function mo(e,t,i,a,n,o){return(0,h.wg)(),(0,h.iD)("div",Yn,[(0,h._)("div",zn,[(0,h._)("div",Kn,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sAllTagFilter=e)},null,512),[[w.nr,n.sAllTagFilter]]),(0,h._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>o.fnAllTagsFilter&&o.fnAllTagsFilter(...e))},Zn)]),(0,h._)("div",jn,[(0,h.wy)((0,h._)("select",{multiple:"",size:"10","onUpdate:modelValue":t[2]||(t[2]=e=>n.aSelectedAllTags=e)},[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(o.aTagsList,(e=>((0,h.wg)(),(0,h.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,Jn)))),128))],512),[[w.bM,n.aSelectedAllTags]])])]),(0,h._)("div",Bn,[(0,h._)("button",{class:"btn",onClick:t[3]||(t[3]=(...e)=>o.fnMoveAllLeft&&o.fnMoveAllLeft(...e))},Qn),(0,h._)("button",{class:"btn",onClick:t[4]||(t[4]=(...e)=>o.fnMoveOneLeft&&o.fnMoveOneLeft(...e))},eo),(0,h._)("button",{class:"btn",onClick:t[5]||(t[5]=(...e)=>o.fnMoveOneRight&&o.fnMoveOneRight(...e))},io),(0,h._)("button",{class:"btn",onClick:t[6]||(t[6]=(...e)=>o.fnMoveAllRight&&o.fnMoveAllRight(...e))},no)]),(0,h._)("div",oo,[(0,h._)("div",so,[(0,h.wy)((0,h._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[7]||(t[7]=e=>n.sSelectedTagFilter=e),onInput:t[8]||(t[8]=(...e)=>o.fnSelectedTagsFilter&&o.fnSelectedTagsFilter(...e))},null,544),[[w.nr,n.sSelectedTagFilter]]),(0,h._)("button",{class:"btn",onClick:t[9]||(t[9]=(...e)=>o.fnSelectedTagsFilter&&o.fnSelectedTagsFilter(...e))},ro)]),(0,h._)("div",co,[(0,h.wy)((0,h._)("select",{multiple:"",size:"10","onUpdate:modelValue":t[10]||(t[10]=e=>n.aSelectedArticleTags=e)},[((0,h.wg)(!0),(0,h.iD)(h.HY,null,(0,h.Ko)(n.aSelectedTagsList,(e=>((0,h.wg)(),(0,h.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,uo)))),128))],512),[[w.bM,n.aSelectedArticleTags]])])])])}var po={name:"TagsSelector",props:{id:[String,null]},computed:{...(0,a.rn)(d`sSelectedTagID`),...(0,a.Se)(d`oCurrentTag`),sID(){return this.id},aTagsList(){return this.$store.getters.fnFilterTags(this.sTagFilter)}},data(){return{sAllTagFilter:"",sSelectedTagFilter:"",aAllTagsList:[],aSelectedTagsList:[],aSelectedAllTags:[],aSelectedArticleTags:[]}},watch:{id(e,t){var i=this;i.fnAllTagsFilter(),i.fnSelectedTagsFilter()}},methods:{...(0,a.OI)(d`fnSelectTag fnShowTagEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveTag`),fnAllTagsFilter(){},fnSelectedTagsFilter(){},fnMoveAllLeft(){},fnMoveOneLeft(){},fnMoveOneRight(){},fnMoveAllRight(){}},mounted(){}};const fo=(0,H.Z)(po,[["render",mo]]);var go=fo,bo=i(6713),vo=i.n(bo),wo={name:"PageEditor",props:[],components:{TagsSelector:go},computed:{...(0,a.rn)(d`bShowEditor sArticleContent`)},data(){return{sCurrentTab:"page",sImagesFilter:"",sCommentsFilter:"",sData:"",sArticleID:null,oArticle:null,oEditor:null,oClassicEditor:vo(),oEditorConfig:{},aImagesList:[]}},watch:{sArticleContent(e,t){this.oEditor.setData(e)}},methods:{...(0,a.OI)(d`fnHideEditor`),...(0,a.nv)(d`fnSaveArticleContent fnSaveArticlePage`),onEditorReady(e){_l("onEditorReady"),this.oEditor=e,e.editing.view.change((t=>{t.setStyle("height","calc(100vh - 20px - 40px - 30px)",e.editing.view.document.getRoot())}))},onEditorInput(){this.fnSaveEditorContents()},fnSaveEditorContents(){this.oEditor&&(this.fnSaveArticleContent(this.oEditor.getData()),this.fnSaveArticlePage())},fnOpenLink(){},fnImagesFilter(){},fnCommentsFilter(){},fnClose(){this.fnHideEditor()}},mounted(){}};const ho=(0,H.Z)(wo,[["render",Vn]]);var Co=ho;const _o={class:"toast-container position-fixed top-0 end-0 p-3"},yo={class:"toast fade show",role:"alert","aria-live":"assertive","aria-atomic":"true"},So=(0,h._)("div",{class:"toast-header"},[(0,h._)("strong",{class:"me-auto"},"Сохранено"),(0,h._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1),ko=(0,h._)("div",{class:"toast-body"}," Данные были сохранены ",-1),Do=[So,ko];function Io(e,t,i,a,n,o){return(0,h.wg)(),(0,h.iD)("div",_o,[(0,h.wy)((0,h._)("div",yo,Do,512),[[w.F8,e.bShowSaveToast]])])}var Ao={name:"SavedToast",components:{},computed:{...u("bShowSaveToast")},data(){return{}},watch:{bShowSaveToast(e,t){e&&setTimeout((()=>{this.bShowSaveToast=!1}),2e3)}}};const Eo=(0,H.Z)(Ao,[["render",Io]]);var Lo=Eo,Fo={name:"App",components:{Loader:V,ListMode:se,CatalogMode:Me,FavoritesMode:Je,TagsMode:mt,LinksMode:Dt,ErrorWindow:Ot,AskAPIWindow:Ui,PageEditor:Co,SavedToast:Lo,EditGroup:Bi,EditCategory:ba,EditArticle:Ua,EditLink:Qa,EditTag:pn},computed:{...(0,a.rn)(d`bShowRepoWindow sSelectedArticleID`),...u("bShowSaveToast"),sCurrentMode:{set(e){this.$store.commit("fnUpdateMode",e)},get(){return this.$store.state.sCurrentMode}}},data(){return{aMenu:[{class:"app-mode-list",title:"Список",icon:"bi-justify"},{class:"app-mode-catalog",title:"Каталог",icon:"bi-grid-1x2"},{class:"app-mode-favorites",title:"Избранное",icon:"bi-star-fill"},{class:"app-mode-tags",title:"Тэги",icon:"bi-tags"},{class:"app-mode-links",title:"Ссылки",icon:"bi-link"},{class:"app-publish-btn",title:"Публикация",icon:"bi-journal-arrow-up"},{class:"app-export-btn",title:"Экспорт",icon:"bi-download"},{class:"app-import-btn",title:"Импорт",icon:"bi-upload"}]}},methods:{...(0,a.OI)(d`fnLoadRepos fnShowRepoWindow fnCleanDatabase`),...(0,a.nv)(d`fnSaveDatabase fnSaveArticlePage`),fnMenuItemClick(e){"app-publish-btn"==e.class||("app-export-btn"==e.class?p("database",JSON.stringify(this.$store.state.oDatabase)):"app-import-btn"==e.class||(this.sCurrentMode=e.class))},fnSaveAll(){this.sSelectedArticleID&&this.fnSaveArticlePage(),this.fnSaveDatabase(),this.bShowSaveToast=!0},fnClearDatabase(){confirm("Все данные будут удалены. Продолжить?")&&(this.fnCleanDatabase(),this.fnSaveDatabase(),this.bShowSaveToast=!0)}},mounted(){var e=this;document.addEventListener("keydown",(t=>{t.ctrlKey&&83===t.keyCode&&(t.preventDefault(),_l("CTRL + S"),e.fnSaveAll())}))},created(){this.fnLoadRepos()}};const Wo=(0,H.Z)(Fo,[["render",G]]);var To=Wo,Ro=i(9907),Go=i.n(Ro);i.g._l=(...e)=>(console.log.apply(console,e),e[0]),i.g._s=()=>{var e=new Error;console.trace(e.stack.match(/at ([^\n]*)/g)[1])},(0,w.ri)(To).use(v).use(Go()).mount("#app")}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a](o,o.exports,i),o.loaded=!0,o.exports}i.m=e,function(){var e=[];i.O=function(t,a,n,o){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var l=!0,r=0;r<a.length;r++)(!1&o||s>=o)&&Object.keys(i.O).every((function(e){return i.O[e](a[r])}))?a.splice(r--,1):(l=!1,o<s&&(s=o));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,s=a[0],l=a[1],r=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(r)var c=r(i)}for(t&&t(a);d<s.length;d++)o=s[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},a=self["webpackChunkwapp_github_blog_engine_vue"]=self["webpackChunkwapp_github_blog_engine_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(8464)}));a=i.O(a)})();
//# sourceMappingURL=app.ad82f2c1.js.map