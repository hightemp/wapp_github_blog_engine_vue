(function(){"use strict";var e={4757:function(e,t,i){i(7658);var a=i(7139),s=i(7327),o=i(13),n=i(8228),l=i(6704);class r{static fnInit(e){r.oRepoItem=e,"github"==e.type&&r.fnInitGit(),"webdav"==e.type&&r.fnInitWebdav()}static fnInitGit(){_s("Database.fnInitGit"),r.octokit=new o.v({auth:r.oRepoItem.key})}static fnInitWebdav(){r.webdav=(0,n.createClient)(r.oRepoItem.url,{username:r.oRepoItem.username,password:r.oRepoItem.password})}static fnReadFileJSON(e){return new Promise((async(t,i)=>{this.fnReadFile(e).then((({sData:e})=>{t(JSON.parse(e))})).catch((e=>{i(e)}))}))}static fnReadFile(e){return"github"==r.oRepoItem.type?r.fnReadFileGithub(e):"webdav"==r.oRepoItem.type?r.fnReadFileWebdav(e):void 0}static fnWriteFileJSON(e,t){return this.fnWriteFile(e,JSON.stringify(t))}static fnWriteFile(e,t){return"github"==r.oRepoItem.type?r.fnWriteFileGithub(e,t):"webdav"==r.oRepoItem.type?r.fnWriteFileWebdav(e,t):void 0}static fnCreateDir(e){if("webdav"==r.oRepoItem.type)return r.fnCreateDirWebdav(e)}static fnCreateDirWebdav(e){return new Promise((async(t,i)=>{_l(">>>",e),r.webdav.createDirectory(e),t()}))}static fnReadFileWebdav(e){r.oRepoItem;return new Promise((async(t,i)=>{try{var a=await r.webdav.getFileContents(e),s=new TextDecoder("utf-8"),o=s.decode(a);r.oSHA[e]="",t({sData:o,sSHA:""})}catch(n){console.error(n),i(n)}}))}static fnReadFileGithub(e){return new Promise((async(t,i)=>{var a=r.oRepoItem;return e=e.replace(/^\/+/,""),r.octokit.rest.repos.getContent({owner:a.login,repo:a.repo,path:e}).then((({data:i})=>{var a=(0,l.Jx)(i.content);r.oSHA[e]=i.sha,t({sData:a,sSHA:i.sha})})).catch((e=>{console.error(e),i(e)}))}))}static fnWriteFileGithub(e,t,i=null){return new Promise((async(a,s)=>{var o=r.oRepoItem;return r.octokit.rest.repos.createOrUpdateFileContents({owner:o.sLogin,repo:o.sRepo,path:e,sha:i||oSHA[e],message:r.fnGetUpdateMessage(),content:(0,l.cv)(t)}).then((()=>{a()})).catch((e=>{console.error(e),s(e)}))}))}static fnWriteFileWebdav(e,t){return new Promise((async(i,a)=>{r.oRepoItem;return new Promise((async(i,a)=>{try{var s=new TextEncoder,o=s.encode(t);await r.webdav.putFileContents(e,o,{contentLength:!1,overwrite:!0}),i()}catch(n){a(n)}}))}))}static fnGetUpdateMessage(){return"update: "+new Date}}function d(e){return e[0].split(" ")}function c(e){return{[e]:{get(){return this.$store.state[e]},set(t){this.$store.commit("fnUpdateVar",{sName:e,sV:_l(t,"<<")})}}}}function u(e){var t={},i=e.split(" ");for(var a of i)t=Object.assign(t,c(a));return t}function p(){return(Math.random()+1).toString(36).substring(7)}function f(e,t){var i="data:text/json;charset=utf-8,"+encodeURIComponent(t),a=document.createElement("A");a.setAttribute("href",i),a.setAttribute("download",`${e}_${(new Date).getTime()}.json`),a.click(),a.remove()}(0,s.Z)(r,"octokit",null),(0,s.Z)(r,"oSHA",{}),(0,s.Z)(r,"webdav",null),(0,s.Z)(r,"oRepoItem",null);const m="notes-database.json";function g(e,t){var i=e.oDatabase.categories.find((e=>e.id==t));return i.parent_id?g(e,i.parent_id):i}var b=(0,a.MT)({state(){return{aReposList:[],oRepo:null,iSelectedRepoIndex:null,bShowErrorWindow:!1,sErrorWindowMessage:"",sErrorWindowTitle:"",bShowRepoWindow:!0,bShowGroupEditWindow:!1,oGroupEditItem:null,sGroupEditWindowGroupName:"",bShowCategoryEditWindow:!1,oCategoryEditItem:null,sCategoryEditWindowCategoryName:"",sCategoryEditWindowGroupID:"",sCategoryEditWindowCategoryID:"",bShowArticleEditWindow:!1,oArticleEditItem:null,sArticleEditWindowArticleName:"",sArticleEditWindowGroupID:"",sArticleEditWindowCategoryID:"",bShowTagEditWindow:!1,oTagEditItem:null,sTagEditWindowTagName:"",bShowLinkEditWindow:!1,oLinkEditItem:null,sLinkEditWindowLinkName:"",sLinkEditWindowLinkURL:"",bShowRepoWindow:!0,bShowSaveToast:!1,bShowLoader:!1,bShowEditor:!1,sArticleContent:"",sCurrentMode:"",iEditIndex:null,oDatabase:{groups_last_id:0,groups:[],categories_last_id:0,categories:[],articles_last_id:0,articles:[],favorites_last_id:0,favorites:[],tags_last_id:0,tags:[],tags_relations_last_id:0,tags_relations:[],links_last_id:0,links:[]},sSelectedArticleID:null,sSelectedCategoryID:null,sSelectedGroupID:null,sSelectedTagID:null,sSelectedLinkID:null}},mutations:{fnReposRemove(e,t){e.aReposList.splice(t,1),localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnReposSelect(e,t){e.iSelectedRepoIndex=t},fnReposClean(e){e.aReposList=[],localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnReposUpdate(e,{iIndex:t,oObj:i}){-1==t?e.aReposList.push(i):e.aReposList.splice(t,1,i),localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnLoadRepos(e){try{e.aReposList=JSON.parse(localStorage.getItem("aReposList")||"[]")}catch(t){}},fnUpdateDatabase(e,t){e.oDatabase=t},fnHideRepoWindow(e){e.bShowRepoWindow=!1},fnShowRepoWindow(e){e.bShowRepoWindow=!0},fnShowLoader(e){e.bShowLoader=!0},fnHideLoader(e){e.bShowLoader=!1},fnShowEditor(e){e.bShowEditor=!0},fnHideEditor(e){e.bShowEditor=!1},fnSelectGroup(e,t){e.sSelectedGroupID=t},fnSelectCategory(e,t){e.sSelectedCategoryID=t},fnSelectArticle(e,t){e.sSelectedArticleID=t},fnSelectTag(e,t){e.sSelectedTagID=t},fnSelectLink(e,t){e.sSelectedLinkID=t},fnSetArticleContent(e,t){e.sArticleContent=t},fnUpdateMode(e,t){e.sCurrentMode=t},fnShowGroupEditWindow(e,t){e.bShowGroupEditWindow=!0,e.oGroupEditItem=t,_l(">>>",t),e.sGroupEditWindowGroupName=t?t.name:""},fnHideGroupEditWindow(e){e.bShowGroupEditWindow=!1},fnShowCategoryEditWindow(e,t){if(e.bShowCategoryEditWindow=!0,e.oCategoryEditItem=t,t){e.sCategoryEditWindowCategoryName=t.name;var i=g(e,t.id);_l(">>>",i),e.sCategoryEditWindowGroupID=i?.group_id,e.sCategoryEditWindowCategoryID=t.parent_id}else e.sCategoryEditWindowCategoryName="",e.sCategoryEditWindowGroupID="",e.sCategoryEditWindowCategoryID=""},fnHideCategoryEditWindow(e){e.bShowCategoryEditWindow=!1},fnShowArticleEditWindow(e,t){if(e.bShowArticleEditWindow=!0,e.oArticleEditItem=t,t){e.sArticleEditWindowArticleName=t.name;var i=e.oDatabase.categories.find((e=>e.id==t.category_id));e.sArticleEditWindowGroupID=i?.group_id,e.sArticleEditWindowCategoryID=t.category_id}else e.sArticleEditWindowArticleName="",e.sArticleEditWindowCategoryID="",e.sArticleEditWindowGroupID=""},fnHideArticleEditWindow(e){e.bShowArticleEditWindow=!1},fnShowTagEditWindow(e,t){e.bShowTagEditWindow=!0,e.oTagEditItem=t,e.sTagEditWindowTagName=t?t.name:""},fnHideTagEditWindow(e){e.bShowTagEditWindow=!1},fnShowLinkEditWindow(e,t){e.bShowLinkEditWindow=!0,e.oLinkEditItem=t,t?(e.sLinkEditWindowLinkName=t.name,e.sLinkEditWindowLinkURL=t.url):(e.sLinkEditWindowLinkName="",e.sLinkEditWindowLinkURL="")},fnHideLinkEditWindow(e){e.bShowLinkEditWindow=!1},fnUpdateDatabaseTable(e,{sTableName:t,sField:i,sV:a}){e.oDatabase[t][i]=a},fnUpdateVar(e,{sName:t,sV:i}){e[t]=i},fnAddGroup(e,t){e.oDatabase.groups_last_id++,t={...t,id:e.oDatabase.groups_last_id},e.oDatabase.groups.push(t)},fnUpdateGroup(e,{iIndex:t,oItem:i}){e.oDatabase.groups.splice(t,1,i)},fnRemoveGroup(e,t){e.oDatabase.groups.splice(t,1)},fnAddCategory(e,t){e.oDatabase.categories_last_id++,t={...t,id:e.oDatabase.categories_last_id},e.oDatabase.categories.push(t)},fnUpdateCategory(e,{iIndex:t,oItem:i}){e.oDatabase.categories.splice(t,1,i)},fnRemoveCategory(e,t){e.oDatabase.categories.splice(t,1)},fnAddArticle(e,t){e.oDatabase.articles_last_id++,t={...t,id:e.oDatabase.articles_last_id},e.oDatabase.articles.push(t)},fnUpdateArticle(e,{iIndex:t,oItem:i}){e.oDatabase.articles.splice(t,1,i)},fnRemoveArticle(e,t){e.oDatabase.articles.splice(t,1)},fnAddTag(e,t){e.oDatabase.tags_last_id++,t={...t,id:e.oDatabase.tags_last_id},e.oDatabase.tags.push(t)},fnUpdateTag(e,{iIndex:t,oItem:i}){_l(">>>",i),e.oDatabase.tags.splice(t,1,i)},fnRemoveTag(e,t){e.oDatabase.tags.splice(t,1)},fnAddLink(e,t){e.oDatabase.links_last_id++,t={...t,id:e.oDatabase.links_last_id},e.oDatabase.links.push(t)},fnUpdateLink(e,{iIndex:t,oItem:i}){e.oDatabase.links.splice(t,1,i)},fnRemoveLink(e,t){e.oDatabase.links.splice(t,1)},fnSaveArticleContent(e,{iIndex:t,sContent:i}){e.sArticleContent=i},fnAddFavorite(e,t){~e.oDatabase.findIndex((e=>e.id==t.id))||(e.oDatabase.articles_last_id++,e.oDatabase.favorites.push({id:e.oDatabase.articles_last_id,article_id:t.id}))},fnRemoveFavorite(e,t){var i=e.oDatabase.favorites.findIndex((e=>e.article_id==t.id));e.oDatabase.favorites.splice(i,1)}},actions:{fnPrepareRepo({commit:e,state:t,dispatch:i,getters:a}){e("fnHideRepoWindow"),r.fnInit(a.oCurrentRepo),i("fnLoadDatabase")},fnSaveDatabase({commit:e,state:t}){return r.fnWriteFileJSON(m,t.oDatabase)},fnSaveArticlePage({commit:e,state:t,getters:i}){var a=i.fnGetCurrentArticlePath();r.fnWriteFile(a,t.sArticleContent)},fnLoadDatabase({commit:e,state:t}){e("fnShowLoader"),r.fnReadFileJSON(m).then((t=>{e("fnUpdateDatabase",t),e("fnHideLoader")})).catch((i=>{(i+"").match(/Not Found/)&&(_l(">>>",i+""),r.fnWriteFileJSON(m,t.oDatabase).then((()=>{r.fnReadFileJSON(m).then((t=>{e("fnUpdateDatabase",t),e("fnHideLoader")}))})))}))},fnUpdateGroup({commit:e,getters:t},i){var a=t.fnGetGroupIndex(i.id);e("fnUpdateGroup",{iIndex:a,oItem:i})},fnUpdateCategory({commit:e,getters:t},i){var a=t.fnGetCategoryIndex(i.id);e("fnUpdateCategory",{iIndex:a,oItem:i})},fnUpdateArticle({commit:e,getters:t},i){var a=t.fnGetArticleIndex(i.id);e("fnUpdateArticle",{iIndex:a,oItem:i})},fnUpdateTag({commit:e,getters:t},i){var a=t.fnGetTagIndex(i.id);e("fnUpdateTag",{iIndex:a,oItem:i})},fnUpdateLink({commit:e,getters:t},i){var a=t.fnGetLinkIndex(i.id);e("fnUpdateLink",{iIndex:a,oItem:i})},fnRemoveGroup({commit:e,getters:t},i){var a=t.fnGetGroupIndex(i.id);e("fnRemoveGroup",a)},fnRemoveCategory({commit:e,getters:t},i){var a=t.fnGetCategoryIndex(i.id);e("fnRemoveCategory",a)},fnRemoveArticle({commit:e,getters:t,state:i},a){var s=t.fnGetArticleIndex(a.id);e("fnRemoveArticle",s)},fnRemoveTag({commit:e,getters:t},i){var a=t.fnGetTagIndex(i.id);e("fnRemoveTag",a)},fnRemoveLink({commit:e,getters:t},i){var a=t.fnGetLinkIndex(i.id);e("fnRemoveLink",a)},async fnSelectArticle({commit:e,state:t,getters:i},a){if(e("fnSelectArticle",a),_l(">>>",a),a){var s=i.fnGetCurrentArticlePath();r.fnCreateDir("/pages/");r.fnReadFile(s).then((({sData:t,sSHA:i})=>{e("fnShowEditor"),e("fnSetArticleContent",t)})).catch((t=>{(t+"").match(/Not Found/)&&(r.fnWriteFile(s,""),e("fnShowEditor"),e("fnSetArticleContent",""))}))}},fnSaveGroup({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oGroupEditItem){var s={name:a.sGroupEditWindowGroupName};e("fnAddGroup",s)}else a.oGroupEditItem.name=a.sGroupEditWindowGroupName,t("fnUpdateGroup",a.oGroupEditItem)},fnSaveCategory({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oCategoryEditItem){var s={name:a.sCategoryEditWindowCategoryName,parent_id:sCategoryEditWindowCategoryID};e("fnAddCategory",s)}else a.oCategoryEditItem.name=a.sCategoryEditWindowCategoryName,a.oCategoryEditItem.parent_id=a.sCategoryEditWindowCategoryID,t("fnUpdateCategory",a.oCategoryEditItem)},fnSaveArticle({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oArticleEditItem){var s={name:a.sArticleEditWindowArticleName,category_id:a.sArticleEditWindowCategoryID,hash_name:p(),html:""};e("fnAddArticle",s)}else a.oArticleEditItem.name=a.sArticleEditWindowArticleName,a.oArticleEditItem.category_id=a.sArticleEditWindowCategoryID,t("fnUpdateArticle",a.oArticleEditItem)},fnSaveTag({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oTagEditItem){var s={name:a.sTagEditWindowTagName};e("fnAddTag",s)}else a.oTagEditItem.name=a.sTagEditWindowTagName,t("fnUpdateTag",a.oTagEditItem)},fnSaveLink({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oLinkEditItem){var s={name:a.sLinkEditWindowLinkName,url:a.sLinkEditWindowLinkURL};e("fnAddLink",s)}else a.oLinkEditItem.name=a.sLinkEditWindowLinkName,a.oLinkEditItem.url=a.sLinkEditWindowLinkURL,t("fnUpdateLink",a.oLinkEditItem)},fnSaveArticleContent({commit:e,getters:t,state:i},a){var s=i.oDatabase.articles.findIndex((e=>e.id==t.oCurrentArticle.id));e("fnSaveArticleContent",{iIndex:s,sContent:a})}},getters:{fnGetCurrentArticlePath:(e,t)=>()=>`/pages/${t.oCurrentArticle.hash_name}.html`,oCurrentRepo(e){return e.aReposList[e.iSelectedRepoIndex]},fnGetCategory:e=>t=>e.oDatabase.categories.find((e=>e.id==t)),fnGetGroup:e=>t=>e.oDatabase.groups.find((e=>e.id==t)),fnGetArticle:e=>t=>e.oDatabase.articles.find((e=>e.id==t)),fnGetCategoryIndex:e=>t=>e.oDatabase.categories.findIndex((e=>e.id==t)),fnGetGroupIndex:e=>t=>e.oDatabase.groups.findIndex((e=>e.id==t)),fnGetArticleIndex:e=>t=>e.oDatabase.articles.findIndex((e=>e.id==t)),fnGetTagIndex:e=>t=>e.oDatabase.tags.findIndex((e=>e.id==t)),fnGetLinkIndex:e=>t=>e.oDatabase.links.findIndex((e=>e.id==t)),fnFilterCurrentCategories:e=>t=>e.oDatabase.categories.filter((i=>~i.name.indexOf(t)&&i.group_id==e.sSelectedGroupID)),fnFilterCurrentArticles:e=>t=>e.oDatabase.articles.filter((i=>~i.name.indexOf(t)&&i.category_id==e.sSelectedCategoryID)),fnGetFavorites:e=>()=>e.oDatabase.articles.filter((t=>~e.oDatabase.favorites.findIndex((e=>t.id==e.id)))),fnFilterFavorites:(e,t)=>e=>t.fnGetFavorites().filter((t=>~t.name.indexOf(e))),fnFilterLinks:e=>t=>e.oDatabase.links.filter((e=>~e.name.indexOf(t))),fnGetArticlesTags:e=>t=>e.oDatabase.tags.filter((i=>~e.oDatabase.tags_relations.findIndex((e=>t==e.article_id&&e.tag_id==i.id)))),fnFilterArticlesTags:(e,t)=>(e,i)=>t.fnGetArticlesTags(e).filter((e=>~e.name.indexOf(i))),fnGetTagsArticles:e=>t=>e.oDatabase.articles.filter((i=>~e.oDatabase.tags_relations.findIndex((e=>i.id==e.article_id&&e.tag_id==t)))),fnFilterTagsArticles:(e,t)=>(e,i)=>t.fnGetTagsArticles(e).filter((e=>~e.name.indexOf(i))),fnFilterCurrentTagsArticles:(e,t)=>i=>t.fnFilterTagsArticles(e.sSelectedTagID,i),fnFilterTags:e=>t=>e.oDatabase.tags.filter((e=>~e.name.indexOf(t))),fnFilterGroups:e=>t=>e.oDatabase.groups.filter((e=>~e.name.indexOf(t))),fnFilterTreeCategoriesByGroup:(e,t)=>i=>{var a=e.oDatabase.categories.filter((e=>e.group_id==i&&1*e.parent_id===0)),s=JSON.parse(JSON.stringify(a)),o=[];for(var n of s)o=o.concat([n]),s=t.fnFilterCategoriesByParent(n.id),o=o.concat(s);return o},fnFilterRootCategoriesByGroup:e=>t=>e.oDatabase.categories.filter((e=>e.group_id==t&&1*e.parent_id===0)),fnFilterCategoriesByParent:(e,t)=>(i,a=1)=>{var s=e.oDatabase.categories.filter((e=>e.parent_id==i)),o=JSON.parse(JSON.stringify(s)),n=[];for(var l of o)l.name="--".repeat(a)+(a>0?"--":"")+l.name,n=n.concat([l]),o=t.fnFilterCategoriesByParent(l.id,a+1),n=n.concat(o);return n},fnFilterCategories:e=>t=>e.oDatabase.categories.filter((e=>~e.name.indexOf(t))),fnFilterArticles:e=>t=>e.oDatabase.articles.filter((e=>~e.name.indexOf(t))),fnFilterFavorites:(e,t)=>e=>t.fnGetFavorites().filter((t=>~t.name.indexOf(e))),fnFilterTags:e=>t=>e.oDatabase.tags.filter((e=>~e.name.indexOf(t))),fnFilterLinks:e=>t=>e.oDatabase.links.filter((e=>~e.name.indexOf(t))),aGroupsList(e){return e.oDatabase.groups},aCategoriesList(e){return e.oDatabase.categories},aArticlesList(){return state.oDatabase.articles},aTagsList(){return state.oDatabase.tags},aLinksist(){return state.oDatabase.links},oCurrentGroup(e,t){return e.oDatabase.groups.find((t=>t.id==e.sSelectedGroupID))},oCurrentCategory(e,t){return e.oDatabase.categories.find((t=>t.id==e.sSelectedCategoryID))},oCurrentArticle(e,t){return e.oDatabase.articles.find((t=>t.id==e.sSelectedArticleID))},oCurrentTag(e,t){return e.oDatabase.tags.find((t=>t.id==e.sSelectedTagID))},oCurrentLink(e,t){return e.oDatabase.links.find((t=>t.id==e.sSelectedLinkID))},fnGetCurrentLink:e=>()=>e.oDatabase.links.find((t=>t.id==e.sSelectedLinkID)),fnGetCurrentTag:e=>()=>e.oDatabase.tags.find((t=>t.id==e.sSelectedTagID)),fnFilterCategoriesByGroup:e=>t=>e.oDatabase.categories.filter((e=>e.group_id==t)),fnFilterArticlesByCategory:e=>t=>e.oDatabase.articles.filter((e=>e.category_id==t)),fnFilterArticlesByID:e=>t=>e.oDatabase.articles.filter((e=>e.id==t))}}),v=i(9242),w=i(3396),_=i(2268);const C={class:"wrapper"},h={class:"app-modes"},y=(0,w._)("i",{class:"bi bi-person-fill"},null,-1),D=[y],S=(0,w._)("i",{class:"bi bi-cloud-arrow-up"},null,-1),I=[S],k=(0,w._)("hr",null,null,-1),A=["title","onClick"],L={class:"current-mode"},F={class:"editor-wrapper"};function E(e,t,i,a,s,o){const n=(0,w.up)("ListMode"),l=(0,w.up)("CatalogMode"),r=(0,w.up)("FavoritesMode"),d=(0,w.up)("TagsMode"),c=(0,w.up)("LinksMode"),u=(0,w.up)("PageEditor"),p=(0,w.up)("ErrorWindow"),f=(0,w.up)("AskAPIWindow"),m=(0,w.up)("EditGroup"),g=(0,w.up)("EditCategory"),b=(0,w.up)("EditArticle"),y=(0,w.up)("EditLink"),S=(0,w.up)("EditTag"),E=(0,w.up)("Loader"),R=(0,w.up)("SavedToast");return(0,w.wg)(),(0,w.iD)(w.HY,null,[(0,w._)("div",C,[(0,w._)("div",h,[(0,w._)("button",{class:"btn",onClick:t[0]||(t[0]=(...t)=>e.fnShowRepoWindow&&e.fnShowRepoWindow(...t)),title:"Выбрать другую сессию"},D),(0,w._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>o.fnSaveAll&&o.fnSaveAll(...e)),title:"Сохранить все"},I),k,((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(s.aMenu,(e=>((0,w.wg)(),(0,w.iD)("a",{key:e.class,class:(0,_.C_)((o.sCurrentMode==e.class?"btn-primary":"")+" btn "+e.class),title:e.title,onClick:t=>o.fnMenuItemClick(e)},[(0,w._)("i",{class:(0,_.C_)("bi "+e.icon)},null,2)],10,A)))),128))]),(0,w._)("div",L,[(0,w.wy)((0,w.Wm)(n,null,null,512),[[v.F8,"app-mode-list"==o.sCurrentMode]]),(0,w.wy)((0,w.Wm)(l,null,null,512),[[v.F8,"app-mode-catalog"==o.sCurrentMode]]),(0,w.wy)((0,w.Wm)(r,null,null,512),[[v.F8,"app-mode-favorites"==o.sCurrentMode]]),(0,w.wy)((0,w.Wm)(d,null,null,512),[[v.F8,"app-mode-tags"==o.sCurrentMode]]),(0,w.wy)((0,w.Wm)(c,null,null,512),[[v.F8,"app-mode-links"==o.sCurrentMode]])]),(0,w._)("div",F,[(0,w.Wm)(u)])]),(0,w.Wm)(p,{message:e.sErrorWindowMessage,title:e.sErrorWindowTitle},null,8,["message","title"]),(0,w.Wm)(f),(0,w.Wm)(m),(0,w.Wm)(g),(0,w.Wm)(b),(0,w.Wm)(y),(0,w.Wm)(S),(0,w.Wm)(E),(0,w.Wm)(R)],64)}const R={class:"loader"},T=(0,w._)("div",{class:"center"},[(0,w._)("div",{class:"lds-dual-ring"})],-1),W=[T];function G(e,t,i,a,s,o){return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",R,W,512)),[[v.F8,e.bShowLoader]])}var x={computed:{...(0,a.rn)(d`bShowLoader`)}},O=i(89);const U=(0,O.Z)(x,[["render",G]]);var N=U;const M={id:"mode-list",class:"mode"},H={class:"all-articles-panel"},P={class:"actions-panel"},V={class:"list"},Z=["onClick"],Y={class:(0,_.C_)("list-group-item list-group-item-action item-title ")},z={class:"item-inner-title"},K={class:"item-inner-title"};function J(e,t,i,a,s,o){const n=(0,w.up)("Dropdown");return(0,w.wg)(),(0,w.iD)("div",M,[(0,w._)("div",H,[(0,w._)("div",P,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>s.sFilter=e)},null,512),[[v.nr,s.sFilter]]),(0,w.Wm)(n,{items:s.aDropdownMenu,onClickitem:o.fnMenuItemClick},null,8,["items","onClickitem"])]),(0,w._)("div",V,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aArticleList,(t=>((0,w.wg)(),(0,w.iD)("div",{key:t.id,class:(0,_.C_)("input-group item-row item-artilces-list "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,w._)("a",Y,[(0,w._)("div",z,(0,_.zw)(t.name),1)]),(0,w._)("div",K,(0,_.zw)(e.fnGetCategory(t.category_id)?.name),1)],10,Z)))),128))])])])}var B=i(6433),j=i.n(B);const q=new(j());class Q{static get oDatabase(){return r.oDatabase}static fnLoadReposList(){_s("fnLoadReposList");var e=localStorage.getItem("repos")||"[]";Q.aReposList=JSON.parse(e),q.emit("database-repos-loaded",{aList:Q.aReposList,iSelectedRepoIndex:Q.iSelectedRepo})}static fnUpdateRepo(e,t){_l(">>",{aArgs:arguments}),-1==e?Q.aReposList.push(t):Q.aReposList.splice(e,1,t),q.emit("database-repos-save")}static fnRemoveRepo(e){Q.aReposList.splice(e,1),q.emit("database-repos-save")}static fnCleanRepo(){Q.aReposList=[],q.emit("database-repos-save")}static fnAddRepo(e){Q.aReposList.push(e),q.emit("database-repos-save")}static fnSelectRepo(e){Q.aReposList[e]?(Q.iSelectedRepo=e,_l("fnSelectRepo"),r.fnInit(Q.aReposList[e]),q.emit("database-repos-selected"),q.emit("database-repos-save")):q.emit("database-repos-select-error")}static fnGetSelectRepo(){q.emit("database-repos-selected-info",{iIndex:Q.iSelectedRepo,oRepo:Q.aReposList[Q.iSelectedRepo]})}static fnSaveReposList(){localStorage.setItem("repos",JSON.stringify(Q.aReposList)),q.emit("database-repos-saved")}static fnGetByID(e,t){var i=Q.oDatabase[e].filter((e=>e.id==t));return i.length?i[0]:null}static fnUpdateRecord(e,t,i){var a=Q.oDatabase[e].filter((e=>e.id==t));a.length&&($.extend(a[0],i),_l(a[0],Q.oDatabase[e]))}static fnAddRecord(e,t){var i=1*Q.oDatabase[e+"_last_id"]+1;return Q.oDatabase[e].push({id:i,...t}),Q.oDatabase[e+"_last_id"]=i,i}static fnUpdateFilename(e){var t=Q.fnFilterArticlesByID(e);if(t.length){var i=t[0].id;Q.sFilePath=Q.fnGetArticlePath(i)}}static fnRepoSelected(){Q.fnReadDatabase().then((()=>{q.emit("database-repos-load")}))}static fnReadDatabase(){return _l("fnReadDatabase",[Q.oDatabase]),r.fnReadFileJSON(Q.oDatabase)}static fnWriteDatabase(){_l("fnWriteDatabase",[Q.oDatabase]),r.fnWriteDatabase()}static fnParseAPIInfo(){var e,t;try{t=location.hash.split("#")[1],e=t.split(":")}catch(i){e=["","",""]}Q.sLogin=e[0],Q.sRepo=e[1],Q.sAPIKey=e[2]}static fnSelectArticle(e){Q.sSelectedArticleID=e;var t=null,i=null,a=null;e&&(t=Q.fnGetCurrentArticle(),t.category_id&&(i=Q.fnGetArticleCategory(t.category_id),i.group_id&&(a=Q.fnGetArticleGroup(i.group_id)))),_l(">>>",[t,i,a]),q.emit("database-catalog-article-selected",Q.sSelectedArticleID,t,i,a)}static fnGetArticlesList(){_l("fnGetArticlesList"),q.emit("database-article-list-loaded",{aList:Q.oDatabase.articles,sSelectedID:Q.sSelectedArticleID})}static fnFilterArticlesList(e){q.emit("database-article-list-filter-loaded",{aList:Q.fnFilterArticles(e),sSelectedID:Q.sSelectedArticleID})}static fnFilterCatalogArticlesList(e){q.emit("database-catalog-article-list-filter-loaded",{aList:Q.fnFilterCurrentArticles(e),sSelectedID:Q.sSelectedArticleID})}static fnFilterTagArticlesList(e){q.emit("database-tag-article-list-filter-loaded",{aList:Q.fnFilterCurrentTagsArticles(e),sSelectedID:Q.sSelectedArticleID})}static fnUpdateArticle(e){var t={...e},i=Q.oDatabase.articles.findIndex((e=>t.id==e.id));Q.oDatabase.articles.splice(i,1,t),_l(">>> fnUpdateArticle",[Q.oDatabase.articles,t]),q.emit("database-article-saved")}static fnRemoveArticle(e){var t=Q.oDatabase.articles.findIndex((t=>e==t.id));Q.oDatabase.articles.splice(t,1),q.emit("database-article-removed")}static fnCreateArticle(e){Q.oDatabase.articles_last_id++,Q.oDatabase.articles.push({id:Q.oDatabase.articles_last_id,category_id:null,html:"",...e}),q.emit("database-article-saved")}static fnSaveCurrentArticle(e){var t=Q.fnGetCurrentArticle();t&&(t.html=e),q.emit("database-article-saved")}static fnSelectGroup(e){Q.iSelectedGroup=e,q.emit("database-catalog-group-selected",Q.iSelectedGroup,Q.fnGetCurrentGroup())}static fnGetGroupList(){_l("fnGetArticlesList"),q.emit("database-catalog-group-list-loaded",{aList:Q.oDatabase.groups,sSelectedID:Q.sSelectedArticleID})}static fnGetCategoryGroupList(){q.emit("database-catalog-category-group-list-loaded",{aList:Q.oDatabase.groups,sSelectedID:Q.sSelectedArticleID})}static fnFilterGroupList(e){q.emit("database-catalog-group-list-filter-loaded",{aList:Q.fnFilterGroups(e),sSelectedID:Q.sSelectedArticleID})}static fnUpdateGroup(e){var t={...e},i=Q.oDatabase.groups.findIndex((e=>t.id==e.id));Q.oDatabase.groups.splice(i,1,t),_l(">>>",[Q.oDatabase.groups,t]),q.emit("database-catalog-group-saved")}static fnRemoveGroup(e){var t=Q.oDatabase.groups.findIndex((t=>e==t.id));Q.oDatabase.groups.splice(t,1),q.emit("database-catalog-group-removed")}static fnCreateGroup(e){Q.oDatabase.groups_last_id++,Q.oDatabase.groups.push({id:Q.oDatabase.groups_last_id,...e}),q.emit("database-catalog-group-saved")}static fnSelectCategory(e){Q.iSelectedCategory=e,q.emit("database-catalog-category-selected",Q.iSelectedCategory,Q.fnGetCurrentCategory())}static fnGetCategoryList(){_l("fnGetArticlesList"),q.emit("database-catalog-category-list-loaded",{aList:Q.oDatabase.categories,sSelectedID:Q.sSelectedArticleID})}static fnGetCategoryForGroupList(e){q.emit("database-catalog-category-for-group-list-loaded",{aList:Q.fnFilterTreeCategoriesByGroup(e),sSelectedID:Q.sSelectedArticleID})}static fnFilterCategoryList(e){q.emit("database-catalog-category-list-filter-loaded",{aList:Q.fnFilterCurrentCategories(e),sSelectedID:Q.sSelectedArticleID})}static fnUpdateCategory(e){var t={...e},i=Q.oDatabase.categories.findIndex((e=>t.id==e.id));Q.oDatabase.categories.splice(i,1,t),q.emit("database-catalog-category-saved")}static fnRemoveCategory(e){var t=Q.oDatabase.categories.findIndex((t=>e==t.id));Q.oDatabase.categories.splice(t,1),q.emit("database-catalog-category-removed")}static fnCreateCategory(e){Q.oDatabase.categories_last_id++,Q.oDatabase.categories.push({id:Q.oDatabase.categories_last_id,...e}),q.emit("database-catalog-category-saved")}static fnSelectTag(e){Q.iSelectedTag=e,q.emit("database-tag-selected",Q.iSelectedTag,Q.fnGetCurrentTag())}static fnGetTagList(){_l("fnGetArticlesList"),q.emit("database-tag-list-loaded",{aList:Q.oDatabase.tags,sSelectedID:Q.sSelectedTag})}static fnFilterTagList(e){q.emit("database-tag-list-filter-loaded",{aList:Q.fnFilterTags(e),sSelectedID:Q.sSelectedTag})}static fnFilterTagSelectorList(e){q.emit("database-tag-list-tag-selector-filter-loaded",{aList:Q.fnFilterTags(e),sSelectedID:Q.sSelectedTag})}static fnFilterTagSelectorForArticleList(e,t){_l("fnFilterTagSelectorForArticleList",e,t,Q.fnFilterArticlesTags(e,t)),q.emit("database-tag-list-tag-selector-article-filter-loaded",{aList:Q.fnFilterArticlesTags(e,t),sSelectedID:Q.sSelectedTag})}static fnUpdateTag(e){var t={...e},i=Q.oDatabase.tags.findIndex((e=>t.id==e.id));Q.oDatabase.tags.splice(i,1,t),q.emit("database-tag-saved")}static fnRemoveTag(e){var t=Q.oDatabase.tags.findIndex((t=>e==t.id));Q.oDatabase.tags.splice(t,1),Q.oDatabase.tags_relations=Q.oDatabase.tags_relations.filter((t=>t.tag_id!=e)),q.emit("database-tag-removed")}static fnCreateTag(e){Q.oDatabase.tags_last_id++,Q.oDatabase.tags.push({id:Q.oDatabase.tags_last_id,...e}),q.emit("database-tag-saved")}static fnArticleRemoveTags(e,t){Q.oDatabase.tags_relations=Q.oDatabase.tags_relations.filter((i=>~t.indexOf(i.tag_id)&&i.article_id==e)),_l(">>>",Q.oDatabase.tags_relations),q.emit("database-tag-list-tag-selector-remove-tags-success")}static fnArticleAddTags(e,t){t=t.filter((t=>!~Q.oDatabase.tags_relations.findIndex((i=>i.tag_id==t&&i.article_id==e)))),Q.oDatabase.tags_relations=Q.oDatabase.tags_relations.concat(t.map((t=>(Q.oDatabase.tags_relations_last_id++,{id:Q.oDatabase.tags_relations_last_id,tag_id:t,article_id:e})))),_l(">>>",Q.oDatabase.tags_relations),q.emit("database-tag-list-tag-selector-add-tags-success")}static fnSelectFavorites(e){Q.sSelectedArticleID=e,q.emit("database-tag-selected",Q.sSelectedArticleID)}static fnFilterFavoritesArticlesList(e){q.emit("database-favorites-article-list-filter-loaded",{aList:Q.fnFilterFavorites(e),sSelectedID:Q.sSelectedArticleID})}static fnUpdateFavorites(e,t){}static fnRemoveFavorites(e){}static fnCreateFavorites(){}static fnSelectLink(e){Q.iSelectedLink=e,q.emit("database-link-selected",Q.iSelectedLink,Q.fnGetCurrentLink())}static fnGetLinkList(){_l("fnGetArticlesList"),q.emit("database-link-list-loaded",{aList:Q.oDatabase.links,sSelectedID:Q.iSelectedLink})}static fnFilterLinkList(e){q.emit("database-link-list-filter-loaded",{aList:Q.fnFilterLinks(e),sSelectedID:Q.iSelectedLink})}static fnUpdateLink(e){var t={...e},i=Q.oDatabase.links.findIndex((e=>t.id==e.id));Q.oDatabase.links.splice(i,1,t),q.emit("database-link-saved")}static fnRemoveLink(e){var t=Q.oDatabase.links.findIndex((t=>e==t.id));Q.oDatabase.links.splice(t,1),q.emit("database-link-removed")}static fnCreateLink(e){Q.oDatabase.links_last_id++,Q.oDatabase.links.push({id:Q.oDatabase.links_last_id,...e}),q.emit("database-link-saved")}static fnGetArticlePath(e){return`articles/${e}.md`}static fnGetArticlePathURL(e){return`blob/main/articles/${e}.md`}static fnOpenArticleURL(){var e=Q.fnGetArticlePathURL(Q.sSelectedArticleID);window.open(`https://github.com/${Q.sLogin}/${Q.sRepo}/${e}`)}static fnGetArticleCategory(e){return Q.oDatabase.categories.filter((t=>t.id==e))[0]}static fnGetArticleGroup(e){return Q.oDatabase.groups.filter((t=>t.id==e))[0]}static fnFilterCurrentCategories(e){return Q.oDatabase.categories.filter((t=>~t.name.indexOf(e)&&t.group_id==Q.iSelectedGroup))}static fnFilterCurrentArticles(e){return Q.oDatabase.articles.filter((t=>~t.name.indexOf(e)&&t.category_id==Q.iSelectedCategory))}static fnGetFavorites(){return Q.oDatabase.articles.filter((e=>~Q.oDatabase.favorites.findIndex((t=>e.id==t.id))))}static fnFilterFavorites(e){return Q.fnGetFavorites().filter((t=>~t.name.indexOf(e)))}static fnFilterLinks(e){return Q.oDatabase.links.filter((t=>~t.name.indexOf(e)))}static fnGetArticlesTags(e){return Q.oDatabase.tags.filter((t=>~Q.oDatabase.tags_relations.findIndex((i=>e==i.article_id&&i.tag_id==t.id))))}static fnFilterArticlesTags(e,t){return Q.fnGetArticlesTags(e).filter((e=>~e.name.indexOf(t)))}static fnGetTagsArticles(e){return Q.oDatabase.articles.filter((t=>~Q.oDatabase.tags_relations.findIndex((i=>t.id==i.article_id&&i.tag_id==e))))}static fnFilterTagsArticles(e,t){return Q.fnGetTagsArticles(e).filter((e=>~e.name.indexOf(t)))}static fnFilterCurrentTagsArticles(e){return Q.fnFilterTagsArticles(Q.iSelectedTag,e)}static fnFilterTags(e){return Q.oDatabase.tags.filter((t=>~t.name.indexOf(e)))}static fnFilterGroups(e){return Q.oDatabase.groups.filter((t=>~t.name.indexOf(e)))}static fnFilterTreeCategoriesByGroup(e){var t=Q.oDatabase.categories.filter((t=>t.group_id==e&&1*t.parent_id===0)),i=JSON.parse(JSON.stringify(t)),a=[];for(var s of i)a=a.concat([s]),i=Q.fnFilterCategoriesByParent(s.id),a=a.concat(i);return a}static fnFilterCategoriesByGroup(e){return Q.oDatabase.categories.filter((t=>t.group_id==e&&1*t.parent_id===0))}static fnFilterCategoriesByParent(e,t=1){var i=Q.oDatabase.categories.filter((t=>t.parent_id==e)),a=JSON.parse(JSON.stringify(i)),s=[];for(var o of a)o.name="--".repeat(t)+(t>0?"--":"")+o.name,s=s.concat([o]),a=Q.fnFilterCategoriesByParent(o.id,t+1),s=s.concat(a);return s}static fnFilterCategories(e){return Q.oDatabase.categories.filter((t=>~t.name.indexOf(e)))}static fnFilterArticles(e){return Q.oDatabase.articles.filter((t=>~t.name.indexOf(e)))}static fnGetCurrentGroup(){return Q.oDatabase.groups.find((e=>e.id==Q.iSelectedGroup))}static fnGetCurrentCategory(){return Q.oDatabase.categories.find((e=>e.id==Q.iSelectedCategory))}static fnGetCurrentArticle(){return Q.oDatabase.articles.find((e=>e.id==Q.sSelectedArticleID))}static fnGetCurrentLink(){return Q.oDatabase.links.find((e=>e.id==Q.iSelectedLink))}static fnGetCurrentTag(){return Q.oDatabase.tags.find((e=>e.id==Q.iSelectedTag))}static fnFilterCategoriesByGroup(e){return Q.oDatabase.categories.filter((t=>t.group_id==e))}static fnFilterArticlesByCategory(e){return Q.oDatabase.articles.filter((t=>t.category_id==e))}static fnFilterArticlesByID(e){return Q.oDatabase.articles.filter((t=>t.id==e))}}(0,s.Z)(Q,"aReposList",[]),(0,s.Z)(Q,"iSelectedRepo",null),(0,s.Z)(Q,"sSelectedArticleID",null),(0,s.Z)(Q,"iSelectedCategory",null),(0,s.Z)(Q,"iSelectedGroup",null),(0,s.Z)(Q,"iSelectedTag",null),(0,s.Z)(Q,"iSelectedLink",null),(0,s.Z)(Q,"sFilePath","");const X={class:"dropdown"},ee=["onClick","innerHTML"];function te(e,t,i,a,s,o){return(0,w.wg)(),(0,w.iD)("div",X,[(0,w._)("a",{class:"btn dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:t[0]||(t[0]=(...e)=>o.fnMenuOpen&&o.fnMenuOpen(...e))}),(0,w._)("ul",{class:(0,_.C_)("dropdown-menu "+(s.bOpened?"show":""))},[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(s.aItems,(e=>((0,w.wg)(),(0,w.iD)("li",{key:e.id},[(0,w._)("a",{class:"dropdown-item",href:"#",onClick:t=>o.fnOnItemClick(e),innerHTML:e.title},null,8,ee)])))),128))],2)])}var ie={props:["items"],emits:["clickitem"],data(){return{aItems:this.items,bOpened:!1}},methods:{fnFocusOut(){this.bOpened=!1},fnMenuOpen(){this.bOpened=!this.bOpened},fnOnItemClick(e){this.bOpened=!1,this.$emit("clickitem",e)}},created(){window.addEventListener("click",(e=>{this.$el.contains(e.target)||(this.bOpened=!1)}))}};const ae=(0,O.Z)(ie,[["render",te]]);var se=ae,oe={name:"ListMode",components:{Dropdown:se},computed:{...(0,a.rn)(d`sSelectedArticleID`),...(0,a.Se)(d`oCurrentArticle fnGetCategory`),aArticleList(){return this.$store.getters.fnFilterArticles(this.sFilter)}},data(){return{sFilter:"",aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnShowArticleEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveArticle`),fnMenuItemClick(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnAddFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}}};const ne=(0,O.Z)(oe,[["render",J]]);var le=ne;const re={id:"mode-catalog",class:"mode"},de={class:"groups-panel"},ce={class:"actions-panel"},ue={class:"list"},pe=["onClick"],fe={class:(0,_.C_)("list-group-item list-group-item-action item-title ")},me={class:"item-inner-title"},ge={class:"categories-panel"},be={class:"actions-panel"},ve={class:"list"},we={class:"articles-panel"},_e={class:"actions-panel"},Ce={class:"list"},he=["onClick"],ye={class:(0,_.C_)("list-group-item list-group-item-action item-title ")},De={class:"item-inner-title"};function Se(e,t,i,a,s,o){const n=(0,w.up)("Dropdown"),l=(0,w.up)("TreeList");return(0,w.wg)(),(0,w.iD)("div",re,[(0,w._)("div",de,[(0,w._)("div",ce,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.sGroupGilter=e)},null,512),[[v.nr,s.sGroupGilter]]),(0,w.Wm)(n,{items:s.aGroupDropdownMenu,onClickitem:o.fnGroupClickItem},null,8,["items","onClickitem"])]),(0,w._)("div",ue,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aGroupList,(t=>((0,w.wg)(),(0,w.iD)("div",{key:t.id,class:(0,_.C_)("input-group item-row "+(t.id==e.sSelectedGroupID?"active":"")),onClick:i=>e.fnSelectGroup(t.id)},[(0,w._)("a",fe,[(0,w._)("div",me,(0,_.zw)(t.name),1)])],10,pe)))),128))])]),(0,w._)("div",ge,[(0,w._)("div",be,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.sCategoryFilter=e)},null,512),[[v.nr,s.sCategoryFilter]]),(0,w.Wm)(n,{items:s.aCategoryDropdownMenu,onClickitem:o.fnCategoryClickItem},null,8,["items","onClickitem"])]),(0,w._)("div",ve,[(0,w.Wm)(l,{list:o.aCategoryList,parent:0,level:0,selected:e.sSelectedCategoryID,onClickitem:o.fnSelectCategoryItem},null,8,["list","selected","onClickitem"])])]),(0,w._)("div",we,[(0,w._)("div",_e,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.sArticleFilter=e)},null,512),[[v.nr,s.sArticleFilter]]),(0,w.Wm)(n,{items:s.aArticleDropdownMenu,onClickitem:o.fnArticleClickItem},null,8,["items","onClickitem"])]),(0,w._)("div",Ce,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aArticleList,((t,i)=>((0,w.wg)(),(0,w.iD)("div",{key:i,class:(0,_.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,w._)("a",ye,[(0,w._)("div",De,(0,_.zw)(t.name),1)])],10,he)))),128))])])])}function Ie(e,t,i,a,s,o){const n=(0,w.up)("TreeItem");return(0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aList,(e=>((0,w.wg)(),(0,w.j4)(n,{key:e.id,item:e,parent:o.sParent,list:o.aList,selected:o.sSelectedID,level:o.iLevel,onClickitem:o.fnSelectItem},null,8,["item","parent","list","selected","level","onClickitem"])))),128)}const ke={class:(0,_.C_)("list-group-item list-group-item-action item-title ")},Ae={class:"bi bi-dash-square"},Le={class:"bi bi-plus-square"},Fe={class:"item-inner-title"};function Ee(e,t,i,a,s,o){const n=(0,w.up)("TreeItem");return(0,w.wg)(),(0,w.iD)(w.HY,null,[1*o.oItem.parent_id==1*o.sParent?((0,w.wg)(),(0,w.iD)("div",{key:0,class:(0,_.C_)("input-group item-tree-row "+(o.oItem.id==o.sSelectedID?"active":"")),onClick:t[1]||(t[1]=(...e)=>o.fnSelectItem&&o.fnSelectItem(...e))},[(0,w._)("a",ke,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.iLevel,(e=>((0,w.wg)(),(0,w.iD)("div",{class:"tree-spacer",key:e})))),128)),(0,w._)("a",{class:"item-flag",onClick:t[0]||(t[0]=(...e)=>o.fnToggleItem&&o.fnToggleItem(...e))},[(0,w.wy)((0,w._)("i",Ae,null,512),[[v.F8,s.bIsOpened]]),(0,w.wy)((0,w._)("i",Le,null,512),[[v.F8,!s.bIsOpened]])]),(0,w._)("div",Fe,(0,_.zw)(o.oItem.name),1)])],2)):(0,w.kq)("",!0),((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aList,(e=>((0,w.wg)(),(0,w.iD)(w.HY,{key:e.id},[1*e.parent_id==1*o.oItem.id&&s.bIsOpened?((0,w.wg)(),(0,w.j4)(n,{key:0,item:e,parent:o.oItem.id,list:o.aList,selected:o.sSelectedID,level:o.iLevel+1,onClickitem:o.fnForwardSelectItem},null,8,["item","parent","list","selected","level","onClickitem"])):(0,w.kq)("",!0)],64)))),128))],64)}var Re={name:"TreeItem",components:{TreeList:Oe},emits:["clickitem"],props:{item:Object,parent:{type:Number,default:0},list:Array,selected:[String,Number,null],level:{type:Number,default:0}},computed:{oItem(){return this.item},sParent(){return this.parent},aList(){return this.list},sSelectedID(){return this.selected},iLevel(){return this.level}},data(){return{bIsOpened:this.item.is_opened}},methods:{fnForwardSelectItem(e){this.$emit("clickitem",e)},fnSelectItem(){this.$emit("clickitem",this.oItem)},fnToggleItem(){this.oItem.is_opened=!this.oItem.is_opened,this.bIsOpened=this.oItem.is_opened}}};const Te=(0,O.Z)(Re,[["render",Ee]]);var We=Te,Ge={name:"TreeList",components:{TreeItem:We},emits:["clickitem"],props:{parent:{type:Number,default:0},list:Array,selected:[String,Number,null],level:{type:Number,default:0}},computed:{sParent(){return this.parent},aList(){return this.list},sSelectedID(){return this.selected},iLevel(){return this.level}},data(){return{}},methods:{fnSelectItem(e){this.$emit("clickitem",e)}}};const xe=(0,O.Z)(Ge,[["render",Ie]]);var Oe=xe,Ue={name:"CatalogMode",components:{Dropdown:se,TreeList:Oe},computed:{...(0,a.rn)(d`sSelectedGroupID sSelectedCategoryID sSelectedArticleID`),...(0,a.Se)(d`oCurrentGroup oCurrentCategory oCurrentArticle`),aGroupList(){return this.$store.getters.fnFilterGroups(this.sGroupGilter)},aCategoryList(){return this.$store.getters.fnFilterCurrentCategories(this.sCategoryFilter)},aArticleList(){return this.$store.getters.fnFilterCurrentArticles(this.sArticleFilter)}},data(){return{sGroupGilter:"",sCategoryFilter:"",sArticleFilter:"",aGroupDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aCategoryDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aArticleDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnSelectGroup fnSelectCategory fnShowGroupEditWindow fnShowCategoryEditWindow fnShowArticleEditWindow fnAddFavorite`),...(0,a.nv)(d`fnSelectArticle fnRemoveGroup fnRemoveCategory fnRemoveArticle`),fnSelectCategoryItem(e){this.fnSelectCategory(e.id)},fnGroupClickItem(e){"add"==e.id&&this.fnShowGroupEditWindow(null),"edit"==e.id&&(this.oCurrentGroup?this.fnShowGroupEditWindow(this.oCurrentGroup):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentGroup?this.fnRemoveGroup(this.oCurrentGroup):alert("Нужно выбрать"))},fnCategoryClickItem(e){"add"==e.id&&this.fnShowCategoryEditWindow(null),"edit"==e.id&&(this.oCurrentCategory?this.fnShowCategoryEditWindow(this.oCurrentCategory):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentCategory?this.fnRemoveCategory(this.oCurrentCategory):alert("Нужно выбрать"))},fnArticleClickItem(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnAddFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}},created(){}};const Ne=(0,O.Z)(Ue,[["render",Se]]);var Me=Ne;const He={id:"mode-favorites",class:"mode"},Pe={class:"favorites-panel"},Ve={class:"actions-panel"},Ze={class:"list"},$e=["onClick"],Ye={class:(0,_.C_)("list-group-item list-group-item-action item-title ")},ze={class:"item-inner-title"};function Ke(e,t,i,a,s,o){const n=(0,w.up)("Dropdown");return(0,w.wg)(),(0,w.iD)("div",He,[(0,w._)("div",Pe,[(0,w._)("div",Ve,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.sFavFilter=e)},null,512),[[v.nr,s.sFavFilter]]),(0,w.Wm)(n,{items:s.aDropdownMenu,onClickitem:o.fnArticleClickItem},null,8,["items","onClickitem"])]),(0,w._)("div",Ze,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aFavList,(t=>((0,w.wg)(),(0,w.iD)("div",{key:t.id,class:(0,_.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,w._)("a",Ye,[(0,w._)("div",ze,(0,_.zw)(t.name),1)])],10,$e)))),128))])])])}var Je={name:"FavoritesMode",components:{Dropdown:se},computed:{...(0,a.rn)(d`sSelectedArticleID oDatabase`),...(0,a.Se)(d`oCurrentArticle fnGetCategory`),aFavList(){return this.$store.state.oDatabase.favorites.map((e=>this.$store.state.oDatabase.articles.find((t=>t.id==e.article_id)))).filter((e=>~e?.name.indexOf(this.sFavFilter)))}},data(){return{sFavFilter:"",aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> Убрать из ибранного'}]}},methods:{...(0,a.OI)(d`fnShowArticleEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveArticle fnRemoveFavorite`),fnArticleClickItem(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnRemoveFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}}};const Be=(0,O.Z)(Je,[["render",Ke]]);var je=Be;const qe={id:"mode-tags",class:"mode"},Qe={class:"tags-panel"},Xe={class:"actions-panel"},et={class:"list"},tt=["onClick"],it={class:(0,_.C_)("list-group-item list-group-item-action item-title ")},at={class:"item-inner-title"},st={class:"tags-articles-panel"},ot={class:"actions-panel"},nt={class:"list"},lt=["onClick"],rt={class:(0,_.C_)("list-group-item list-group-item-action item-title ")},dt={class:"item-inner-title"};function ct(e,t,i,a,s,o){const n=(0,w.up)("Dropdown");return(0,w.wg)(),(0,w.iD)("div",qe,[(0,w._)("div",Qe,[(0,w._)("div",Xe,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.sTagFilter=e)},null,512),[[v.nr,s.sTagFilter]]),(0,w.Wm)(n,{items:s.aTagDropdownMenu,onClickitem:o.fnTagClickItem},null,8,["items","onClickitem"])]),(0,w._)("div",et,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aTagsList,(t=>((0,w.wg)(),(0,w.iD)("div",{key:t.id,class:(0,_.C_)("input-group item-row "+(t.id==e.sSelectedTagID?"active":"")),onClick:i=>e.fnSelectTag(t.id)},[(0,w._)("a",it,[(0,w._)("div",at,(0,_.zw)(t.name),1)])],10,tt)))),128))])]),(0,w._)("div",st,[(0,w._)("div",ot,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.sArticleFilter=e)},null,512),[[v.nr,s.sArticleFilter]])]),(0,w._)("div",nt,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aArticlesList,(t=>((0,w.wg)(),(0,w.iD)("div",{key:t.id,class:(0,_.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,w._)("a",rt,[(0,w._)("div",dt,(0,_.zw)(t.name),1)])],10,lt)))),128))])])])}var ut={name:"TagsMode",components:{Dropdown:se},computed:{...(0,a.rn)(d`sSelectedTagID sSelectedArticleID`),...(0,a.Se)(d`oCurrentTag`),aTagsList(){return this.$store.getters.fnFilterTags(this.sTagFilter)},aArticlesList(){return this.$store.getters.fnFilterCurrentTagsArticles(this.sArticleFilter)}},data(){return{sTagFilter:"",sArticleFilter:"",aTagDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aArticleDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnSelectTag fnShowTagEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveTag`),fnTagClickItem(e){"add"==e.id&&this.fnShowTagEditWindow(null),"edit"==e.id&&(this.oCurrentTag?this.fnShowTagEditWindow(this.oCurrentTag):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentTag?this.fnRemoveTag(this.oCurrentTag):alert("Нужно выбрать"))}}};const pt=(0,O.Z)(ut,[["render",ct]]);var ft=pt;const mt={id:"mode-links",class:"mode"},gt={class:"links-panel"},bt={class:"actions-panel"},vt={class:"list"},wt=["onClick"],_t={class:(0,_.C_)("list-group-item list-group-item-action item-title ")},Ct={class:"item-inner-title"},ht=["href"],yt={class:"item-inner-title"};function Dt(e,t,i,a,s,o){const n=(0,w.up)("Dropdown");return(0,w.wg)(),(0,w.iD)("div",mt,[(0,w._)("div",gt,[(0,w._)("div",bt,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>s.sFilter=e)},null,512),[[v.nr,s.sFilter]]),(0,w.Wm)(n,{items:s.aDropdownMenu,onClickitem:o.fnClickItem},null,8,["items","onClickitem"])]),(0,w._)("div",vt,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aLinkList,(t=>((0,w.wg)(),(0,w.iD)("div",{key:t.id,class:(0,_.C_)("input-group item-row item-links-row "+(t.id==e.sSelectedLinkID?"active":"")),onClick:i=>e.fnSelectLink(t.id)},[(0,w._)("a",_t,[(0,w._)("div",Ct,(0,_.zw)(t.name),1)]),(0,w._)("a",{href:t.url,class:"list-group-item list-group-item-action item-title link"},[(0,w._)("div",yt,(0,_.zw)(t.url),1)],8,ht)],10,wt)))),128))])])])}var St={name:"LinksMode",components:{Dropdown:se},computed:{...(0,a.rn)(d`sSelectedLinkID`),...(0,a.Se)(d`oCurrentLink`),aLinkList(){return this.$store.getters.fnFilterLinks(this.sFilter)}},data(){return{sFilter:"",sSelectedID:null,oSelectedLink:null,aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}]}},methods:{...(0,a.OI)(d`fnSelectLink fnShowLinkEditWindow`),...(0,a.nv)(d`fnRemoveLink`),fnClickItem(e){"add"==e.id&&this.fnShowLinkEditWindow(null),"edit"==e.id&&(this.oCurrentLink?this.fnShowLinkEditWindow(this.oCurrentLink):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentLink?this.fmRemoveLink(this.oCurrentLink):alert("Нужно выбрать"))}}};const It=(0,O.Z)(St,[["render",Dt]]);var kt=It;const At=(0,w._)("div",{class:"block-overlay"},null,-1),Lt={class:"modal fade show",id:"modal-error",tabindex:"-1"},Ft={class:"modal-dialog"},Et={class:"modal-content"},Rt={class:"modal-header"},Tt={class:"modal-title"},Wt={class:"modal-body"},Gt=(0,w._)("div",{class:"modal-footer"},null,-1);function xt(e,t,i,a,s,o){return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",null,[At,(0,w._)("div",Lt,[(0,w._)("div",Ft,[(0,w._)("div",Et,[(0,w._)("div",Rt,[(0,w._)("h5",Tt,(0,_.zw)(i.title),1),(0,w._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnCloseErrorWindow&&o.fnCloseErrorWindow(...e))})]),(0,w._)("div",Wt,(0,_.zw)(i.message),1),Gt])])])],512)),[[v.F8,e.bShowErrorWindow]])}var Ot={props:["message","title"],methods:{fnCloseErrorWindow(){q.emit("error-window-close")}}};const Ut=(0,O.Z)(Ot,[["render",xt]]);var Nt=Ut;const Mt=(0,w._)("div",{class:"block-overlay"},null,-1),Ht={id:"modal-ask-api-key",class:"modal show",tabindex:"-1"},Pt={class:"modal-dialog"},Vt={class:"modal-content"},Zt=(0,w._)("div",{class:"modal-header"},[(0,w._)("h5",{class:"modal-title"},"Данные репозитория")],-1),$t={class:"modal-body",style:{height:"500px","overflow-y":"scroll"}},Yt={class:"modal-ask-api_list_buttons"},zt=(0,w._)("div",null,null,-1),Kt={class:"mb-3"},Jt=(0,w._)("label",{for:"",class:"form-label"},"Логин",-1),Bt=(0,w._)("option",{value:"github"},"github",-1),jt=(0,w._)("option",{value:"webdav"},"webdav",-1),qt=[Bt,jt],Qt={class:"mb-3"},Xt=(0,w._)("label",{for:"",class:"form-label"},"Название",-1),ei={class:"mb-3"},ti=(0,w._)("label",{for:"",class:"form-label"},"Логин",-1),ii={class:"mb-3"},ai=(0,w._)("label",{for:"",class:"form-label"},"Репозиторий",-1),si={class:"mb-3"},oi=(0,w._)("label",{for:"",class:"form-label"},"API Ключ",-1),ni={class:"mb-3"},li=(0,w._)("label",{for:"",class:"form-label"},"URL",-1),ri={class:"mb-3"},di=(0,w._)("label",{for:"",class:"form-label"},"Пользователь",-1),ci={class:"mb-3"},ui=(0,w._)("label",{for:"",class:"form-label"},"Пароль",-1),pi={class:"modal-ask-api_list_buttons"},fi=(0,w._)("div",null,null,-1),mi={class:"list-repo-item_desc"},gi={class:"list-repo-item_title"},bi={class:"list-repo-item_type"},vi={class:"list-repo-item_name"},wi=(0,w._)("b",null,"login:",-1),_i=(0,w._)("b",null,"repo:",-1),Ci=(0,w._)("b",null,"key:",-1),hi=(0,w._)("b",null,"url:",-1),yi=(0,w._)("b",null,"username:",-1),Di=(0,w._)("b",null,"password:",-1),Si=["onClick"],Ii=(0,w._)("i",{class:"bi bi-pencil"},null,-1),ki=[Ii],Ai=["onClick"],Li=(0,w._)("i",{class:"bi bi-trash"},null,-1),Fi=[Li],Ei=["onClick"],Ri=(0,w._)("i",{class:"bi bi-star-fill"},null,-1),Ti=[Ri],Wi={class:"modal-footer"};function Gi(e,t,i,a,s,o){return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",null,[Mt,(0,w._)("div",Ht,[(0,w._)("div",Pt,[(0,w._)("div",Vt,[Zt,(0,w._)("div",$t,[null!==s.iEditIndex?((0,w.wg)(),(0,w.iD)(w.HY,{key:0},[(0,w._)("div",Yt,[zt,(0,w._)("div",null,[(0,w._)("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>o.fnCancelRepo&&o.fnCancelRepo(...e))},"Отмена"),(0,w._)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>o.fnSaveRepo&&o.fnSaveRepo(...e))},"Сохранить")])]),(0,w._)("div",Kt,[Jt,(0,w.wy)((0,w._)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>s.sFromType=e)},qt,512),[[v.bM,s.sFromType]])]),(0,w._)("div",Qt,[Xt,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=t=>e.sFormName=t)},null,512),[[v.nr,e.sFormName]])]),"github"==s.sFromType?((0,w.wg)(),(0,w.iD)(w.HY,{key:0},[(0,w._)("div",ei,[ti,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>s.sFormLogin=e)},null,512),[[v.nr,s.sFormLogin]])]),(0,w._)("div",ii,[ai,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>s.sFormRepo=e)},null,512),[[v.nr,s.sFormRepo]])]),(0,w._)("div",si,[oi,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.sFormKey=e)},null,512),[[v.nr,s.sFormKey]])])],64)):(0,w.kq)("",!0),"webdav"==s.sFromType?((0,w.wg)(),(0,w.iD)(w.HY,{key:1},[(0,w._)("div",ni,[li,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>s.sFormURL=e)},null,512),[[v.nr,s.sFormURL]])]),(0,w._)("div",ri,[di,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=t=>e.sFormUsername=t)},null,512),[[v.nr,e.sFormUsername]])]),(0,w._)("div",ci,[ui,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=t=>e.sFormPassword=t)},null,512),[[v.nr,e.sFormPassword]])])],64)):(0,w.kq)("",!0)],64)):((0,w.wg)(),(0,w.iD)(w.HY,{key:1},[(0,w._)("div",pi,[fi,(0,w._)("div",null,[(0,w._)("button",{class:"btn btn-secondary",onClick:t[10]||(t[10]=(...e)=>o.fnExport&&o.fnExport(...e))},"Экспортировать"),(0,w._)("button",{class:"btn btn-danger",onClick:t[11]||(t[11]=(...e)=>o.fnCleanRepo&&o.fnCleanRepo(...e))},"Очистить"),(0,w._)("button",{class:"btn btn-success",onClick:t[12]||(t[12]=(...e)=>o.fnNewRepo&&o.fnNewRepo(...e))},"Добавить")])]),((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(e.aReposList,((t,i)=>((0,w.wg)(),(0,w.iD)("div",{key:i,class:(0,_.C_)("list-repo-item "+(e.iSelectedRepoIndex==i?"active":""))},[t?((0,w.wg)(),(0,w.iD)(w.HY,{key:0},[(0,w._)("div",mi,[(0,w._)("div",gi,[(0,w._)("div",bi,(0,_.zw)(t.type),1),(0,w._)("div",vi,(0,_.zw)(t.name),1)]),"github"==t.type?((0,w.wg)(),(0,w.iD)(w.HY,{key:0},[(0,w._)("div",null,[wi,(0,w.Uk)(" "+(0,_.zw)(t.login),1)]),(0,w._)("div",null,[_i,(0,w.Uk)(" "+(0,_.zw)(t.repo),1)]),(0,w._)("div",null,[Ci,(0,w.Uk)(" "+(0,_.zw)(t.key),1)])],64)):(0,w.kq)("",!0),"webdav"==t.type?((0,w.wg)(),(0,w.iD)(w.HY,{key:1},[(0,w._)("div",null,[hi,(0,w.Uk)(" "+(0,_.zw)(t.url),1)]),(0,w._)("div",null,[yi,(0,w.Uk)(" "+(0,_.zw)(t.username),1)]),(0,w._)("div",null,[Di,(0,w.Uk)(" "+(0,_.zw)(t.password),1)])],64)):(0,w.kq)("",!0)]),(0,w._)("div",null,[(0,w._)("button",{class:"btn btn-success",onClick:e=>o.fnEditRepo(i),title:"Редактировать"},ki,8,Si),(0,w._)("button",{class:"btn btn-danger",onClick:e=>o.fnRemoveRepo(i),title:"Удалить"},Fi,8,Ai),(0,w._)("button",{class:"btn btn-info",onClick:e=>o.fnSelectRepo(i),title:"Выбрать"},Ti,8,Ei)])],64)):(0,w.kq)("",!0)],2)))),128))],64))]),(0,w._)("div",Wi,[(0,w._)("button",{class:"btn btn-success",onClick:t[13]||(t[13]=e=>o.fnAcceptRepo())},"Выбрать")])])])])],512)),[[v.F8,e.bShowRepoWindow]])}var xi={name:"AskAPIWindow",components:{},computed:{...(0,a.rn)(d`aReposList iSelectedRepoIndex bShowRepoWindow`)},data(){return{iEditIndex:null,sFormLogin:"",sFormRepo:"",sFormKey:"",sFormURL:"",sFromType:"github"}},methods:{...(0,a.OI)(d`fnReposRemove fnReposSelect fnReposClean fnReposUpdate`),...(0,a.nv)(d`fnPrepareRepo`),fnSaveRepo(){if(this.sFormName){var e={name:this.sFormName,login:this.sFormLogin,repo:this.sFormRepo,key:this.sFormKey,type:this.sFromType,url:this.sFormURL,username:this.sFormUsername,password:this.sFormPassword};this.fnReposUpdate({iIndex:this.iEditIndex,oObj:e}),_l(this.aReposList),this.iEditIndex=null}else alert("Надо заполнить поле - Название")},fnNewRepo(){this.iEditIndex=-1,this.sFormName="",this.sFormLogin="",this.sFormRepo="",this.sFormKey="",this.sFormType="github",this.sFormURL="",this.sFormUsername="",this.sFormPassword=""},fnEditRepo(e){this.iEditIndex=e;var t=this.aReposList[this.iEditIndex];this.sFormName=t.name,this.sFormLogin=t.login,this.sFormRepo=t.repo,this.sFormKey=t.key,this.sFormType=t.type,this.sFormURL=t.url,this.sFormUsername=t.username,this.sFormPassword=t.password},fnRemoveRepo(e){this.fnReposRemove(e)},fnSelectRepo(e){this.fnReposSelect(e)},fnCleanRepo(){this.fnReposClean()},fnCancelRepo(){this.iEditIndex=null},fnAcceptRepo(){if(!this.aReposList[this.iSelectedRepoIndex])return alert("Нужно выбрать репозиторий");this.fnPrepareRepo()},fnExport(){f("database",JSON.stringify(this.aReposList))}},created(){}};const Oi=(0,O.Z)(xi,[["render",Gi]]);var Ui=Oi;const Ni=(0,w._)("div",{class:"block-overlay"},null,-1),Mi={class:"modal show",id:"modal-edit-article",tabindex:"-1"},Hi={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Pi={class:"modal-content"},Vi={class:"modal-header"},Zi=(0,w._)("h5",{class:"modal-title"},"Статья",-1),$i={class:"modal-body"},Yi={class:"mb-3"},zi=(0,w._)("label",{for:"",class:"form-label"},"Название",-1),Ki={class:"modal-footer"};function Ji(e,t,i,a,s,o){return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",null,[Ni,(0,w._)("div",Mi,[(0,w._)("div",Hi,[(0,w._)("div",Pi,[(0,w._)("div",Vi,[Zi,(0,w._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,w._)("div",$i,[(0,w._)("div",Yi,[zi,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sGroupEditWindowGroupName=t)},null,512),[[v.nr,e.sGroupEditWindowGroupName]])])]),(0,w._)("div",Ki,[(0,w._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,w._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[v.F8,e.bShowGroupEditWindow]])}var Bi={name:"EditGroup",props:{},computed:{...(0,a.rn)(d`bShowGroupEditWindow`),...u("sGroupEditWindowGroupName")},methods:{...(0,a.OI)(d`fnHideGroupEditWindow`),...(0,a.nv)(d`fnSaveGroup`),fnSave(){this.fnSaveGroup(),this.fnHideGroupEditWindow()},fnClose(){this.fnHideGroupEditWindow()}}};const ji=(0,O.Z)(Bi,[["render",Ji]]);var qi=ji;const Qi=(0,w._)("div",{class:"block-overlay"},null,-1),Xi={class:"modal show",id:"modal-edit-category",tabindex:"-1"},ea={class:"modal-dialog"},ta={class:"modal-content"},ia={class:"modal-header"},aa=(0,w._)("h5",{class:"modal-title"},"Редактирование категории",-1),sa={class:"modal-body"},oa={class:"mb-3"},na=(0,w._)("label",{for:"",class:"form-label"},"Родительская группа",-1),la=["value"],ra={class:"mb-3"},da=(0,w._)("label",{for:"",class:"form-label"},"Родительская категория",-1),ca=["value"],ua={class:"mb-3"},pa=(0,w._)("label",{for:"",class:"form-label"},"Название",-1),fa={class:"modal-footer"};function ma(e,t,i,a,s,o){return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",null,[Qi,(0,w._)("div",Xi,[(0,w._)("div",ea,[(0,w._)("div",ta,[(0,w._)("div",ia,[aa,(0,w._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,w._)("div",sa,[(0,w._)("div",oa,[na,(0,w._)("div",null,[(0,w.wy)((0,w._)("select",{id:"edit-category-group",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sCategoryEditWindowGroupID=t)},[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(e.aGroupsList,(e=>((0,w.wg)(),(0,w.iD)("option",{key:e.id,value:e.id},(0,_.zw)(e.name),9,la)))),128))],512),[[v.bM,e.sCategoryEditWindowGroupID]])])]),(0,w._)("div",ra,[da,(0,w._)("div",null,[(0,w.wy)((0,w._)("select",{id:"edit-category-parent",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sCategoryEditWindowCategoryID=t)},[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aCategoriesList,(e=>((0,w.wg)(),(0,w.iD)("option",{key:e.id,value:e.id},(0,_.zw)(e.name),9,ca)))),128))],512),[[v.bM,e.sCategoryEditWindowCategoryID]])])]),(0,w._)("div",ua,[pa,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control",id:"edit-category-name","aria-describedby":"","onUpdate:modelValue":t[3]||(t[3]=t=>e.sCategoryEditWindowCategoryName=t)},null,512),[[v.nr,e.sCategoryEditWindowCategoryName]])])]),(0,w._)("div",fa,[(0,w._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,w._)("button",{id:"category-edit-save",type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[v.F8,e.bShowCategoryEditWindow]])}var ga={name:"EditCategory",props:{},computed:{...(0,a.rn)(d`bShowCategoryEditWindow`),...(0,a.Se)(d`aGroupsList`),...u("sCategoryEditWindowCategoryName sCategoryEditWindowGroupID sCategoryEditWindowCategoryID"),aCategoriesList(){return this.$store.getters.fnFilterCategoriesByGroup(this.sCategoryEditWindowGroupID)}},data(){return{}},methods:{...(0,a.OI)(d`fnHideCategoryEditWindow`),...(0,a.nv)(d`fnSaveCategory`),fnSave(){this.fnSaveCategory(),this.fnHideCategoryEditWindow()},fnClose(){this.fnHideCategoryEditWindow()}}};const ba=(0,O.Z)(ga,[["render",ma]]);var va=ba;const wa=(0,w._)("div",{class:"block-overlay"},null,-1),_a={class:"modal show",id:"modal-edit-category",tabindex:"-1"},Ca={class:"modal-dialog"},ha={class:"modal-content"},ya={class:"modal-header"},Da=(0,w._)("h5",{class:"modal-title"},"Редактирование категории",-1),Sa={class:"modal-body"},Ia={class:"mb-3"},ka=(0,w._)("label",{for:"",class:"form-label"},"Родительская группа",-1),Aa=["value"],La={class:"mb-3"},Fa=(0,w._)("label",{for:"",class:"form-label"},"Родительская категория",-1),Ea=["value"],Ra={class:"mb-3"},Ta=(0,w._)("label",{for:"",class:"form-label"},"Название",-1),Wa={class:"modal-footer"};function Ga(e,t,i,a,s,o){return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",null,[wa,(0,w._)("div",_a,[(0,w._)("div",Ca,[(0,w._)("div",ha,[(0,w._)("div",ya,[Da,(0,w._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,w._)("div",Sa,[(0,w._)("div",Ia,[ka,(0,w._)("div",null,[(0,w.wy)((0,w._)("select",{id:"edit-category-group",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sArticleEditWindowGroupID=t)},[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(e.aGroupsList,(e=>((0,w.wg)(),(0,w.iD)("option",{key:e.id,value:e.id},(0,_.zw)(e.name),9,Aa)))),128))],512),[[v.bM,e.sArticleEditWindowGroupID]])])]),(0,w._)("div",La,[Fa,(0,w._)("div",null,[(0,w.wy)((0,w._)("select",{id:"edit-category-parent",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sArticleEditWindowCategoryID=t)},[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aCategoriesList,(e=>((0,w.wg)(),(0,w.iD)("option",{key:e.id,value:e.id},(0,_.zw)(e.name),9,Ea)))),128))],512),[[v.bM,e.sArticleEditWindowCategoryID]])])]),(0,w._)("div",Ra,[Ta,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control",id:"edit-category-name","aria-describedby":"","onUpdate:modelValue":t[3]||(t[3]=t=>e.sArticleEditWindowArticleName=t)},null,512),[[v.nr,e.sArticleEditWindowArticleName]])])]),(0,w._)("div",Wa,[(0,w._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,w._)("button",{id:"category-edit-save",type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[v.F8,e.bShowArticleEditWindow]])}var xa={name:"EditArticle",props:{},computed:{...(0,a.rn)(d`bShowArticleEditWindow`),...(0,a.Se)(d`aGroupsList fnFilterCategoriesByGroup`),...u("sArticleEditWindowArticleName sArticleEditWindowGroupID sArticleEditWindowCategoryID"),aCategoriesList(){return this.$store.getters.fnFilterCategoriesByGroup(this.sArticleEditWindowGroupID)}},data(){return{bShowWindow:!1}},methods:{...(0,a.OI)(d`fnHideArticleEditWindow`),...(0,a.nv)(d`fnSaveArticle`),fnSave(){this.fnSaveArticle(),this.fnHideArticleEditWindow()},fnClose(){this.fnHideArticleEditWindow()}}};const Oa=(0,O.Z)(xa,[["render",Ga]]);var Ua=Oa;const Na=(0,w._)("div",{class:"block-overlay"},null,-1),Ma={class:"modal show",id:"modal-edit-article",tabindex:"-1"},Ha={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Pa={class:"modal-content"},Va={class:"modal-header"},Za=(0,w._)("h5",{class:"modal-title"},"Статья",-1),$a={class:"modal-body"},Ya={class:"mb-3"},za=(0,w._)("label",{for:"",class:"form-label"},"Название",-1),Ka={class:"mb-3"},Ja=(0,w._)("label",{for:"",class:"form-label"},"URL",-1),Ba={class:"modal-footer"};function ja(e,t,i,a,s,o){return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",null,[Na,(0,w._)("div",Ma,[(0,w._)("div",Ha,[(0,w._)("div",Pa,[(0,w._)("div",Va,[Za,(0,w._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,w._)("div",$a,[(0,w._)("div",Ya,[za,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sLinkEditWindowLinkName=t)},null,512),[[v.nr,e.sLinkEditWindowLinkName]])]),(0,w._)("div",Ka,[Ja,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sLinkEditWindowLinkURL=t)},null,512),[[v.nr,e.sLinkEditWindowLinkURL]])])]),(0,w._)("div",Ba,[(0,w._)("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,w._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[4]||(t[4]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[v.F8,e.bShowLinkEditWindow]])}var qa={name:"EditLink",props:{},computed:{...(0,a.rn)(d`bShowLinkEditWindow`),...u("sLinkEditWindowLinkName sLinkEditWindowLinkURL")},data(){return{}},methods:{...(0,a.OI)(d`fnHideLinkEditWindow`),...(0,a.nv)(d`fnSaveLink`),fnClose(){this.fnHideLinkEditWindow()},fnSave(){this.fnSaveLink(),this.fnHideLinkEditWindow()}}};const Qa=(0,O.Z)(qa,[["render",ja]]);var Xa=Qa;const es=(0,w._)("div",{class:"block-overlay"},null,-1),ts={class:"modal show",id:"modal-edit-article",tabindex:"-1"},is={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},as={class:"modal-content"},ss={class:"modal-header"},os=(0,w._)("h5",{class:"modal-title"},"Статья",-1),ns={class:"modal-body"},ls={class:"mb-3"},rs=(0,w._)("label",{for:"",class:"form-label"},"Название",-1),ds={class:"modal-footer"};function cs(e,t,i,a,s,o){return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",null,[es,(0,w._)("div",ts,[(0,w._)("div",is,[(0,w._)("div",as,[(0,w._)("div",ss,[os,(0,w._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,w._)("div",ns,[(0,w._)("div",ls,[rs,(0,w.wy)((0,w._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sTagEditWindowTagName=t)},null,512),[[v.nr,e.sTagEditWindowTagName]])])]),(0,w._)("div",ds,[(0,w._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,w._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[v.F8,e.bShowTagEditWindow]])}var us={name:"EditGroup",props:{},computed:{...(0,a.rn)(d`bShowTagEditWindow`),...u("sTagEditWindowTagName")},data(){return{}},methods:{...(0,a.OI)(d`fnHideTagEditWindow`),...(0,a.nv)(d`fnSaveTag`),fnClose(){this.fnHideTagEditWindow()},fnSave(){this.fnSaveTag(),this.fnHideTagEditWindow()}}};const ps=(0,O.Z)(us,[["render",cs]]);var fs=ps;const ms={class:"page-panel"},gs={class:"actions-panel page-actions-panel"},bs=(0,w._)("i",{class:"bi bi-save"},null,-1),vs=[bs],ws=(0,w._)("i",{class:"bi bi-link-45deg"},null,-1),Cs=[ws],hs=(0,w._)("i",{class:"bi bi-file-code"},null,-1),ys=[hs],Ds=(0,w._)("i",{class:"bi bi-tags"},null,-1),Ss=[Ds],Is=(0,w._)("i",{class:"bi bi-image"},null,-1),ks=[Is],As=(0,w._)("i",{class:"bi bi-journal-text"},null,-1),Ls=[As],Fs=(0,w._)("div",{class:"actions-panel-spacer"},null,-1),Es=(0,w._)("i",{class:"bi bi-x-lg"},null,-1),Rs=[Es],Ts={class:"tab-page"},Ws={class:"tab-page-tags"},Gs={class:"tab-page-images"},xs={class:"actions-panel"},Os={class:"list"},Us=(0,w._)("a",{class:(0,_.C_)("list-group-item list-group-item-action item-title ")},[(0,w._)("div",{class:"item-inner-title"},[(0,w._)("img",{src:""})])],-1),Ns=(0,w._)("div",{class:"image-path"},null,-1),Ms=[Us,Ns],Hs={class:"tab-page-comments"},Ps={class:"actions-panel"},Vs=(0,w._)("div",null,null,-1);function Zs(e,t,i,a,s,o){const n=(0,w.up)("ckeditor"),l=(0,w.up)("TagsSelector");return(0,w.wy)(((0,w.wg)(),(0,w.iD)("div",ms,[(0,w._)("div",gs,[(0,w._)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>o.fnSaveEditorContents&&o.fnSaveEditorContents(...e))},vs),(0,w._)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...e)=>o.fnOpenLink&&o.fnOpenLink(...e))},Cs),(0,w._)("button",{class:(0,_.C_)("btn "+("page"==s.sCurrentTab?"btn-primary":"")),onClick:t[2]||(t[2]=e=>s.sCurrentTab="page")},ys,2),(0,w._)("button",{class:(0,_.C_)("btn "+("tags"==s.sCurrentTab?"btn-primary":"")),onClick:t[3]||(t[3]=e=>s.sCurrentTab="tags")},Ss,2),(0,w._)("button",{class:(0,_.C_)("btn "+("images"==s.sCurrentTab?"btn-primary":"")),onClick:t[4]||(t[4]=e=>s.sCurrentTab="images")},ks,2),(0,w._)("button",{class:(0,_.C_)("btn "+("comments"==s.sCurrentTab?"btn-primary":"")),onClick:t[5]||(t[5]=e=>s.sCurrentTab="comments")},Ls,2),Fs,(0,w._)("button",{class:"btn btn-danger",onClick:t[6]||(t[6]=(...e)=>o.fnClose&&o.fnClose(...e))},Rs)]),(0,w.wy)((0,w._)("div",Ts,[(0,w.Wm)(n,{editor:s.oClassicEditor,modelValue:s.sData,"onUpdate:modelValue":t[7]||(t[7]=e=>s.sData=e),config:s.oEditorConfig,ref:"editorjs",style:{height:"100%"},onReady:o.onEditorReady,onInput:o.onEditorInput},null,8,["editor","modelValue","config","onReady","onInput"])],512),[[v.F8,"page"==s.sCurrentTab]]),(0,w.wy)((0,w._)("div",Ws,[(0,w.Wm)(l,{id:s.sArticleID},null,8,["id"])],512),[[v.F8,"tags"==s.sCurrentTab]]),(0,w.wy)((0,w._)("div",Gs,[(0,w._)("div",xs,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[8]||(t[8]=e=>s.sImagesFilter=e),onInput:t[9]||(t[9]=(...e)=>o.fnImagesFilter&&o.fnImagesFilter(...e))},null,544),[[v.nr,s.sImagesFilter]])]),(0,w._)("div",Os,[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(s.aImagesList,(e=>((0,w.wg)(),(0,w.iD)("div",{key:e.id,class:(0,_.C_)("input-group item-row item-image-row")},Ms)))),128))])],512),[[v.F8,"images"==s.sCurrentTab]]),(0,w.wy)((0,w._)("div",Hs,[(0,w._)("div",Ps,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[10]||(t[10]=e=>s.sCommentsFilter=e),onInput:t[11]||(t[11]=(...e)=>o.fnCommentsFilter&&o.fnCommentsFilter(...e))},null,544),[[v.nr,s.sCommentsFilter]])]),Vs],512),[[v.F8,"comments"==s.sCurrentTab]])],512)),[[v.F8,e.bShowEditor]])}const $s={class:"selecteion-tag-panel"},Ys={class:"left-tag-panel"},zs={class:"actions-panel"},Ks=(0,w._)("i",{class:"bi bi-arrow-repeat"},null,-1),Js=[Ks],Bs={class:"selector"},js=["value"],qs={class:"middle-tag-panel"},Qs=(0,w._)("i",{class:"bi bi-chevron-double-left"},null,-1),Xs=[Qs],eo=(0,w._)("i",{class:"bi bi-chevron-compact-left"},null,-1),to=[eo],io=(0,w._)("i",{class:"bi bi-chevron-compact-right"},null,-1),ao=[io],so=(0,w._)("i",{class:"bi bi-chevron-double-right"},null,-1),oo=[so],no={class:"right-tag-panel"},lo={class:"actions-panel"},ro=(0,w._)("i",{class:"bi bi-arrow-repeat"},null,-1),co=[ro],uo={class:"selector"},po=["value"];function fo(e,t,i,a,s,o){return(0,w.wg)(),(0,w.iD)("div",$s,[(0,w._)("div",Ys,[(0,w._)("div",zs,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>s.sAllTagFilter=e)},null,512),[[v.nr,s.sAllTagFilter]]),(0,w._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>o.fnAllTagsFilter&&o.fnAllTagsFilter(...e))},Js)]),(0,w._)("div",Bs,[(0,w.wy)((0,w._)("select",{multiple:"",size:"10","onUpdate:modelValue":t[2]||(t[2]=e=>s.aSelectedAllTags=e)},[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(o.aTagsList,(e=>((0,w.wg)(),(0,w.iD)("option",{key:e.id,value:e.id},(0,_.zw)(e.name),9,js)))),128))],512),[[v.bM,s.aSelectedAllTags]])])]),(0,w._)("div",qs,[(0,w._)("button",{class:"btn",onClick:t[3]||(t[3]=(...e)=>o.fnMoveAllLeft&&o.fnMoveAllLeft(...e))},Xs),(0,w._)("button",{class:"btn",onClick:t[4]||(t[4]=(...e)=>o.fnMoveOneLeft&&o.fnMoveOneLeft(...e))},to),(0,w._)("button",{class:"btn",onClick:t[5]||(t[5]=(...e)=>o.fnMoveOneRight&&o.fnMoveOneRight(...e))},ao),(0,w._)("button",{class:"btn",onClick:t[6]||(t[6]=(...e)=>o.fnMoveAllRight&&o.fnMoveAllRight(...e))},oo)]),(0,w._)("div",no,[(0,w._)("div",lo,[(0,w.wy)((0,w._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[7]||(t[7]=e=>s.sSelectedTagFilter=e),onInput:t[8]||(t[8]=(...e)=>o.fnSelectedTagsFilter&&o.fnSelectedTagsFilter(...e))},null,544),[[v.nr,s.sSelectedTagFilter]]),(0,w._)("button",{class:"btn",onClick:t[9]||(t[9]=(...e)=>o.fnSelectedTagsFilter&&o.fnSelectedTagsFilter(...e))},co)]),(0,w._)("div",uo,[(0,w.wy)((0,w._)("select",{multiple:"",size:"10","onUpdate:modelValue":t[10]||(t[10]=e=>s.aSelectedArticleTags=e)},[((0,w.wg)(!0),(0,w.iD)(w.HY,null,(0,w.Ko)(s.aSelectedTagsList,(e=>((0,w.wg)(),(0,w.iD)("option",{key:e.id,value:e.id},(0,_.zw)(e.name),9,po)))),128))],512),[[v.bM,s.aSelectedArticleTags]])])])])}var mo={name:"TagsSelector",props:{id:[String,null]},computed:{...(0,a.rn)(d`sSelectedTagID`),...(0,a.Se)(d`oCurrentTag`),sID(){return this.id},aTagsList(){return this.$store.getters.fnFilterTags(this.sTagFilter)}},data(){return{sAllTagFilter:"",sSelectedTagFilter:"",aAllTagsList:[],aSelectedTagsList:[],aSelectedAllTags:[],aSelectedArticleTags:[]}},watch:{id(e,t){var i=this;i.fnAllTagsFilter(),i.fnSelectedTagsFilter()}},methods:{...(0,a.OI)(d`fnSelectTag fnShowTagEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveTag`),fnAllTagsFilter(){},fnSelectedTagsFilter(){},fnMoveAllLeft(){},fnMoveOneLeft(){},fnMoveOneRight(){},fnMoveAllRight(){}},mounted(){}};const go=(0,O.Z)(mo,[["render",fo]]);var bo=go,vo=i(6713),wo=i.n(vo),_o={name:"PageEditor",props:[],components:{TagsSelector:bo},computed:{...(0,a.rn)(d`bShowEditor sArticleContent`)},data(){return{sCurrentTab:"page",sImagesFilter:"",sCommentsFilter:"",sData:"",sArticleID:null,oArticle:null,oEditor:null,oClassicEditor:wo(),oEditorConfig:{},aImagesList:[]}},watch:{sArticleContent(e,t){this.oEditor.setData(e)}},methods:{...(0,a.OI)(d`fnHideEditor`),...(0,a.nv)(d`fnSaveArticleContent fnSaveArticlePage`),onEditorReady(e){_l("onEditorReady"),this.oEditor=e,e.editing.view.change((t=>{t.setStyle("height","calc(100vh - 20px - 40px - 30px)",e.editing.view.document.getRoot())}))},onEditorInput(){this.fnSaveEditorContents()},fnSaveEditorContents(){this.oEditor&&(this.fnSaveArticleContent(this.oEditor.getData()),this.fnSaveArticlePage())},fnOpenLink(){},fnImagesFilter(){},fnCommentsFilter(){},fnClose(){this.fnHideEditor()}},mounted(){}};const Co=(0,O.Z)(_o,[["render",Zs]]);var ho=Co;const yo={class:"toast-container position-fixed top-0 end-0 p-3"},Do={class:"toast fade show",role:"alert","aria-live":"assertive","aria-atomic":"true"},So=(0,w._)("div",{class:"toast-header"},[(0,w._)("strong",{class:"me-auto"},"Сохранено"),(0,w._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1),Io=(0,w._)("div",{class:"toast-body"}," Данные были сохранены ",-1),ko=[So,Io];function Ao(e,t,i,a,s,o){return(0,w.wg)(),(0,w.iD)("div",yo,[(0,w.wy)((0,w._)("div",Do,ko,512),[[v.F8,e.bShowSaveToast]])])}var Lo={name:"SavedToast",components:{},computed:{...u("bShowSaveToast")},data(){return{}},watch:{bShowSaveToast(e,t){e&&setTimeout((()=>{this.bShowSaveToast=!1}),2e3)}}};const Fo=(0,O.Z)(Lo,[["render",Ao]]);var Eo=Fo,Ro={name:"App",components:{Loader:N,ListMode:le,CatalogMode:Me,FavoritesMode:je,TagsMode:ft,LinksMode:kt,ErrorWindow:Nt,AskAPIWindow:Ui,PageEditor:ho,SavedToast:Eo,EditGroup:qi,EditCategory:va,EditArticle:Ua,EditLink:Xa,EditTag:fs},computed:{...(0,a.rn)(d`bShowRepoWindow sSelectedArticleID`),...u("bShowSaveToast"),sCurrentMode:{set(e){this.$store.commit("fnUpdateMode",e)},get(){return this.$store.state.sCurrentMode}}},data(){return{aMenu:[{class:"app-mode-list",title:"Список",icon:"bi-justify"},{class:"app-mode-catalog",title:"Каталог",icon:"bi-grid-1x2"},{class:"app-mode-favorites",title:"Избранное",icon:"bi-star-fill"},{class:"app-mode-tags",title:"Тэги",icon:"bi-tags"},{class:"app-mode-links",title:"Ссылки",icon:"bi-link"},{class:"app-publish-btn",title:"Публикация",icon:"bi-journal-arrow-up"},{class:"app-export-btn",title:"Экспорт",icon:"bi-download"},{class:"app-import-btn",title:"Импорт",icon:"bi-upload"}]}},methods:{...(0,a.OI)(d`fnLoadRepos fnShowRepoWindow`),...(0,a.nv)(d`fnSaveDatabase fnSaveArticlePage`),fnMenuItemClick(e){"app-publish-btn"==e.class||("app-export-btn"==e.class?f("database",JSON.stringify(this.$store.state.oDatabase)):"app-import-btn"==e.class||(this.sCurrentMode=e.class))},fnSaveAll(){this.sSelectedArticleID&&this.fnSaveArticlePage(),this.fnSaveDatabase(),this.bShowSaveToast=!0}},mounted(){var e=this;document.addEventListener("keydown",(t=>{t.ctrlKey&&83===t.keyCode&&(t.preventDefault(),_l("CTRL + S"),e.fnSaveAll())}))},created(){this.fnLoadRepos()}};const To=(0,O.Z)(Ro,[["render",E]]);var Wo=To,Go=i(9907),xo=i.n(Go);i.g._l=(...e)=>(console.log.apply(console,e),e[0]),i.g._s=()=>{var e=new Error;console.trace(e.stack.match(/at ([^\n]*)/g)[1])},(0,v.ri)(Wo).use(b).use(xo()).mount("#app")}},t={};function i(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a](o,o.exports,i),o.loaded=!0,o.exports}i.m=e,function(){var e=[];i.O=function(t,a,s,o){if(!a){var n=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],o=e[c][2];for(var l=!0,r=0;r<a.length;r++)(!1&o||n>=o)&&Object.keys(i.O).every((function(e){return i.O[e](a[r])}))?a.splice(r--,1):(l=!1,o<n&&(n=o));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,s,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,n=a[0],l=a[1],r=a[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(s in l)i.o(l,s)&&(i.m[s]=l[s]);if(r)var c=r(i)}for(t&&t(a);d<n.length;d++)o=n[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},a=self["webpackChunkwapp_github_blog_engine_vue"]=self["webpackChunkwapp_github_blog_engine_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(4757)}));a=i.O(a)})();
//# sourceMappingURL=app.0673904a.js.map