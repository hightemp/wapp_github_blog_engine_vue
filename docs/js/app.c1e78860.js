(function(){"use strict";var e={7312:function(e,t,i){i(7658);var a=i(7139),n=i(7327),o=i(13),s=i(8228),l=i(6704);class r{static fnInit(e){r.oRepoItem=e,"github"==e.type&&r.fnInitGit(),"webdav"==e.type&&r.fnInitWebdav()}static fnInitGit(){_s("Database.fnInitGit"),r.octokit=new o.v({auth:r.oRepoItem.key})}static fnInitWebdav(){r.webdav=(0,s.createClient)(r.oRepoItem.url,{username:r.oRepoItem.username,password:r.oRepoItem.password})}static fnReadFileJSON(e){return new Promise((async(t,i)=>{this.fnReadFile(e).then((({sData:e})=>{t(JSON.parse(e))})).catch((e=>{i(e)}))}))}static fnReadFile(e){return"github"==r.oRepoItem.type?r.fnReadFileGithub(e):"webdav"==r.oRepoItem.type?r.fnReadFileWebdav(e):void 0}static fnWriteFileJSON(e,t){return this.fnWriteFile(e,JSON.stringify(t))}static fnWriteFile(e,t){return"github"==r.oRepoItem.type?r.fnWriteFileGithub(e,t):"webdav"==r.oRepoItem.type?r.fnWriteFileWebdav(e,t):void 0}static fnCreateDir(e){if("webdav"==r.oRepoItem.type)return r.fnCreateDirWebdav(e)}static fnCreateDirWebdav(e){return new Promise((async(t,i)=>{_l(">>>",e),r.webdav.createDirectory(e),t()}))}static fnReadFileWebdav(e){r.oRepoItem;return new Promise((async(t,i)=>{try{var a=await r.webdav.getFileContents(e),n=new TextDecoder("utf-8"),o=n.decode(a);r.oSHA[e]="",t({sData:o,sSHA:""})}catch(s){console.error(s),i(s)}}))}static fnReadFileGithub(e){return new Promise((async(t,i)=>{var a=r.oRepoItem;return e=e.replace(/^\/+/,""),r.octokit.rest.repos.getContent({owner:a.login,repo:a.repo,path:e}).then((({data:i})=>{var a=(0,l.Jx)(i.content);r.oSHA[e]=i.sha,t({sData:a,sSHA:i.sha})})).catch((e=>{console.error(e),i(e)}))}))}static fnWriteFileGithub(e,t,i=null){return new Promise((async(a,n)=>{var o=r.oRepoItem;return r.octokit.rest.repos.createOrUpdateFileContents({owner:o.sLogin,repo:o.sRepo,path:e,sha:i||oSHA[e],message:r.fnGetUpdateMessage(),content:(0,l.cv)(t)}).then((()=>{a()})).catch((e=>{console.error(e),n(e)}))}))}static fnWriteFileWebdav(e,t){return new Promise((async(i,a)=>{r.oRepoItem;return new Promise((async(i,a)=>{try{var n=new TextEncoder,o=n.encode(t);await r.webdav.putFileContents(e,o,{contentLength:!1,overwrite:!0}),i()}catch(s){a(s)}}))}))}static fnGetUpdateMessage(){return"update: "+new Date}}function d(e){return e[0].split(" ")}function c(e){return{[e]:{get(){return this.$store.state[e]},set(t){this.$store.commit("fnUpdateVar",{sName:e,sV:_l(t,"<<")})}}}}function u(e){var t={},i=e.split(" ");for(var a of i)t=Object.assign(t,c(a));return t}function m(){return(Math.random()+1).toString(36).substring(7)}function p(e,t){var i="data:text/json;charset=utf-8,"+encodeURIComponent(t),a=document.createElement("A");a.setAttribute("href",i),a.setAttribute("download",`${e}_${(new Date).getTime()}.json`),a.click(),a.remove()}(0,n.Z)(r,"octokit",null),(0,n.Z)(r,"oSHA",{}),(0,n.Z)(r,"webdav",null),(0,n.Z)(r,"oRepoItem",null);const f="notes-database.json";function g(e,t){var i=e.oDatabase.categories.find((e=>e.id==t));return i.parent_id?g(e,i.parent_id):i}var b=(0,a.MT)({state(){return{aReposList:[],oRepo:null,iSelectedRepoIndex:null,bShowErrorWindow:!1,sErrorWindowMessage:"",sErrorWindowTitle:"",bShowRepoWindow:!0,bShowGroupEditWindow:!1,oGroupEditItem:null,sGroupEditWindowGroupName:"",bShowCategoryEditWindow:!1,oCategoryEditItem:null,sCategoryEditWindowCategoryName:"",sCategoryEditWindowGroupID:"",sCategoryEditWindowCategoryID:"",bShowArticleEditWindow:!1,oArticleEditItem:null,sArticleEditWindowArticleName:"",sArticleEditWindowGroupID:"",sArticleEditWindowCategoryID:"",bShowTagEditWindow:!1,oTagEditItem:null,sTagEditWindowTagName:"",bShowLinkEditWindow:!1,oLinkEditItem:null,sLinkEditWindowLinkName:"",sLinkEditWindowLinkURL:"",bShowRepoWindow:!0,bShowSaveToast:!1,bShowLoader:!1,bShowEditor:!1,sArticleContent:"",sCurrentMode:"",iEditIndex:null,oDatabase:{groups_last_id:0,groups:[],categories_last_id:0,categories:[],articles_last_id:0,articles:[],favorites_last_id:0,favorites:[],tags_last_id:0,tags:[],tags_relations_last_id:0,tags_relations:[],links_last_id:0,links:[]},sSelectedArticleID:null,sSelectedCategoryID:null,sSelectedGroupID:null,sSelectedTagID:null,sSelectedLinkID:null}},mutations:{fnReposRemove(e,t){e.aReposList.splice(t,1),localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnReposSelect(e,t){e.iSelectedRepoIndex=t},fnReposClean(e){e.aReposList=[],localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnReposUpdate(e,{iIndex:t,oObj:i}){-1==t?e.aReposList.push(i):e.aReposList.splice(t,1,i),localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnLoadRepos(e){try{e.aReposList=JSON.parse(localStorage.getItem("aReposList")||"[]")}catch(t){}},fnUpdateDatabase(e,t){e.oDatabase=t},fnHideRepoWindow(e){e.bShowRepoWindow=!1},fnShowRepoWindow(e){e.bShowRepoWindow=!0},fnShowLoader(e){e.bShowLoader=!0},fnHideLoader(e){e.bShowLoader=!1},fnShowEditor(e){e.bShowEditor=!0},fnHideEditor(e){e.bShowEditor=!1},fnSelectGroup(e,t){e.sSelectedGroupID=t},fnSelectCategory(e,t){e.sSelectedCategoryID=t},fnSelectArticle(e,t){e.sSelectedArticleID=t},fnSelectTag(e,t){e.sSelectedTagID=t},fnSelectLink(e,t){e.sSelectedLinkID=t},fnSetArticleContent(e,t){e.sArticleContent=t},fnUpdateMode(e,t){e.sCurrentMode=t},fnShowGroupEditWindow(e,t){e.bShowGroupEditWindow=!0,e.oGroupEditItem=t,_l(">>>",t),e.sGroupEditWindowGroupName=t?t.name:""},fnHideGroupEditWindow(e){e.bShowGroupEditWindow=!1},fnShowCategoryEditWindow(e,t){if(e.bShowCategoryEditWindow=!0,e.oCategoryEditItem=t,t){e.sCategoryEditWindowCategoryName=t.name;var i=g(e,t.id);_l(">>>",i),e.sCategoryEditWindowGroupID=i?.group_id,e.sCategoryEditWindowCategoryID=t.parent_id}else e.sCategoryEditWindowCategoryName="",e.sCategoryEditWindowGroupID="",e.sCategoryEditWindowCategoryID=""},fnHideCategoryEditWindow(e){e.bShowCategoryEditWindow=!1},fnShowArticleEditWindow(e,t){if(e.bShowArticleEditWindow=!0,e.oArticleEditItem=t,t){e.sArticleEditWindowArticleName=t.name;var i=e.oDatabase.categories.find((e=>e.id==t.category_id));e.sArticleEditWindowGroupID=i?.group_id,e.sArticleEditWindowCategoryID=t.category_id}else e.sArticleEditWindowArticleName="",e.sArticleEditWindowCategoryID="",e.sArticleEditWindowGroupID=""},fnHideArticleEditWindow(e){e.bShowArticleEditWindow=!1},fnShowTagEditWindow(e,t){e.bShowTagEditWindow=!0,e.oTagEditItem=t,e.sTagEditWindowTagName=t?t.name:""},fnHideTagEditWindow(e){e.bShowTagEditWindow=!1},fnShowLinkEditWindow(e,t){e.bShowLinkEditWindow=!0,e.oLinkEditItem=t,t?(e.sLinkEditWindowLinkName=t.name,e.sLinkEditWindowLinkURL=t.url):(e.sLinkEditWindowLinkName="",e.sLinkEditWindowLinkURL="")},fnHideLinkEditWindow(e){e.bShowLinkEditWindow=!1},fnUpdateDatabaseTable(e,{sTableName:t,sField:i,sV:a}){e.oDatabase[t][i]=a},fnUpdateVar(e,{sName:t,sV:i}){e[t]=i},fnAddGroup(e,t){e.oDatabase.groups_last_id++,t={...t,id:e.oDatabase.groups_last_id},e.oDatabase.groups.push(t)},fnUpdateGroup(e,{iIndex:t,oItem:i}){e.oDatabase.groups.splice(t,1,i)},fnRemoveGroup(e,t){e.oDatabase.groups.splice(t,1)},fnAddCategory(e,t){e.oDatabase.categories_last_id++,t={...t,id:e.oDatabase.categories_last_id},e.oDatabase.categories.push(t)},fnUpdateCategory(e,{iIndex:t,oItem:i}){e.oDatabase.categories.splice(t,1,i)},fnRemoveCategory(e,t){e.oDatabase.categories.splice(t,1)},fnAddArticle(e,t){e.oDatabase.articles_last_id++,t={...t,id:e.oDatabase.articles_last_id},e.oDatabase.articles.push(t)},fnUpdateArticle(e,{iIndex:t,oItem:i}){e.oDatabase.articles.splice(t,1,i)},fnRemoveArticle(e,t){e.oDatabase.articles.splice(t,1)},fnAddTag(e,t){e.oDatabase.tags_last_id++,t={...t,id:e.oDatabase.tags_last_id},e.oDatabase.tags.push(t)},fnUpdateTag(e,{iIndex:t,oItem:i}){_l(">>>",i),e.oDatabase.tags.splice(t,1,i)},fnRemoveTag(e,t){e.oDatabase.tags.splice(t,1)},fnAddLink(e,t){e.oDatabase.links_last_id++,t={...t,id:e.oDatabase.links_last_id},e.oDatabase.links.push(t)},fnUpdateLink(e,{iIndex:t,oItem:i}){e.oDatabase.links.splice(t,1,i)},fnRemoveLink(e,t){e.oDatabase.links.splice(t,1)},fnSaveArticleContent(e,{iIndex:t,sContent:i}){e.sArticleContent=i},fnAddFavorite(e,t){~e.oDatabase.findIndex((e=>e.id==t.id))||(e.oDatabase.articles_last_id++,e.oDatabase.favorites.push({id:e.oDatabase.articles_last_id,article_id:t.id}))},fnRemoveFavorite(e,t){var i=e.oDatabase.favorites.findIndex((e=>e.article_id==t.id));e.oDatabase.favorites.splice(i,1)}},actions:{fnPrepareRepo({commit:e,state:t,dispatch:i,getters:a}){e("fnHideRepoWindow"),r.fnInit(a.oCurrentRepo),i("fnLoadDatabase")},fnSaveDatabase({commit:e,state:t}){return r.fnWriteFileJSON(f,t.oDatabase)},fnSaveArticlePage({commit:e,state:t,getters:i}){var a=i.fnGetCurrentArticlePath();r.fnWriteFile(a,t.sArticleContent)},fnLoadDatabase({commit:e,state:t}){e("fnShowLoader"),r.fnReadFileJSON(f).then((t=>{e("fnUpdateDatabase",t),e("fnHideLoader")})).catch((i=>{(i+"").match(/Not Found/)&&(_l(">>>",i+""),r.fnWriteFileJSON(f,t.oDatabase).then((()=>{r.fnReadFileJSON(f).then((t=>{e("fnUpdateDatabase",t),e("fnHideLoader")}))})))}))},fnUpdateGroup({commit:e,getters:t},i){var a=t.fnGetGroupIndex(i.id);e("fnUpdateGroup",{iIndex:a,oItem:i})},fnUpdateCategory({commit:e,getters:t},i){var a=t.fnGetCategoryIndex(i.id);e("fnUpdateCategory",{iIndex:a,oItem:i})},fnUpdateArticle({commit:e,getters:t},i){var a=t.fnGetArticleIndex(i.id);e("fnUpdateArticle",{iIndex:a,oItem:i})},fnUpdateTag({commit:e,getters:t},i){var a=t.fnGetTagIndex(i.id);e("fnUpdateTag",{iIndex:a,oItem:i})},fnUpdateLink({commit:e,getters:t},i){var a=t.fnGetLinkIndex(i.id);e("fnUpdateLink",{iIndex:a,oItem:i})},fnRemoveGroup({commit:e,getters:t},i){var a=t.fnGetGroupIndex(i.id);e("fnRemoveGroup",a)},fnRemoveCategory({commit:e,getters:t},i){var a=t.fnGetCategoryIndex(i.id);e("fnRemoveCategory",a)},fnRemoveArticle({commit:e,getters:t,state:i},a){var n=t.fnGetArticleIndex(a.id);e("fnRemoveArticle",n)},fnRemoveTag({commit:e,getters:t},i){var a=t.fnGetTagIndex(i.id);e("fnRemoveTag",a)},fnRemoveLink({commit:e,getters:t},i){var a=t.fnGetLinkIndex(i.id);e("fnRemoveLink",a)},async fnSelectArticle({commit:e,state:t,getters:i},a){if(e("fnSelectArticle",a),_l(">>>",a),a){var n=i.fnGetCurrentArticlePath();r.fnCreateDir("/pages/");r.fnReadFile(n).then((({sData:t,sSHA:i})=>{e("fnShowEditor"),e("fnSetArticleContent",t)})).catch((t=>{(t+"").match(/Not Found/)&&(r.fnWriteFile(n,""),e("fnShowEditor"),e("fnSetArticleContent",""))}))}},fnSaveGroup({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oGroupEditItem){var n={name:a.sGroupEditWindowGroupName};e("fnAddGroup",n)}else a.oGroupEditItem.name=a.sGroupEditWindowGroupName,t("fnUpdateGroup",a.oGroupEditItem)},fnSaveCategory({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oCategoryEditItem){var n={name:a.sCategoryEditWindowCategoryName,parent_id:sCategoryEditWindowCategoryID};e("fnAddCategory",n)}else a.oCategoryEditItem.name=a.sCategoryEditWindowCategoryName,a.oCategoryEditItem.parent_id=a.sCategoryEditWindowCategoryID,t("fnUpdateCategory",a.oCategoryEditItem)},fnSaveArticle({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oArticleEditItem){var n={name:a.sArticleEditWindowArticleName,category_id:a.sArticleEditWindowCategoryID,hash_name:m(),html:""};e("fnAddArticle",n)}else a.oArticleEditItem.name=a.sArticleEditWindowArticleName,a.oArticleEditItem.category_id=a.sArticleEditWindowCategoryID,t("fnUpdateArticle",a.oArticleEditItem)},fnSaveTag({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oTagEditItem){var n={name:a.sTagEditWindowTagName};e("fnAddTag",n)}else a.oTagEditItem.name=a.sTagEditWindowTagName,t("fnUpdateTag",a.oTagEditItem)},fnSaveLink({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oLinkEditItem){var n={name:a.sLinkEditWindowLinkName,url:a.sLinkEditWindowLinkURL};e("fnAddLink",n)}else a.oLinkEditItem.name=a.sLinkEditWindowLinkName,a.oLinkEditItem.url=a.sLinkEditWindowLinkURL,t("fnUpdateLink",a.oLinkEditItem)},fnSaveArticleContent({commit:e,getters:t,state:i},a){var n=i.oDatabase.articles.findIndex((e=>e.id==t.oCurrentArticle.id));e("fnSaveArticleContent",{iIndex:n,sContent:a})}},getters:{fnGetCurrentArticlePath:(e,t)=>()=>`/pages/${t.oCurrentArticle.hash_name}.html`,oCurrentRepo(e){return e.aReposList[e.iSelectedRepoIndex]},fnGetCategory:e=>t=>e.oDatabase.categories.find((e=>e.id==t)),fnGetGroup:e=>t=>e.oDatabase.groups.find((e=>e.id==t)),fnGetArticle:e=>t=>e.oDatabase.articles.find((e=>e.id==t)),fnGetCategoryIndex:e=>t=>e.oDatabase.categories.findIndex((e=>e.id==t)),fnGetGroupIndex:e=>t=>e.oDatabase.groups.findIndex((e=>e.id==t)),fnGetArticleIndex:e=>t=>e.oDatabase.articles.findIndex((e=>e.id==t)),fnGetTagIndex:e=>t=>e.oDatabase.tags.findIndex((e=>e.id==t)),fnGetLinkIndex:e=>t=>e.oDatabase.links.findIndex((e=>e.id==t)),fnFilterCurrentCategories:e=>t=>e.oDatabase.categories.filter((i=>~i.name.indexOf(t)&&i.group_id==e.sSelectedGroupID)),fnFilterCurrentArticles:e=>t=>e.oDatabase.articles.filter((i=>~i.name.indexOf(t)&&i.category_id==e.sSelectedCategoryID)),fnGetFavorites:e=>()=>e.oDatabase.articles.filter((t=>~e.oDatabase.favorites.findIndex((e=>t.id==e.id)))),fnFilterFavorites:(e,t)=>e=>t.fnGetFavorites().filter((t=>~t.name.indexOf(e))),fnFilterLinks:e=>t=>e.oDatabase.links.filter((e=>~e.name.indexOf(t))),fnGetArticlesTags:e=>t=>e.oDatabase.tags.filter((i=>~e.oDatabase.tags_relations.findIndex((e=>t==e.article_id&&e.tag_id==i.id)))),fnFilterArticlesTags:(e,t)=>(e,i)=>t.fnGetArticlesTags(e).filter((e=>~e.name.indexOf(i))),fnGetTagsArticles:e=>t=>e.oDatabase.articles.filter((i=>~e.oDatabase.tags_relations.findIndex((e=>i.id==e.article_id&&e.tag_id==t)))),fnFilterTagsArticles:(e,t)=>(e,i)=>t.fnGetTagsArticles(e).filter((e=>~e.name.indexOf(i))),fnFilterCurrentTagsArticles:(e,t)=>i=>t.fnFilterTagsArticles(e.sSelectedTagID,i),fnFilterTags:e=>t=>e.oDatabase.tags.filter((e=>~e.name.indexOf(t))),fnFilterGroups:e=>t=>e.oDatabase.groups.filter((e=>~e.name.indexOf(t))),fnFilterTreeCategoriesByGroup:(e,t)=>i=>{var a=e.oDatabase.categories.filter((e=>e.group_id==i&&1*e.parent_id===0)),n=JSON.parse(JSON.stringify(a)),o=[];for(var s of n)o=o.concat([s]),n=t.fnFilterCategoriesByParent(s.id),o=o.concat(n);return o},fnFilterRootCategoriesByGroup:e=>t=>e.oDatabase.categories.filter((e=>e.group_id==t&&1*e.parent_id===0)),fnFilterCategoriesByParent:(e,t)=>(i,a=1)=>{var n=e.oDatabase.categories.filter((e=>e.parent_id==i)),o=JSON.parse(JSON.stringify(n)),s=[];for(var l of o)l.name="--".repeat(a)+(a>0?"--":"")+l.name,s=s.concat([l]),o=t.fnFilterCategoriesByParent(l.id,a+1),s=s.concat(o);return s},fnFilterCategories:e=>t=>e.oDatabase.categories.filter((e=>~e.name.indexOf(t))),fnFilterArticles:e=>t=>e.oDatabase.articles.filter((e=>~e.name.indexOf(t))),fnFilterFavorites:(e,t)=>e=>t.fnGetFavorites().filter((t=>~t.name.indexOf(e))),fnFilterTags:e=>t=>e.oDatabase.tags.filter((e=>~e.name.indexOf(t))),fnFilterLinks:e=>t=>e.oDatabase.links.filter((e=>~e.name.indexOf(t))),aGroupsList(e){return e.oDatabase.groups},aCategoriesList(e){return e.oDatabase.categories},aArticlesList(){return state.oDatabase.articles},aTagsList(){return state.oDatabase.tags},aLinksist(){return state.oDatabase.links},oCurrentGroup(e,t){return e.oDatabase.groups.find((t=>t.id==e.sSelectedGroupID))},oCurrentCategory(e,t){return e.oDatabase.categories.find((t=>t.id==e.sSelectedCategoryID))},oCurrentArticle(e,t){return e.oDatabase.articles.find((t=>t.id==e.sSelectedArticleID))},oCurrentTag(e,t){return e.oDatabase.tags.find((t=>t.id==e.sSelectedTagID))},oCurrentLink(e,t){return e.oDatabase.links.find((t=>t.id==e.sSelectedLinkID))},fnGetCurrentLink:e=>()=>e.oDatabase.links.find((t=>t.id==e.sSelectedLinkID)),fnGetCurrentTag:e=>()=>e.oDatabase.tags.find((t=>t.id==e.sSelectedTagID)),fnFilterCategoriesByGroup:e=>t=>e.oDatabase.categories.filter((e=>e.group_id==t)),fnFilterArticlesByCategory:e=>t=>e.oDatabase.articles.filter((e=>e.category_id==t)),fnFilterArticlesByID:e=>t=>e.oDatabase.articles.filter((e=>e.id==t))}}),w=i(9242),v=i(3396),h=i(2268);const C={class:"wrapper"},_={class:"app-modes"},y=(0,v._)("i",{class:"bi bi-person-fill"},null,-1),S=[y],k=(0,v._)("i",{class:"bi bi-cloud-arrow-up"},null,-1),I=[k],D=(0,v._)("hr",null,null,-1),E=["title","onClick"],A={class:"current-mode"},L={class:"editor-wrapper"};function W(e,t,i,a,n,o){const s=(0,v.up)("ListMode"),l=(0,v.up)("CatalogMode"),r=(0,v.up)("FavoritesMode"),d=(0,v.up)("TagsMode"),c=(0,v.up)("LinksMode"),u=(0,v.up)("PageEditor"),m=(0,v.up)("ErrorWindow"),p=(0,v.up)("AskAPIWindow"),f=(0,v.up)("EditGroup"),g=(0,v.up)("EditCategory"),b=(0,v.up)("EditArticle"),y=(0,v.up)("EditLink"),k=(0,v.up)("EditTag"),W=(0,v.up)("Loader"),F=(0,v.up)("SavedToast");return(0,v.wg)(),(0,v.iD)(v.HY,null,[(0,v._)("div",C,[(0,v._)("div",_,[(0,v._)("button",{class:"btn",onClick:t[0]||(t[0]=(...t)=>e.fnShowRepoWindow&&e.fnShowRepoWindow(...t)),title:"Выбрать другую сессию"},S),(0,v._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>o.fnSaveAll&&o.fnSaveAll(...e)),title:"Сохранить все"},I),D,((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(n.aMenu,(e=>((0,v.wg)(),(0,v.iD)("a",{key:e.class,class:(0,h.C_)((o.sCurrentMode==e.class?"btn-primary":"")+" btn "+e.class),title:e.title,onClick:t=>o.fnMenuItemClick(e)},[(0,v._)("i",{class:(0,h.C_)("bi "+e.icon)},null,2)],10,E)))),128))]),(0,v._)("div",A,[(0,v.wy)((0,v.Wm)(s,null,null,512),[[w.F8,"app-mode-list"==o.sCurrentMode]]),(0,v.wy)((0,v.Wm)(l,null,null,512),[[w.F8,"app-mode-catalog"==o.sCurrentMode]]),(0,v.wy)((0,v.Wm)(r,null,null,512),[[w.F8,"app-mode-favorites"==o.sCurrentMode]]),(0,v.wy)((0,v.Wm)(d,null,null,512),[[w.F8,"app-mode-tags"==o.sCurrentMode]]),(0,v.wy)((0,v.Wm)(c,null,null,512),[[w.F8,"app-mode-links"==o.sCurrentMode]])]),(0,v._)("div",L,[(0,v.Wm)(u)])]),(0,v.Wm)(m,{message:e.sErrorWindowMessage,title:e.sErrorWindowTitle},null,8,["message","title"]),(0,v.Wm)(p),(0,v.Wm)(f),(0,v.Wm)(g),(0,v.Wm)(b),(0,v.Wm)(y),(0,v.Wm)(k),(0,v.Wm)(W),(0,v.Wm)(F)],64)}const F={class:"loader"},T=(0,v._)("div",{class:"center"},[(0,v._)("div",{class:"lds-dual-ring"})],-1),R=[T];function G(e,t,i,a,n,o){return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",F,R,512)),[[w.F8,e.bShowLoader]])}var x={computed:{...(0,a.rn)(d`bShowLoader`)}},U=i(89);const O=(0,U.Z)(x,[["render",G]]);var M=O;const N={id:"mode-list",class:"mode"},H={class:"all-articles-panel"},P={class:"actions-panel"},V={class:"list"},Y=["onClick"],z={class:(0,h.C_)("list-group-item list-group-item-action item-title ")},K={class:"item-inner-title"},$={class:"item-inner-title"};function Z(e,t,i,a,n,o){const s=(0,v.up)("Dropdown");return(0,v.wg)(),(0,v.iD)("div",N,[(0,v._)("div",H,[(0,v._)("div",P,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFilter=e)},null,512),[[w.nr,n.sFilter]]),(0,v.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnMenuItemClick},null,8,["items","onClickitem"])]),(0,v._)("div",V,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aArticleList,(t=>((0,v.wg)(),(0,v.iD)("div",{key:t.id,class:(0,h.C_)("input-group item-row item-artilces-list "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,v._)("a",z,[(0,v._)("div",K,(0,h.zw)(t.name),1)]),(0,v._)("div",$,(0,h.zw)(e.fnGetCategory(t.category_id)?.name),1)],10,Y)))),128))])])])}const j={class:"dropdown"},J=["onClick","innerHTML"];function B(e,t,i,a,n,o){return(0,v.wg)(),(0,v.iD)("div",j,[(0,v._)("a",{class:"btn dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:t[0]||(t[0]=(...e)=>o.fnMenuOpen&&o.fnMenuOpen(...e))}),(0,v._)("ul",{class:(0,h.C_)("dropdown-menu "+(n.bOpened?"show":""))},[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(n.aItems,(e=>((0,v.wg)(),(0,v.iD)("li",{key:e.id},[(0,v._)("a",{class:"dropdown-item",href:"#",onClick:t=>o.fnOnItemClick(e),innerHTML:e.title},null,8,J)])))),128))],2)])}var q={props:["items"],emits:["clickitem"],data(){return{aItems:this.items,bOpened:!1}},methods:{fnFocusOut(){this.bOpened=!1},fnMenuOpen(){this.bOpened=!this.bOpened},fnOnItemClick(e){this.bOpened=!1,this.$emit("clickitem",e)}},created(){window.addEventListener("click",(e=>{this.$el.contains(e.target)||(this.bOpened=!1)}))}};const Q=(0,U.Z)(q,[["render",B]]);var X=Q,ee={name:"ListMode",components:{Dropdown:X},computed:{...(0,a.rn)(d`sSelectedArticleID`),...(0,a.Se)(d`oCurrentArticle fnGetCategory`),aArticleList(){return this.$store.getters.fnFilterArticles(this.sFilter)}},data(){return{sFilter:"",aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnShowArticleEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveArticle`),fnMenuItemClick(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnAddFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}}};const te=(0,U.Z)(ee,[["render",Z]]);var ie=te;const ae={id:"mode-catalog",class:"mode"},ne={class:"groups-panel"},oe={class:"actions-panel"},se={class:"list"},le=["onClick"],re={class:(0,h.C_)("list-group-item list-group-item-action item-title ")},de={class:"item-inner-title"},ce={class:"categories-panel"},ue={class:"actions-panel"},me={class:"list"},pe={class:"articles-panel"},fe={class:"actions-panel"},ge={class:"list"},be=["onClick"],we={class:(0,h.C_)("list-group-item list-group-item-action item-title ")},ve={class:"item-inner-title"};function he(e,t,i,a,n,o){const s=(0,v.up)("Dropdown"),l=(0,v.up)("TreeList");return(0,v.wg)(),(0,v.iD)("div",ae,[(0,v._)("div",ne,[(0,v._)("div",oe,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sGroupGilter=e)},null,512),[[w.nr,n.sGroupGilter]]),(0,v.Wm)(s,{items:n.aGroupDropdownMenu,onClickitem:o.fnGroupClickItem},null,8,["items","onClickitem"])]),(0,v._)("div",se,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aGroupList,(t=>((0,v.wg)(),(0,v.iD)("div",{key:t.id,class:(0,h.C_)("input-group item-row "+(t.id==e.sSelectedGroupID?"active":"")),onClick:i=>e.fnSelectGroup(t.id)},[(0,v._)("a",re,[(0,v._)("div",de,(0,h.zw)(t.name),1)])],10,le)))),128))])]),(0,v._)("div",ce,[(0,v._)("div",ue,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>n.sCategoryFilter=e)},null,512),[[w.nr,n.sCategoryFilter]]),(0,v.Wm)(s,{items:n.aCategoryDropdownMenu,onClickitem:o.fnCategoryClickItem},null,8,["items","onClickitem"])]),(0,v._)("div",me,[(0,v.Wm)(l,{list:o.aCategoryList,parent:0,level:0,selected:e.sSelectedCategoryID,onClickitem:o.fnSelectCategoryItem},null,8,["list","selected","onClickitem"])])]),(0,v._)("div",pe,[(0,v._)("div",fe,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>n.sArticleFilter=e)},null,512),[[w.nr,n.sArticleFilter]]),(0,v.Wm)(s,{items:n.aArticleDropdownMenu,onClickitem:o.fnArticleClickItem},null,8,["items","onClickitem"])]),(0,v._)("div",ge,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aArticleList,((t,i)=>((0,v.wg)(),(0,v.iD)("div",{key:i,class:(0,h.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,v._)("a",we,[(0,v._)("div",ve,(0,h.zw)(t.name),1)])],10,be)))),128))])])])}function Ce(e,t,i,a,n,o){const s=(0,v.up)("TreeItem");return(0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aList,(e=>((0,v.wg)(),(0,v.j4)(s,{key:e.id,item:e,parent:o.sParent,list:o.aList,selected:o.sSelectedID,level:o.iLevel,onClickitem:o.fnSelectItem},null,8,["item","parent","list","selected","level","onClickitem"])))),128)}const _e={class:(0,h.C_)("list-group-item list-group-item-action item-title ")},ye={class:"bi bi-dash-square"},Se={class:"bi bi-plus-square"},ke={class:"item-inner-title"};function Ie(e,t,i,a,n,o){const s=(0,v.up)("TreeItem");return(0,v.wg)(),(0,v.iD)(v.HY,null,[1*o.oItem.parent_id==1*o.sParent?((0,v.wg)(),(0,v.iD)("div",{key:0,class:(0,h.C_)("input-group item-tree-row "+(o.oItem.id==o.sSelectedID?"active":"")),onClick:t[1]||(t[1]=(...e)=>o.fnSelectItem&&o.fnSelectItem(...e))},[(0,v._)("a",_e,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.iLevel,(e=>((0,v.wg)(),(0,v.iD)("div",{class:"tree-spacer",key:e})))),128)),(0,v._)("a",{class:"item-flag",onClick:t[0]||(t[0]=(...e)=>o.fnToggleItem&&o.fnToggleItem(...e))},[(0,v.wy)((0,v._)("i",ye,null,512),[[w.F8,n.bIsOpened]]),(0,v.wy)((0,v._)("i",Se,null,512),[[w.F8,!n.bIsOpened]])]),(0,v._)("div",ke,(0,h.zw)(o.oItem.name),1)])],2)):(0,v.kq)("",!0),((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aList,(e=>((0,v.wg)(),(0,v.iD)(v.HY,{key:e.id},[1*e.parent_id==1*o.oItem.id&&n.bIsOpened?((0,v.wg)(),(0,v.j4)(s,{key:0,item:e,parent:o.oItem.id,list:o.aList,selected:o.sSelectedID,level:o.iLevel+1,onClickitem:o.fnForwardSelectItem},null,8,["item","parent","list","selected","level","onClickitem"])):(0,v.kq)("",!0)],64)))),128))],64)}var De={name:"TreeItem",components:{TreeList:Fe},emits:["clickitem"],props:{item:Object,parent:{type:Number,default:0},list:Array,selected:[String,Number,null],level:{type:Number,default:0}},computed:{oItem(){return this.item},sParent(){return this.parent},aList(){return this.list},sSelectedID(){return this.selected},iLevel(){return this.level}},data(){return{bIsOpened:this.item.is_opened}},methods:{fnForwardSelectItem(e){this.$emit("clickitem",e)},fnSelectItem(){this.$emit("clickitem",this.oItem)},fnToggleItem(){this.oItem.is_opened=!this.oItem.is_opened,this.bIsOpened=this.oItem.is_opened}}};const Ee=(0,U.Z)(De,[["render",Ie]]);var Ae=Ee,Le={name:"TreeList",components:{TreeItem:Ae},emits:["clickitem"],props:{parent:{type:Number,default:0},list:Array,selected:[String,Number,null],level:{type:Number,default:0}},computed:{sParent(){return this.parent},aList(){return this.list},sSelectedID(){return this.selected},iLevel(){return this.level}},data(){return{}},methods:{fnSelectItem(e){this.$emit("clickitem",e)}}};const We=(0,U.Z)(Le,[["render",Ce]]);var Fe=We,Te={name:"CatalogMode",components:{Dropdown:X,TreeList:Fe},computed:{...(0,a.rn)(d`sSelectedGroupID sSelectedCategoryID sSelectedArticleID`),...(0,a.Se)(d`oCurrentGroup oCurrentCategory oCurrentArticle`),aGroupList(){return this.$store.getters.fnFilterGroups(this.sGroupGilter)},aCategoryList(){return this.$store.getters.fnFilterCurrentCategories(this.sCategoryFilter)},aArticleList(){return this.$store.getters.fnFilterCurrentArticles(this.sArticleFilter)}},data(){return{sGroupGilter:"",sCategoryFilter:"",sArticleFilter:"",aGroupDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aCategoryDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aArticleDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnSelectGroup fnSelectCategory fnShowGroupEditWindow fnShowCategoryEditWindow fnShowArticleEditWindow fnAddFavorite`),...(0,a.nv)(d`fnSelectArticle fnRemoveGroup fnRemoveCategory fnRemoveArticle`),fnSelectCategoryItem(e){this.fnSelectCategory(e.id)},fnGroupClickItem(e){"add"==e.id&&this.fnShowGroupEditWindow(null),"edit"==e.id&&(this.oCurrentGroup?this.fnShowGroupEditWindow(this.oCurrentGroup):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentGroup?this.fnRemoveGroup(this.oCurrentGroup):alert("Нужно выбрать"))},fnCategoryClickItem(e){"add"==e.id&&this.fnShowCategoryEditWindow(null),"edit"==e.id&&(this.oCurrentCategory?this.fnShowCategoryEditWindow(this.oCurrentCategory):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentCategory?this.fnRemoveCategory(this.oCurrentCategory):alert("Нужно выбрать"))},fnArticleClickItem(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnAddFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}},created(){}};const Re=(0,U.Z)(Te,[["render",he]]);var Ge=Re;const xe={id:"mode-favorites",class:"mode"},Ue={class:"favorites-panel"},Oe={class:"actions-panel"},Me={class:"list"},Ne=["onClick"],He={class:(0,h.C_)("list-group-item list-group-item-action item-title ")},Pe={class:"item-inner-title"};function Ve(e,t,i,a,n,o){const s=(0,v.up)("Dropdown");return(0,v.wg)(),(0,v.iD)("div",xe,[(0,v._)("div",Ue,[(0,v._)("div",Oe,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFavFilter=e)},null,512),[[w.nr,n.sFavFilter]]),(0,v.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnArticleClickItem},null,8,["items","onClickitem"])]),(0,v._)("div",Me,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aFavList,(t=>((0,v.wg)(),(0,v.iD)("div",{key:t.id,class:(0,h.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,v._)("a",He,[(0,v._)("div",Pe,(0,h.zw)(t.name),1)])],10,Ne)))),128))])])])}var Ye={name:"FavoritesMode",components:{Dropdown:X},computed:{...(0,a.rn)(d`sSelectedArticleID oDatabase`),...(0,a.Se)(d`oCurrentArticle fnGetCategory`),aFavList(){return this.$store.state.oDatabase.favorites.map((e=>this.$store.state.oDatabase.articles.find((t=>t.id==e.article_id)))).filter((e=>~e?.name.indexOf(this.sFavFilter)))}},data(){return{sFavFilter:"",aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> Убрать из ибранного'}]}},methods:{...(0,a.OI)(d`fnShowArticleEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveArticle fnRemoveFavorite`),fnArticleClickItem(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnRemoveFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}}};const ze=(0,U.Z)(Ye,[["render",Ve]]);var Ke=ze;const $e={id:"mode-tags",class:"mode"},Ze={class:"tags-panel"},je={class:"actions-panel"},Je={class:"list"},Be=["onClick"],qe={class:(0,h.C_)("list-group-item list-group-item-action item-title ")},Qe={class:"item-inner-title"},Xe={class:"tags-articles-panel"},et={class:"actions-panel"},tt={class:"list"},it=["onClick"],at={class:(0,h.C_)("list-group-item list-group-item-action item-title ")},nt={class:"item-inner-title"};function ot(e,t,i,a,n,o){const s=(0,v.up)("Dropdown");return(0,v.wg)(),(0,v.iD)("div",$e,[(0,v._)("div",Ze,[(0,v._)("div",je,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sTagFilter=e)},null,512),[[w.nr,n.sTagFilter]]),(0,v.Wm)(s,{items:n.aTagDropdownMenu,onClickitem:o.fnTagClickItem},null,8,["items","onClickitem"])]),(0,v._)("div",Je,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aTagsList,(t=>((0,v.wg)(),(0,v.iD)("div",{key:t.id,class:(0,h.C_)("input-group item-row "+(t.id==e.sSelectedTagID?"active":"")),onClick:i=>e.fnSelectTag(t.id)},[(0,v._)("a",qe,[(0,v._)("div",Qe,(0,h.zw)(t.name),1)])],10,Be)))),128))])]),(0,v._)("div",Xe,[(0,v._)("div",et,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>n.sArticleFilter=e)},null,512),[[w.nr,n.sArticleFilter]])]),(0,v._)("div",tt,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aArticlesList,(t=>((0,v.wg)(),(0,v.iD)("div",{key:t.id,class:(0,h.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,v._)("a",at,[(0,v._)("div",nt,(0,h.zw)(t.name),1)])],10,it)))),128))])])])}var st={name:"TagsMode",components:{Dropdown:X},computed:{...(0,a.rn)(d`sSelectedTagID sSelectedArticleID`),...(0,a.Se)(d`oCurrentTag`),aTagsList(){return this.$store.getters.fnFilterTags(this.sTagFilter)},aArticlesList(){return this.$store.getters.fnFilterCurrentTagsArticles(this.sArticleFilter)}},data(){return{sTagFilter:"",sArticleFilter:"",aTagDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aArticleDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(d`fnSelectTag fnShowTagEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveTag`),fnTagClickItem(e){"add"==e.id&&this.fnShowTagEditWindow(null),"edit"==e.id&&(this.oCurrentTag?this.fnShowTagEditWindow(this.oCurrentTag):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentTag?this.fnRemoveTag(this.oCurrentTag):alert("Нужно выбрать"))}}};const lt=(0,U.Z)(st,[["render",ot]]);var rt=lt;const dt={id:"mode-links",class:"mode"},ct={class:"links-panel"},ut={class:"actions-panel"},mt={class:"list"},pt=["onClick"],ft={class:(0,h.C_)("list-group-item list-group-item-action item-title ")},gt={class:"item-inner-title"},bt=["href"],wt={class:"item-inner-title"};function vt(e,t,i,a,n,o){const s=(0,v.up)("Dropdown");return(0,v.wg)(),(0,v.iD)("div",dt,[(0,v._)("div",ct,[(0,v._)("div",ut,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFilter=e)},null,512),[[w.nr,n.sFilter]]),(0,v.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnClickItem},null,8,["items","onClickitem"])]),(0,v._)("div",mt,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aLinkList,(t=>((0,v.wg)(),(0,v.iD)("div",{key:t.id,class:(0,h.C_)("input-group item-row item-links-row "+(t.id==e.sSelectedLinkID?"active":"")),onClick:i=>e.fnSelectLink(t.id)},[(0,v._)("a",ft,[(0,v._)("div",gt,(0,h.zw)(t.name),1)]),(0,v._)("a",{href:t.url,class:"list-group-item list-group-item-action item-title link"},[(0,v._)("div",wt,(0,h.zw)(t.url),1)],8,bt)],10,pt)))),128))])])])}var ht={name:"LinksMode",components:{Dropdown:X},computed:{...(0,a.rn)(d`sSelectedLinkID`),...(0,a.Se)(d`oCurrentLink`),aLinkList(){return this.$store.getters.fnFilterLinks(this.sFilter)}},data(){return{sFilter:"",sSelectedID:null,oSelectedLink:null,aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}]}},methods:{...(0,a.OI)(d`fnSelectLink fnShowLinkEditWindow`),...(0,a.nv)(d`fnRemoveLink`),fnClickItem(e){"add"==e.id&&this.fnShowLinkEditWindow(null),"edit"==e.id&&(this.oCurrentLink?this.fnShowLinkEditWindow(this.oCurrentLink):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentLink?this.fmRemoveLink(this.oCurrentLink):alert("Нужно выбрать"))}}};const Ct=(0,U.Z)(ht,[["render",vt]]);var _t=Ct;const yt=(0,v._)("div",{class:"block-overlay"},null,-1),St={class:"modal fade show",id:"modal-error",tabindex:"-1"},kt={class:"modal-dialog"},It={class:"modal-content"},Dt={class:"modal-header"},Et={class:"modal-title"},At={class:"modal-body"},Lt=(0,v._)("div",{class:"modal-footer"},null,-1);function Wt(e,t,i,a,n,o){return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",null,[yt,(0,v._)("div",St,[(0,v._)("div",kt,[(0,v._)("div",It,[(0,v._)("div",Dt,[(0,v._)("h5",Et,(0,h.zw)(e.title),1),(0,v._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,v._)("div",At,(0,h.zw)(e.message),1),Lt])])])],512)),[[w.F8,e.bShowErrorWindow]])}var Ft={computed:{...u("bShowErrorWindow")},methods:{fnClose(){this.bShowErrorWindow=!1}}};const Tt=(0,U.Z)(Ft,[["render",Wt]]);var Rt=Tt;const Gt=(0,v._)("div",{class:"block-overlay"},null,-1),xt={id:"modal-ask-api-key",class:"modal show",tabindex:"-1"},Ut={class:"modal-dialog"},Ot={class:"modal-content"},Mt=(0,v._)("div",{class:"modal-header"},[(0,v._)("h5",{class:"modal-title"},"Данные репозитория")],-1),Nt={class:"modal-body",style:{height:"500px","overflow-y":"scroll"}},Ht={class:"modal-ask-api_list_buttons"},Pt=(0,v._)("div",null,null,-1),Vt={class:"mb-3"},Yt=(0,v._)("label",{for:"",class:"form-label"},"Логин",-1),zt=(0,v._)("option",{value:"github"},"github",-1),Kt=(0,v._)("option",{value:"webdav"},"webdav",-1),$t=[zt,Kt],Zt={class:"mb-3"},jt=(0,v._)("label",{for:"",class:"form-label"},"Название",-1),Jt={class:"mb-3"},Bt=(0,v._)("label",{for:"",class:"form-label"},"Логин",-1),qt={class:"mb-3"},Qt=(0,v._)("label",{for:"",class:"form-label"},"Репозиторий",-1),Xt={class:"mb-3"},ei=(0,v._)("label",{for:"",class:"form-label"},"API Ключ",-1),ti={class:"mb-3"},ii=(0,v._)("label",{for:"",class:"form-label"},"URL",-1),ai={class:"mb-3"},ni=(0,v._)("label",{for:"",class:"form-label"},"Пользователь",-1),oi={class:"mb-3"},si=(0,v._)("label",{for:"",class:"form-label"},"Пароль",-1),li={class:"modal-ask-api_list_buttons"},ri=(0,v._)("div",null,null,-1),di={class:"list-repo-item_desc"},ci={class:"list-repo-item_title"},ui={class:"list-repo-item_type"},mi={class:"list-repo-item_name"},pi=(0,v._)("b",null,"login:",-1),fi=(0,v._)("b",null,"repo:",-1),gi=(0,v._)("b",null,"key:",-1),bi=(0,v._)("b",null,"url:",-1),wi=(0,v._)("b",null,"username:",-1),vi=(0,v._)("b",null,"password:",-1),hi=["onClick"],Ci=(0,v._)("i",{class:"bi bi-pencil"},null,-1),_i=[Ci],yi=["onClick"],Si=(0,v._)("i",{class:"bi bi-trash"},null,-1),ki=[Si],Ii=["onClick"],Di=(0,v._)("i",{class:"bi bi-star-fill"},null,-1),Ei=[Di],Ai={class:"modal-footer"};function Li(e,t,i,a,n,o){return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",null,[Gt,(0,v._)("div",xt,[(0,v._)("div",Ut,[(0,v._)("div",Ot,[Mt,(0,v._)("div",Nt,[null!==n.iEditIndex?((0,v.wg)(),(0,v.iD)(v.HY,{key:0},[(0,v._)("div",Ht,[Pt,(0,v._)("div",null,[(0,v._)("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>o.fnCancelRepo&&o.fnCancelRepo(...e))},"Отмена"),(0,v._)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>o.fnSaveRepo&&o.fnSaveRepo(...e))},"Сохранить")])]),(0,v._)("div",Vt,[Yt,(0,v.wy)((0,v._)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>n.sFromType=e)},$t,512),[[w.bM,n.sFromType]])]),(0,v._)("div",Zt,[jt,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=t=>e.sFormName=t)},null,512),[[w.nr,e.sFormName]])]),"github"==n.sFromType?((0,v.wg)(),(0,v.iD)(v.HY,{key:0},[(0,v._)("div",Jt,[Bt,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>n.sFormLogin=e)},null,512),[[w.nr,n.sFormLogin]])]),(0,v._)("div",qt,[Qt,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>n.sFormRepo=e)},null,512),[[w.nr,n.sFormRepo]])]),(0,v._)("div",Xt,[ei,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>n.sFormKey=e)},null,512),[[w.nr,n.sFormKey]])])],64)):(0,v.kq)("",!0),"webdav"==n.sFromType?((0,v.wg)(),(0,v.iD)(v.HY,{key:1},[(0,v._)("div",ti,[ii,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>n.sFormURL=e)},null,512),[[w.nr,n.sFormURL]])]),(0,v._)("div",ai,[ni,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=t=>e.sFormUsername=t)},null,512),[[w.nr,e.sFormUsername]])]),(0,v._)("div",oi,[si,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=t=>e.sFormPassword=t)},null,512),[[w.nr,e.sFormPassword]])])],64)):(0,v.kq)("",!0)],64)):((0,v.wg)(),(0,v.iD)(v.HY,{key:1},[(0,v._)("div",li,[ri,(0,v._)("div",null,[(0,v._)("button",{class:"btn btn-secondary",onClick:t[10]||(t[10]=(...e)=>o.fnExport&&o.fnExport(...e))},"Экспортировать"),(0,v._)("button",{class:"btn btn-danger",onClick:t[11]||(t[11]=(...e)=>o.fnCleanRepo&&o.fnCleanRepo(...e))},"Очистить"),(0,v._)("button",{class:"btn btn-success",onClick:t[12]||(t[12]=(...e)=>o.fnNewRepo&&o.fnNewRepo(...e))},"Добавить")])]),((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(e.aReposList,((t,i)=>((0,v.wg)(),(0,v.iD)("div",{key:i,class:(0,h.C_)("list-repo-item "+(e.iSelectedRepoIndex==i?"active":""))},[t?((0,v.wg)(),(0,v.iD)(v.HY,{key:0},[(0,v._)("div",di,[(0,v._)("div",ci,[(0,v._)("div",ui,(0,h.zw)(t.type),1),(0,v._)("div",mi,(0,h.zw)(t.name),1)]),"github"==t.type?((0,v.wg)(),(0,v.iD)(v.HY,{key:0},[(0,v._)("div",null,[pi,(0,v.Uk)(" "+(0,h.zw)(t.login),1)]),(0,v._)("div",null,[fi,(0,v.Uk)(" "+(0,h.zw)(t.repo),1)]),(0,v._)("div",null,[gi,(0,v.Uk)(" "+(0,h.zw)(t.key),1)])],64)):(0,v.kq)("",!0),"webdav"==t.type?((0,v.wg)(),(0,v.iD)(v.HY,{key:1},[(0,v._)("div",null,[bi,(0,v.Uk)(" "+(0,h.zw)(t.url),1)]),(0,v._)("div",null,[wi,(0,v.Uk)(" "+(0,h.zw)(t.username),1)]),(0,v._)("div",null,[vi,(0,v.Uk)(" "+(0,h.zw)(t.password),1)])],64)):(0,v.kq)("",!0)]),(0,v._)("div",null,[(0,v._)("button",{class:"btn btn-success",onClick:e=>o.fnEditRepo(i),title:"Редактировать"},_i,8,hi),(0,v._)("button",{class:"btn btn-danger",onClick:e=>o.fnRemoveRepo(i),title:"Удалить"},ki,8,yi),(0,v._)("button",{class:"btn btn-info",onClick:e=>o.fnSelectRepo(i),title:"Выбрать"},Ei,8,Ii)])],64)):(0,v.kq)("",!0)],2)))),128))],64))]),(0,v._)("div",Ai,[(0,v._)("button",{class:"btn btn-success",onClick:t[13]||(t[13]=e=>o.fnAcceptRepo())},"Выбрать")])])])])],512)),[[w.F8,e.bShowRepoWindow]])}var Wi={name:"AskAPIWindow",components:{},computed:{...(0,a.rn)(d`aReposList iSelectedRepoIndex bShowRepoWindow`)},data(){return{iEditIndex:null,sFormLogin:"",sFormRepo:"",sFormKey:"",sFormURL:"",sFromType:"github"}},methods:{...(0,a.OI)(d`fnReposRemove fnReposSelect fnReposClean fnReposUpdate`),...(0,a.nv)(d`fnPrepareRepo`),fnSaveRepo(){if(this.sFormName){var e={name:this.sFormName,login:this.sFormLogin,repo:this.sFormRepo,key:this.sFormKey,type:this.sFromType,url:this.sFormURL,username:this.sFormUsername,password:this.sFormPassword};this.fnReposUpdate({iIndex:this.iEditIndex,oObj:e}),_l(this.aReposList),this.iEditIndex=null}else alert("Надо заполнить поле - Название")},fnNewRepo(){this.iEditIndex=-1,this.sFormName="",this.sFormLogin="",this.sFormRepo="",this.sFormKey="",this.sFormType="github",this.sFormURL="",this.sFormUsername="",this.sFormPassword=""},fnEditRepo(e){this.iEditIndex=e;var t=this.aReposList[this.iEditIndex];this.sFormName=t.name,this.sFormLogin=t.login,this.sFormRepo=t.repo,this.sFormKey=t.key,this.sFormType=t.type,this.sFormURL=t.url,this.sFormUsername=t.username,this.sFormPassword=t.password},fnRemoveRepo(e){this.fnReposRemove(e)},fnSelectRepo(e){this.fnReposSelect(e)},fnCleanRepo(){this.fnReposClean()},fnCancelRepo(){this.iEditIndex=null},fnAcceptRepo(){if(!this.aReposList[this.iSelectedRepoIndex])return alert("Нужно выбрать репозиторий");this.fnPrepareRepo()},fnExport(){p("database",JSON.stringify(this.aReposList))}},created(){}};const Fi=(0,U.Z)(Wi,[["render",Li]]);var Ti=Fi;const Ri=(0,v._)("div",{class:"block-overlay"},null,-1),Gi={class:"modal show",id:"modal-edit-article",tabindex:"-1"},xi={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Ui={class:"modal-content"},Oi={class:"modal-header"},Mi=(0,v._)("h5",{class:"modal-title"},"Статья",-1),Ni={class:"modal-body"},Hi={class:"mb-3"},Pi=(0,v._)("label",{for:"",class:"form-label"},"Название",-1),Vi={class:"modal-footer"};function Yi(e,t,i,a,n,o){return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",null,[Ri,(0,v._)("div",Gi,[(0,v._)("div",xi,[(0,v._)("div",Ui,[(0,v._)("div",Oi,[Mi,(0,v._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,v._)("div",Ni,[(0,v._)("div",Hi,[Pi,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sGroupEditWindowGroupName=t)},null,512),[[w.nr,e.sGroupEditWindowGroupName]])])]),(0,v._)("div",Vi,[(0,v._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,v._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowGroupEditWindow]])}var zi={name:"EditGroup",props:{},computed:{...(0,a.rn)(d`bShowGroupEditWindow`),...u("sGroupEditWindowGroupName")},methods:{...(0,a.OI)(d`fnHideGroupEditWindow`),...(0,a.nv)(d`fnSaveGroup`),fnSave(){this.fnSaveGroup(),this.fnHideGroupEditWindow()},fnClose(){this.fnHideGroupEditWindow()}}};const Ki=(0,U.Z)(zi,[["render",Yi]]);var $i=Ki;const Zi=(0,v._)("div",{class:"block-overlay"},null,-1),ji={class:"modal show",id:"modal-edit-category",tabindex:"-1"},Ji={class:"modal-dialog"},Bi={class:"modal-content"},qi={class:"modal-header"},Qi=(0,v._)("h5",{class:"modal-title"},"Редактирование категории",-1),Xi={class:"modal-body"},ea={class:"mb-3"},ta=(0,v._)("label",{for:"",class:"form-label"},"Родительская группа",-1),ia=["value"],aa={class:"mb-3"},na=(0,v._)("label",{for:"",class:"form-label"},"Родительская категория",-1),oa=["value"],sa={class:"mb-3"},la=(0,v._)("label",{for:"",class:"form-label"},"Название",-1),ra={class:"modal-footer"};function da(e,t,i,a,n,o){return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",null,[Zi,(0,v._)("div",ji,[(0,v._)("div",Ji,[(0,v._)("div",Bi,[(0,v._)("div",qi,[Qi,(0,v._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,v._)("div",Xi,[(0,v._)("div",ea,[ta,(0,v._)("div",null,[(0,v.wy)((0,v._)("select",{id:"edit-category-group",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sCategoryEditWindowGroupID=t)},[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(e.aGroupsList,(e=>((0,v.wg)(),(0,v.iD)("option",{key:e.id,value:e.id},(0,h.zw)(e.name),9,ia)))),128))],512),[[w.bM,e.sCategoryEditWindowGroupID]])])]),(0,v._)("div",aa,[na,(0,v._)("div",null,[(0,v.wy)((0,v._)("select",{id:"edit-category-parent",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sCategoryEditWindowCategoryID=t)},[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aCategoriesList,(e=>((0,v.wg)(),(0,v.iD)("option",{key:e.id,value:e.id},(0,h.zw)(e.name),9,oa)))),128))],512),[[w.bM,e.sCategoryEditWindowCategoryID]])])]),(0,v._)("div",sa,[la,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control",id:"edit-category-name","aria-describedby":"","onUpdate:modelValue":t[3]||(t[3]=t=>e.sCategoryEditWindowCategoryName=t)},null,512),[[w.nr,e.sCategoryEditWindowCategoryName]])])]),(0,v._)("div",ra,[(0,v._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,v._)("button",{id:"category-edit-save",type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowCategoryEditWindow]])}var ca={name:"EditCategory",props:{},computed:{...(0,a.rn)(d`bShowCategoryEditWindow`),...(0,a.Se)(d`aGroupsList`),...u("sCategoryEditWindowCategoryName sCategoryEditWindowGroupID sCategoryEditWindowCategoryID"),aCategoriesList(){return this.$store.getters.fnFilterCategoriesByGroup(this.sCategoryEditWindowGroupID)}},data(){return{}},methods:{...(0,a.OI)(d`fnHideCategoryEditWindow`),...(0,a.nv)(d`fnSaveCategory`),fnSave(){this.fnSaveCategory(),this.fnHideCategoryEditWindow()},fnClose(){this.fnHideCategoryEditWindow()}}};const ua=(0,U.Z)(ca,[["render",da]]);var ma=ua;const pa=(0,v._)("div",{class:"block-overlay"},null,-1),fa={class:"modal show",id:"modal-edit-category",tabindex:"-1"},ga={class:"modal-dialog"},ba={class:"modal-content"},wa={class:"modal-header"},va=(0,v._)("h5",{class:"modal-title"},"Редактирование категории",-1),ha={class:"modal-body"},Ca={class:"mb-3"},_a=(0,v._)("label",{for:"",class:"form-label"},"Родительская группа",-1),ya=["value"],Sa={class:"mb-3"},ka=(0,v._)("label",{for:"",class:"form-label"},"Родительская категория",-1),Ia=["value"],Da={class:"mb-3"},Ea=(0,v._)("label",{for:"",class:"form-label"},"Название",-1),Aa={class:"modal-footer"};function La(e,t,i,a,n,o){return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",null,[pa,(0,v._)("div",fa,[(0,v._)("div",ga,[(0,v._)("div",ba,[(0,v._)("div",wa,[va,(0,v._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,v._)("div",ha,[(0,v._)("div",Ca,[_a,(0,v._)("div",null,[(0,v.wy)((0,v._)("select",{id:"edit-category-group",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sArticleEditWindowGroupID=t)},[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(e.aGroupsList,(e=>((0,v.wg)(),(0,v.iD)("option",{key:e.id,value:e.id},(0,h.zw)(e.name),9,ya)))),128))],512),[[w.bM,e.sArticleEditWindowGroupID]])])]),(0,v._)("div",Sa,[ka,(0,v._)("div",null,[(0,v.wy)((0,v._)("select",{id:"edit-category-parent",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sArticleEditWindowCategoryID=t)},[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aCategoriesList,(e=>((0,v.wg)(),(0,v.iD)("option",{key:e.id,value:e.id},(0,h.zw)(e.name),9,Ia)))),128))],512),[[w.bM,e.sArticleEditWindowCategoryID]])])]),(0,v._)("div",Da,[Ea,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control",id:"edit-category-name","aria-describedby":"","onUpdate:modelValue":t[3]||(t[3]=t=>e.sArticleEditWindowArticleName=t)},null,512),[[w.nr,e.sArticleEditWindowArticleName]])])]),(0,v._)("div",Aa,[(0,v._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,v._)("button",{id:"category-edit-save",type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowArticleEditWindow]])}var Wa={name:"EditArticle",props:{},computed:{...(0,a.rn)(d`bShowArticleEditWindow`),...(0,a.Se)(d`aGroupsList fnFilterCategoriesByGroup`),...u("sArticleEditWindowArticleName sArticleEditWindowGroupID sArticleEditWindowCategoryID"),aCategoriesList(){return this.$store.getters.fnFilterCategoriesByGroup(this.sArticleEditWindowGroupID)}},data(){return{bShowWindow:!1}},methods:{...(0,a.OI)(d`fnHideArticleEditWindow`),...(0,a.nv)(d`fnSaveArticle`),fnSave(){this.fnSaveArticle(),this.fnHideArticleEditWindow()},fnClose(){this.fnHideArticleEditWindow()}}};const Fa=(0,U.Z)(Wa,[["render",La]]);var Ta=Fa;const Ra=(0,v._)("div",{class:"block-overlay"},null,-1),Ga={class:"modal show",id:"modal-edit-article",tabindex:"-1"},xa={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Ua={class:"modal-content"},Oa={class:"modal-header"},Ma=(0,v._)("h5",{class:"modal-title"},"Статья",-1),Na={class:"modal-body"},Ha={class:"mb-3"},Pa=(0,v._)("label",{for:"",class:"form-label"},"Название",-1),Va={class:"mb-3"},Ya=(0,v._)("label",{for:"",class:"form-label"},"URL",-1),za={class:"modal-footer"};function Ka(e,t,i,a,n,o){return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",null,[Ra,(0,v._)("div",Ga,[(0,v._)("div",xa,[(0,v._)("div",Ua,[(0,v._)("div",Oa,[Ma,(0,v._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,v._)("div",Na,[(0,v._)("div",Ha,[Pa,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sLinkEditWindowLinkName=t)},null,512),[[w.nr,e.sLinkEditWindowLinkName]])]),(0,v._)("div",Va,[Ya,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sLinkEditWindowLinkURL=t)},null,512),[[w.nr,e.sLinkEditWindowLinkURL]])])]),(0,v._)("div",za,[(0,v._)("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,v._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[4]||(t[4]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowLinkEditWindow]])}var $a={name:"EditLink",props:{},computed:{...(0,a.rn)(d`bShowLinkEditWindow`),...u("sLinkEditWindowLinkName sLinkEditWindowLinkURL")},data(){return{}},methods:{...(0,a.OI)(d`fnHideLinkEditWindow`),...(0,a.nv)(d`fnSaveLink`),fnClose(){this.fnHideLinkEditWindow()},fnSave(){this.fnSaveLink(),this.fnHideLinkEditWindow()}}};const Za=(0,U.Z)($a,[["render",Ka]]);var ja=Za;const Ja=(0,v._)("div",{class:"block-overlay"},null,-1),Ba={class:"modal show",id:"modal-edit-article",tabindex:"-1"},qa={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Qa={class:"modal-content"},Xa={class:"modal-header"},en=(0,v._)("h5",{class:"modal-title"},"Статья",-1),tn={class:"modal-body"},an={class:"mb-3"},nn=(0,v._)("label",{for:"",class:"form-label"},"Название",-1),on={class:"modal-footer"};function sn(e,t,i,a,n,o){return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",null,[Ja,(0,v._)("div",Ba,[(0,v._)("div",qa,[(0,v._)("div",Qa,[(0,v._)("div",Xa,[en,(0,v._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,v._)("div",tn,[(0,v._)("div",an,[nn,(0,v.wy)((0,v._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sTagEditWindowTagName=t)},null,512),[[w.nr,e.sTagEditWindowTagName]])])]),(0,v._)("div",on,[(0,v._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,v._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowTagEditWindow]])}var ln={name:"EditGroup",props:{},computed:{...(0,a.rn)(d`bShowTagEditWindow`),...u("sTagEditWindowTagName")},data(){return{}},methods:{...(0,a.OI)(d`fnHideTagEditWindow`),...(0,a.nv)(d`fnSaveTag`),fnClose(){this.fnHideTagEditWindow()},fnSave(){this.fnSaveTag(),this.fnHideTagEditWindow()}}};const rn=(0,U.Z)(ln,[["render",sn]]);var dn=rn;const cn={class:"page-panel"},un={class:"actions-panel page-actions-panel"},mn=(0,v._)("i",{class:"bi bi-save"},null,-1),pn=[mn],fn=(0,v._)("i",{class:"bi bi-link-45deg"},null,-1),gn=[fn],bn=(0,v._)("i",{class:"bi bi-file-code"},null,-1),wn=[bn],vn=(0,v._)("i",{class:"bi bi-tags"},null,-1),hn=[vn],Cn=(0,v._)("i",{class:"bi bi-image"},null,-1),_n=[Cn],yn=(0,v._)("i",{class:"bi bi-journal-text"},null,-1),Sn=[yn],kn=(0,v._)("div",{class:"actions-panel-spacer"},null,-1),In=(0,v._)("i",{class:"bi bi-x-lg"},null,-1),Dn=[In],En={class:"tab-page"},An={class:"tab-page-tags"},Ln={class:"tab-page-images"},Wn={class:"actions-panel"},Fn={class:"list"},Tn=(0,v._)("a",{class:(0,h.C_)("list-group-item list-group-item-action item-title ")},[(0,v._)("div",{class:"item-inner-title"},[(0,v._)("img",{src:""})])],-1),Rn=(0,v._)("div",{class:"image-path"},null,-1),Gn=[Tn,Rn],xn={class:"tab-page-comments"},Un={class:"actions-panel"},On=(0,v._)("div",null,null,-1);function Mn(e,t,i,a,n,o){const s=(0,v.up)("ckeditor"),l=(0,v.up)("TagsSelector");return(0,v.wy)(((0,v.wg)(),(0,v.iD)("div",cn,[(0,v._)("div",un,[(0,v._)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>o.fnSaveEditorContents&&o.fnSaveEditorContents(...e))},pn),(0,v._)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...e)=>o.fnOpenLink&&o.fnOpenLink(...e))},gn),(0,v._)("button",{class:(0,h.C_)("btn "+("page"==n.sCurrentTab?"btn-primary":"")),onClick:t[2]||(t[2]=e=>n.sCurrentTab="page")},wn,2),(0,v._)("button",{class:(0,h.C_)("btn "+("tags"==n.sCurrentTab?"btn-primary":"")),onClick:t[3]||(t[3]=e=>n.sCurrentTab="tags")},hn,2),(0,v._)("button",{class:(0,h.C_)("btn "+("images"==n.sCurrentTab?"btn-primary":"")),onClick:t[4]||(t[4]=e=>n.sCurrentTab="images")},_n,2),(0,v._)("button",{class:(0,h.C_)("btn "+("comments"==n.sCurrentTab?"btn-primary":"")),onClick:t[5]||(t[5]=e=>n.sCurrentTab="comments")},Sn,2),kn,(0,v._)("button",{class:"btn btn-danger",onClick:t[6]||(t[6]=(...e)=>o.fnClose&&o.fnClose(...e))},Dn)]),(0,v.wy)((0,v._)("div",En,[(0,v.Wm)(s,{editor:n.oClassicEditor,modelValue:n.sData,"onUpdate:modelValue":t[7]||(t[7]=e=>n.sData=e),config:n.oEditorConfig,ref:"editorjs",style:{height:"100%"},onReady:o.onEditorReady,onInput:o.onEditorInput},null,8,["editor","modelValue","config","onReady","onInput"])],512),[[w.F8,"page"==n.sCurrentTab]]),(0,v.wy)((0,v._)("div",An,[(0,v.Wm)(l,{id:n.sArticleID},null,8,["id"])],512),[[w.F8,"tags"==n.sCurrentTab]]),(0,v.wy)((0,v._)("div",Ln,[(0,v._)("div",Wn,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[8]||(t[8]=e=>n.sImagesFilter=e),onInput:t[9]||(t[9]=(...e)=>o.fnImagesFilter&&o.fnImagesFilter(...e))},null,544),[[w.nr,n.sImagesFilter]])]),(0,v._)("div",Fn,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(n.aImagesList,(e=>((0,v.wg)(),(0,v.iD)("div",{key:e.id,class:(0,h.C_)("input-group item-row item-image-row")},Gn)))),128))])],512),[[w.F8,"images"==n.sCurrentTab]]),(0,v.wy)((0,v._)("div",xn,[(0,v._)("div",Un,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[10]||(t[10]=e=>n.sCommentsFilter=e),onInput:t[11]||(t[11]=(...e)=>o.fnCommentsFilter&&o.fnCommentsFilter(...e))},null,544),[[w.nr,n.sCommentsFilter]])]),On],512),[[w.F8,"comments"==n.sCurrentTab]])],512)),[[w.F8,e.bShowEditor]])}const Nn={class:"selecteion-tag-panel"},Hn={class:"left-tag-panel"},Pn={class:"actions-panel"},Vn=(0,v._)("i",{class:"bi bi-arrow-repeat"},null,-1),Yn=[Vn],zn={class:"selector"},Kn=["value"],$n={class:"middle-tag-panel"},Zn=(0,v._)("i",{class:"bi bi-chevron-double-left"},null,-1),jn=[Zn],Jn=(0,v._)("i",{class:"bi bi-chevron-compact-left"},null,-1),Bn=[Jn],qn=(0,v._)("i",{class:"bi bi-chevron-compact-right"},null,-1),Qn=[qn],Xn=(0,v._)("i",{class:"bi bi-chevron-double-right"},null,-1),eo=[Xn],to={class:"right-tag-panel"},io={class:"actions-panel"},ao=(0,v._)("i",{class:"bi bi-arrow-repeat"},null,-1),no=[ao],oo={class:"selector"},so=["value"];function lo(e,t,i,a,n,o){return(0,v.wg)(),(0,v.iD)("div",Nn,[(0,v._)("div",Hn,[(0,v._)("div",Pn,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sAllTagFilter=e)},null,512),[[w.nr,n.sAllTagFilter]]),(0,v._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>o.fnAllTagsFilter&&o.fnAllTagsFilter(...e))},Yn)]),(0,v._)("div",zn,[(0,v.wy)((0,v._)("select",{multiple:"",size:"10","onUpdate:modelValue":t[2]||(t[2]=e=>n.aSelectedAllTags=e)},[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(o.aTagsList,(e=>((0,v.wg)(),(0,v.iD)("option",{key:e.id,value:e.id},(0,h.zw)(e.name),9,Kn)))),128))],512),[[w.bM,n.aSelectedAllTags]])])]),(0,v._)("div",$n,[(0,v._)("button",{class:"btn",onClick:t[3]||(t[3]=(...e)=>o.fnMoveAllLeft&&o.fnMoveAllLeft(...e))},jn),(0,v._)("button",{class:"btn",onClick:t[4]||(t[4]=(...e)=>o.fnMoveOneLeft&&o.fnMoveOneLeft(...e))},Bn),(0,v._)("button",{class:"btn",onClick:t[5]||(t[5]=(...e)=>o.fnMoveOneRight&&o.fnMoveOneRight(...e))},Qn),(0,v._)("button",{class:"btn",onClick:t[6]||(t[6]=(...e)=>o.fnMoveAllRight&&o.fnMoveAllRight(...e))},eo)]),(0,v._)("div",to,[(0,v._)("div",io,[(0,v.wy)((0,v._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[7]||(t[7]=e=>n.sSelectedTagFilter=e),onInput:t[8]||(t[8]=(...e)=>o.fnSelectedTagsFilter&&o.fnSelectedTagsFilter(...e))},null,544),[[w.nr,n.sSelectedTagFilter]]),(0,v._)("button",{class:"btn",onClick:t[9]||(t[9]=(...e)=>o.fnSelectedTagsFilter&&o.fnSelectedTagsFilter(...e))},no)]),(0,v._)("div",oo,[(0,v.wy)((0,v._)("select",{multiple:"",size:"10","onUpdate:modelValue":t[10]||(t[10]=e=>n.aSelectedArticleTags=e)},[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)(n.aSelectedTagsList,(e=>((0,v.wg)(),(0,v.iD)("option",{key:e.id,value:e.id},(0,h.zw)(e.name),9,so)))),128))],512),[[w.bM,n.aSelectedArticleTags]])])])])}var ro={name:"TagsSelector",props:{id:[String,null]},computed:{...(0,a.rn)(d`sSelectedTagID`),...(0,a.Se)(d`oCurrentTag`),sID(){return this.id},aTagsList(){return this.$store.getters.fnFilterTags(this.sTagFilter)}},data(){return{sAllTagFilter:"",sSelectedTagFilter:"",aAllTagsList:[],aSelectedTagsList:[],aSelectedAllTags:[],aSelectedArticleTags:[]}},watch:{id(e,t){var i=this;i.fnAllTagsFilter(),i.fnSelectedTagsFilter()}},methods:{...(0,a.OI)(d`fnSelectTag fnShowTagEditWindow`),...(0,a.nv)(d`fnSelectArticle fnRemoveTag`),fnAllTagsFilter(){},fnSelectedTagsFilter(){},fnMoveAllLeft(){},fnMoveOneLeft(){},fnMoveOneRight(){},fnMoveAllRight(){}},mounted(){}};const co=(0,U.Z)(ro,[["render",lo]]);var uo=co,mo=i(6713),po=i.n(mo),fo={name:"PageEditor",props:[],components:{TagsSelector:uo},computed:{...(0,a.rn)(d`bShowEditor sArticleContent`)},data(){return{sCurrentTab:"page",sImagesFilter:"",sCommentsFilter:"",sData:"",sArticleID:null,oArticle:null,oEditor:null,oClassicEditor:po(),oEditorConfig:{},aImagesList:[]}},watch:{sArticleContent(e,t){this.oEditor.setData(e)}},methods:{...(0,a.OI)(d`fnHideEditor`),...(0,a.nv)(d`fnSaveArticleContent fnSaveArticlePage`),onEditorReady(e){_l("onEditorReady"),this.oEditor=e,e.editing.view.change((t=>{t.setStyle("height","calc(100vh - 20px - 40px - 30px)",e.editing.view.document.getRoot())}))},onEditorInput(){this.fnSaveEditorContents()},fnSaveEditorContents(){this.oEditor&&(this.fnSaveArticleContent(this.oEditor.getData()),this.fnSaveArticlePage())},fnOpenLink(){},fnImagesFilter(){},fnCommentsFilter(){},fnClose(){this.fnHideEditor()}},mounted(){}};const go=(0,U.Z)(fo,[["render",Mn]]);var bo=go;const wo={class:"toast-container position-fixed top-0 end-0 p-3"},vo={class:"toast fade show",role:"alert","aria-live":"assertive","aria-atomic":"true"},ho=(0,v._)("div",{class:"toast-header"},[(0,v._)("strong",{class:"me-auto"},"Сохранено"),(0,v._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1),Co=(0,v._)("div",{class:"toast-body"}," Данные были сохранены ",-1),_o=[ho,Co];function yo(e,t,i,a,n,o){return(0,v.wg)(),(0,v.iD)("div",wo,[(0,v.wy)((0,v._)("div",vo,_o,512),[[w.F8,e.bShowSaveToast]])])}var So={name:"SavedToast",components:{},computed:{...u("bShowSaveToast")},data(){return{}},watch:{bShowSaveToast(e,t){e&&setTimeout((()=>{this.bShowSaveToast=!1}),2e3)}}};const ko=(0,U.Z)(So,[["render",yo]]);var Io=ko,Do={name:"App",components:{Loader:M,ListMode:ie,CatalogMode:Ge,FavoritesMode:Ke,TagsMode:rt,LinksMode:_t,ErrorWindow:Rt,AskAPIWindow:Ti,PageEditor:bo,SavedToast:Io,EditGroup:$i,EditCategory:ma,EditArticle:Ta,EditLink:ja,EditTag:dn},computed:{...(0,a.rn)(d`bShowRepoWindow sSelectedArticleID`),...u("bShowSaveToast"),sCurrentMode:{set(e){this.$store.commit("fnUpdateMode",e)},get(){return this.$store.state.sCurrentMode}}},data(){return{aMenu:[{class:"app-mode-list",title:"Список",icon:"bi-justify"},{class:"app-mode-catalog",title:"Каталог",icon:"bi-grid-1x2"},{class:"app-mode-favorites",title:"Избранное",icon:"bi-star-fill"},{class:"app-mode-tags",title:"Тэги",icon:"bi-tags"},{class:"app-mode-links",title:"Ссылки",icon:"bi-link"},{class:"app-publish-btn",title:"Публикация",icon:"bi-journal-arrow-up"},{class:"app-export-btn",title:"Экспорт",icon:"bi-download"},{class:"app-import-btn",title:"Импорт",icon:"bi-upload"}]}},methods:{...(0,a.OI)(d`fnLoadRepos fnShowRepoWindow`),...(0,a.nv)(d`fnSaveDatabase fnSaveArticlePage`),fnMenuItemClick(e){"app-publish-btn"==e.class||("app-export-btn"==e.class?p("database",JSON.stringify(this.$store.state.oDatabase)):"app-import-btn"==e.class||(this.sCurrentMode=e.class))},fnSaveAll(){this.sSelectedArticleID&&this.fnSaveArticlePage(),this.fnSaveDatabase(),this.bShowSaveToast=!0}},mounted(){var e=this;document.addEventListener("keydown",(t=>{t.ctrlKey&&83===t.keyCode&&(t.preventDefault(),_l("CTRL + S"),e.fnSaveAll())}))},created(){this.fnLoadRepos()}};const Eo=(0,U.Z)(Do,[["render",W]]);var Ao=Eo,Lo=i(9907),Wo=i.n(Lo);i.g._l=(...e)=>(console.log.apply(console,e),e[0]),i.g._s=()=>{var e=new Error;console.trace(e.stack.match(/at ([^\n]*)/g)[1])},(0,w.ri)(Ao).use(b).use(Wo()).mount("#app")}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a](o,o.exports,i),o.loaded=!0,o.exports}i.m=e,function(){var e=[];i.O=function(t,a,n,o){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var l=!0,r=0;r<a.length;r++)(!1&o||s>=o)&&Object.keys(i.O).every((function(e){return i.O[e](a[r])}))?a.splice(r--,1):(l=!1,o<s&&(s=o));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,s=a[0],l=a[1],r=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(r)var c=r(i)}for(t&&t(a);d<s.length;d++)o=s[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},a=self["webpackChunkwapp_github_blog_engine_vue"]=self["webpackChunkwapp_github_blog_engine_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(7312)}));a=i.O(a)})();
//# sourceMappingURL=app.c1e78860.js.map