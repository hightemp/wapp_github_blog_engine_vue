(function(){"use strict";var e={2050:function(e,t,i){i(7658);var a=i(7139),n={groups_last_id:3,groups:[{id:1,name:"Супер-пупер группа 1"},{id:2,name:"Супер-пупер группа 2"},{id:3,name:"Супер-пупер группа 3"}],categories_last_id:4,categories:[{id:1,name:"Категория 1",is_opened:!1,parent_id:null,group_id:"1"},{id:2,name:"Категория 2",is_opened:!1,parent_id:"1",group_id:"1"},{id:3,name:"Супер-пупер Категория 3",is_opened:!1,parent_id:"2",group_id:"1"},{id:4,name:"Категория 4",is_opened:!1,parent_id:null,group_id:"1"}],articles_last_id:6,articles:[{id:1,name:"Banken, die die auf internationaler Ebene hat",category_id:"1",html:"<b>Banken, die die auf internationaler Ebene hat</b> der Ausschuss eine Reihe einheitlicher Kennzahlen entwickelt, dies als das Minimum hinaus betreffen. Dies würde zu einem Abzug beim harten Kernkapital abzuziehen ist, ergibt sich als die Summe sämtlicher Positionen, die insgesamt mehr als 10% des harten Kernkapitals am gesamten Eigenkapital. Das erste Ziel besteht in der Stressphase weiterhin Kapital als Grundlage für das laufende Geschäft der Banken zur Verfügung steht. Das Rahmenkonzept reduziert den Ermessensspielraum von Banken, die für den überwiegenden Teil ihrer Geschäftsaktivitäten über eine Sicherheitenverwaltungseinheit verfügen. Bei der Veröffentlichung ihrer KapitalpolsterAnforderungen müssen die Banken bei unterschiedlicher Höhe des harten Kernkapitals in voller Höhe zu berücksichtigen (d.h. Derartige zum Ausgleich herangezogene Vermögenswerte sollten mit dem prozentualen Anteil der Positionen des harten Kernkapitals in Abzug zu bringen, einschliesslich etwaiger Goodwill, der bei der Bewertung von wesentlichen Beteiligungen am Kapital von Bank-, Finanz- und Versicherungsinstituten, die ausserhalb des aufsichtsrechtlichen Konsolidierungskreises liegen, einbezogen wurde. Mit Ausnahme von Bedienungsrechten von Hypotheken ist der volle Betrag in Abzug zu bringen, einschliesslich etwaiger Goodwill, der bei der Kapitalklasse vorgenommen werden, der das Kapital bei Emission durch die Bank selbst zugeordnet würde. Die Einheit muss ferner darauf achten, ob Konzentrationen auf einzelne Kategorien von Vermögenswerten bestehen, die von der Bank erhalten würden.",hash_name:"aaaaaa"},{id:2,name:"Derartige zum Ausgleich herangezogene",category_id:"1",html:"dfasdf",hash_name:"aaaaa2"},{id:3,name:"Mit Ausnahme von Bedienungsrechten von Hypotheken ist der volle Betrag in Abzug zu bringen",category_id:"1",html:"asdfas fdasf",hash_name:"aaaaa3"},{id:4,name:"das Kapital bei Emission durch die Bank",category_id:"1",html:"sadf asfdasf asdf",hash_name:"aaaaa4"},{id:5,name:"Derartige zum Ausgleich",category_id:"2",html:"sadf asfdasf asdf",hash_name:"aaaaa5"},{id:6,name:"der bei der Kapitalklasse vorgenommen werden",category_id:"3",html:"sadf asfdasf asdf",hash_name:"aaaaa6"}],favorites_last_id:1,favorites:[{id:1,article_id:"1"}],tags_last_id:4,tags:[{id:1,name:"computer"},{id:2,name:"testing"},{id:3,name:"development"},{id:4,name:"lorem"}],tags_relations_last_id:2,tags_relations:[{id:1,tag_id:1,article_id:1},{id:2,tag_id:4,article_id:1}],links_last_id:4,links:[{id:1,name:"test link 1",url:"https://www.youtube.com/watch?v=7HysFi1NHdI"},{id:2,name:"test link 2",url:"https://www.youtube.com/watch?v=7HysFi1NHdI"},{id:3,name:"test link 3",url:"https://www.youtube.com/watch?v=7HysFi1NHdI"},{id:4,name:"test link 4",url:"https://www.youtube.com/watch?v=7HysFi1NHdI"}]},o=i(7327),s=i(13),l=i(8228),r=i(6704);class d{static fnInit(e){d.oRepoItem=e,"github"==e.type&&d.fnInitGit(),"webdav"==e.type&&d.fnInitWebdav()}static fnInitGit(){_s("Database.fnInitGit"),d.octokit=new s.v({auth:d.oRepoItem.key})}static fnInitWebdav(){d.webdav=(0,l.createClient)(d.oRepoItem.url,{username:d.oRepoItem.username,password:d.oRepoItem.password})}static fnReadFileJSON(e){return new Promise((async(t,i)=>{this.fnReadFile(e).then((({sData:e})=>{t(JSON.parse(e))})).catch((e=>{i(e)}))}))}static fnReadFile(e){return"localstorage"==d.oRepoItem.type?d.fnReadFileLocalStorage(e):"github"==d.oRepoItem.type?d.fnReadFileGithub(e):"webdav"==d.oRepoItem.type?d.fnReadFileWebdav(e):void 0}static fnWriteFileJSON(e,t){return this.fnWriteFile(e,JSON.stringify(t,null,4))}static fnWriteFile(e,t){return"localstorage"==d.oRepoItem.type?d.fnWriteFileLocalStorage(e,t):"github"==d.oRepoItem.type?d.fnWriteFileGithub(e,t):"webdav"==d.oRepoItem.type?d.fnWriteFileWebdav(e,t):void 0}static fnCreateDir(e){if("webdav"==d.oRepoItem.type)return d.fnCreateDirWebdav(e)}static fnCreateDirWebdav(e){return new Promise((async(t,i)=>{_l(">>>",e),d.webdav.createDirectory(e),t()}))}static fnReadFileLocalStorage(e){return new Promise((async(t,i)=>{var a=localStorage.getItem(e);t({sData:a,sSHA:""})}))}static fnReadFileWebdav(e){d.oRepoItem;return new Promise((async(t,i)=>{try{var a=await d.webdav.getFileContents(e),n=new TextDecoder("utf-8"),o=n.decode(a);d.oSHA[e]="",t({sData:o,sSHA:""})}catch(s){console.error(s),i(s)}}))}static fnReadFileGithub(e){return new Promise((async(t,i)=>{var a=d.oRepoItem;return e=e.replace(/^\/+/,""),d.octokit.rest.repos.getContent({owner:a.login,repo:a.repo,path:e}).then((({data:i})=>{console.log(i);var a=(0,r.Jx)(i.content);d.oSHA[e]=i.sha,console.log(d.oSHA),t({sData:a,sSHA:i.sha})})).catch((e=>{console.error(e),i(e)}))}))}static fnWriteFileLocalStorage(e,t){return new Promise((async(i,a)=>{localStorage.setItem(e,t),i()}))}static fnWriteFileGithub(e,t,i=null){return new Promise((async(a,n)=>{var o=d.oRepoItem;return e=e.replace(/^\/+/,""),d.octokit.rest.repos.createOrUpdateFileContents({owner:o.login,repo:o.repo,path:e,sha:i||d.oSHA[e],message:d.fnGetUpdateMessage(),content:(0,r.cv)(t)}).then((e=>{console.log(e),a()})).catch((e=>{console.error(e),n(e)}))}))}static fnWriteFileWebdav(e,t){return new Promise((async(i,a)=>{d.oRepoItem;return new Promise((async(i,a)=>{try{var n=new TextEncoder,o=n.encode(t);await d.webdav.putFileContents(e,o,{contentLength:!1,overwrite:!0}),i()}catch(s){a(s)}}))}))}static fnGetUpdateMessage(){return"update: "+new Date}}function c(e){return e[0].split(" ")}function u(e){return{[e]:{get(){return this.$store.state[e]},set(t){this.$store.commit("fnUpdateVar",{sName:e,sV:t})}}}}function m(e){var t={},i=e.split(" ");for(var a of i)t=Object.assign(t,u(a));return t}function p(){return(Math.random()+1).toString(36).substring(7)}function f(e,t){var i="data:text/json;charset=utf-8,"+encodeURIComponent(t),a=document.createElement("A");a.setAttribute("href",i),a.setAttribute("download",`${e}_${(new Date).getTime()}.json`),a.click(),a.remove()}(0,o.Z)(d,"octokit",null),(0,o.Z)(d,"oSHA",{}),(0,o.Z)(d,"webdav",null),(0,o.Z)(d,"oRepoItem",null);const g="notes-database.json";function b(e,t){var i=e.oDatabase.categories.find((e=>e.id==t));return i.parent_id?b(e,i.parent_id):i}const v={groups_last_id:0,groups:[],categories_last_id:0,categories:[],articles_last_id:0,articles:[],favorites_last_id:0,favorites:[],tags_last_id:0,tags:[],tags_relations_last_id:0,tags_relations:[],links_last_id:0,links:[]};var h=(0,a.MT)({state(){return{aDefaultRepoList:[{type:"localstorage",name:"Локальное хранилище"}],aReposList:[],oRepo:null,iSelectedRepoIndex:null,bSaveEditor:!1,bShowErrorWindow:!1,sErrorWindowMessage:"",sErrorWindowTitle:"",bShowRepoWindow:!0,bShowGroupEditWindow:!1,oGroupEditItem:null,sGroupEditWindowGroupName:"",bShowCategoryEditWindow:!1,oCategoryEditItem:null,sCategoryEditWindowCategoryName:"",sCategoryEditWindowGroupID:"",sCategoryEditWindowCategoryID:"",bShowArticleEditWindow:!1,oArticleEditItem:null,sArticleEditWindowArticleName:"",sArticleEditWindowGroupID:"",sArticleEditWindowCategoryID:"",bShowTagEditWindow:!1,oTagEditItem:null,sTagEditWindowTagName:"",bShowLinkEditWindow:!1,oLinkEditItem:null,sLinkEditWindowLinkName:"",sLinkEditWindowLinkURL:"",bShowRepoWindow:!0,bShowSaveToast:!1,bShowLoader:!1,bShowEditor:!1,sArticleContent:"",sCurrentMode:"",iEditIndex:null,oDatabase:v,sSelectedArticleID:null,sSelectedCategoryID:null,sSelectedGroupID:null,sSelectedTagID:null,sSelectedLinkID:null}},mutations:{fnReposRemove(e,t){e.aReposList.splice(t-e.aDefaultRepoList.length,1),localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnReposSelect(e,t){e.iSelectedRepoIndex=t},fnReposClean(e){e.aReposList=[],localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnReposUpdate(e,{iIndex:t,oObj:i}){-1==t?e.aReposList.push(i):e.aReposList.splice(t-e.aDefaultRepoList.length,1,i),localStorage.setItem("aReposList",JSON.stringify(e.aReposList))},fnLoadRepos(e){try{e.aReposList=JSON.parse(localStorage.getItem("aReposList")||"[]")}catch(t){}},fnUpdateDatabase(e,t){e.oDatabase=t},fnUpdateRepos(e,t){e.aReposList=t},fnHideRepoWindow(e){e.bShowRepoWindow=!1},fnShowRepoWindow(e){e.bShowRepoWindow=!0},fnShowLoader(e){e.bShowLoader=!0},fnHideLoader(e){e.bShowLoader=!1},fnShowEditor(e){e.bShowEditor=!0},fnHideEditor(e){e.bShowEditor=!1,e.sSelectedArticleID=null},fnSelectGroup(e,t){e.sSelectedGroupID=t},fnSelectCategory(e,t){e.sSelectedCategoryID=t},fnSelectArticle(e,t){e.sSelectedArticleID=t},fnSelectTag(e,t){e.sSelectedTagID=t},fnSelectLink(e,t){e.sSelectedLinkID=t},fnSetArticleContent(e,t){e.sArticleContent=t},fnUpdateMode(e,t){e.sCurrentMode=t},fnCleanDatabase(e){e.oDatabase=v},fnLoadDemoDatabase(e){e.oDatabase=n},fnShowGroupEditWindow(e,t){e.bShowGroupEditWindow=!0,e.oGroupEditItem=t,_l(">>>",t),e.sGroupEditWindowGroupName=t?t.name:""},fnHideGroupEditWindow(e){e.bShowGroupEditWindow=!1},fnShowCategoryEditWindow(e,t){if(e.bShowCategoryEditWindow=!0,e.oCategoryEditItem=t,t){e.sCategoryEditWindowCategoryName=t.name;var i=b(e,t.id);_l(">>>",i),e.sCategoryEditWindowGroupID=i?.group_id,e.sCategoryEditWindowCategoryID=t.parent_id}else e.sCategoryEditWindowCategoryName="",e.sCategoryEditWindowGroupID=e.sSelectedGroupID,e.sCategoryEditWindowCategoryID=e.sSelectedCategoryID},fnHideCategoryEditWindow(e){e.bShowCategoryEditWindow=!1},fnShowArticleEditWindow(e,t){if(e.bShowArticleEditWindow=!0,e.oArticleEditItem=t,t){e.sArticleEditWindowArticleName=t.name;var i=e.oDatabase.categories.find((e=>e.id==t.category_id));e.sArticleEditWindowGroupID=i?.group_id,e.sArticleEditWindowCategoryID=t.category_id}else e.sArticleEditWindowArticleName="",e.sArticleEditWindowCategoryID=e.sSelectedCategoryID,e.sArticleEditWindowGroupID=e.sSelectedGroupID},fnHideArticleEditWindow(e){e.bShowArticleEditWindow=!1},fnShowTagEditWindow(e,t){e.bShowTagEditWindow=!0,e.oTagEditItem=t,e.sTagEditWindowTagName=t?t.name:""},fnHideTagEditWindow(e){e.bShowTagEditWindow=!1},fnShowLinkEditWindow(e,t){e.bShowLinkEditWindow=!0,e.oLinkEditItem=t,t?(e.sLinkEditWindowLinkName=t.name,e.sLinkEditWindowLinkURL=t.url):(e.sLinkEditWindowLinkName="",e.sLinkEditWindowLinkURL="")},fnHideLinkEditWindow(e){e.bShowLinkEditWindow=!1},fnUpdateDatabaseTable(e,{sTableName:t,sField:i,sV:a}){e.oDatabase[t][i]=a},fnUpdateVar(e,{sName:t,sV:i}){e[t]=i},fnAddGroup(e,t){e.oDatabase.groups_last_id++,t={...t,id:e.oDatabase.groups_last_id},e.oDatabase.groups.push(t)},fnUpdateGroup(e,{iIndex:t,oItem:i}){e.oDatabase.groups.splice(t,1,i)},fnRemoveGroup(e,t){e.oDatabase.groups.splice(t,1)},fnAddCategory(e,t){e.oDatabase.categories_last_id++,t={...t,id:e.oDatabase.categories_last_id},e.oDatabase.categories.push(t),_l(e.oDatabase.categories)},fnUpdateCategory(e,{iIndex:t,oItem:i}){e.oDatabase.categories.splice(t,1,i)},fnRemoveCategory(e,t){e.oDatabase.categories.splice(t,1)},fnAddArticle(e,t){e.oDatabase.articles_last_id++,t={...t,id:e.oDatabase.articles_last_id},e.oDatabase.articles.push(t)},fnUpdateArticle(e,{iIndex:t,oItem:i}){e.oDatabase.articles.splice(t,1,i)},fnRemoveArticle(e,t){e.oDatabase.articles.splice(t,1)},fnAddTag(e,t){e.oDatabase.tags_last_id++,t={...t,id:e.oDatabase.tags_last_id},e.oDatabase.tags.push(t)},fnUpdateTag(e,{iIndex:t,oItem:i}){_l(">>>",i),e.oDatabase.tags.splice(t,1,i)},fnRemoveTag(e,t){e.oDatabase.tags.splice(t,1)},fnRemoveTagRelation(e,t){e.oDatabase.tags_relations.splice(t,1)},fnAddLink(e,t){e.oDatabase.links_last_id++,t={...t,id:e.oDatabase.links_last_id},e.oDatabase.links.push(t)},fnUpdateLink(e,{iIndex:t,oItem:i}){e.oDatabase.links.splice(t,1,i)},fnRemoveLink(e,t){e.oDatabase.links.splice(t,1)},fnSaveArticleContent(e){e.oDatabase.articles.find((t=>t.id==e.sSelectedArticleID))},fnAddFavorite(e,t){~e.oDatabase.findIndex((e=>e.id==t.id))||(e.oDatabase.articles_last_id++,e.oDatabase.favorites.push({id:e.oDatabase.articles_last_id,article_id:t.id}))},fnRemoveFavorite(e,t){var i=e.oDatabase.favorites.findIndex((e=>e.article_id==t.id));e.oDatabase.favorites.splice(i,1)}},actions:{fnPrepareRepo({commit:e,state:t,dispatch:i,getters:a}){e("fnHideRepoWindow"),d.fnInit(a.oCurrentRepo),i("fnLoadDatabase")},fnSaveDatabase({commit:e,state:t}){return d.fnReadFile(g).then((()=>{d.fnWriteFileJSON(g,t.oDatabase)})).catch((()=>{d.fnWriteFileJSON(g,t.oDatabase)}))},fnSaveArticlePage({commit:e,state:t,getters:i,dispatch:a}){return new Promise(((e,t)=>{if(i.oCurrentArticle){var n=i.fnGetCurrentArticlePath();a("fnSaveFile",n).then((t=>e(t)))}e()}))},fnLoadDatabase({commit:e,state:t}){e("fnSelectArticle",null),e("fnShowLoader"),d.fnReadFileJSON(g).then((t=>{if(!t)throw"Cannot destructure property";e("fnUpdateDatabase",t),e("fnHideLoader")})).catch((i=>{((i+"").match(/Cannot destructure property/)||(i+"").match(/Not Found/))&&d.fnWriteFileJSON(g,t.oDatabase).then((()=>{d.fnReadFileJSON(g).then((t=>{e("fnUpdateDatabase",t),e("fnHideLoader")}))}))}))},fnSaveFile({commit:e,state:t},i){return d.fnReadFile(i).then((()=>{d.fnWriteFile(i,t.sArticleContent)})).catch((()=>{d.fnWriteFile(i,t.sArticleContent)}))},fnPublishIndexFile({commit:e,state:t,dispatch:i}){for(var a of t.oDatabase.articles)`- [${a.name}](/pages/${a.hash_name}.html)\n`;var n="README.md";return i("fnSaveFile",n)},fnUpdateGroup({commit:e,getters:t},i){var a=t.fnGetGroupIndex(i.id);e("fnUpdateGroup",{iIndex:a,oItem:i})},fnUpdateCategory({commit:e,getters:t},i){var a=t.fnGetCategoryIndex(i.id);e("fnUpdateCategory",{iIndex:a,oItem:i})},fnUpdateArticle({commit:e,getters:t},i){var a=t.fnGetArticleIndex(i.id);e("fnUpdateArticle",{iIndex:a,oItem:i})},fnUpdateTag({commit:e,getters:t},i){var a=t.fnGetTagIndex(i.id);e("fnUpdateTag",{iIndex:a,oItem:i})},fnUpdateLink({commit:e,getters:t},i){var a=t.fnGetLinkIndex(i.id);e("fnUpdateLink",{iIndex:a,oItem:i})},fnRemoveGroup({state:e,dispatch:t,commit:i,getters:a},n){var o=e.oDatabase.categories.filter((e=>~e.group_id==n.id));for(var s of o)t("fnRemoveCategory",s);var l=a.fnGetGroupIndex(n.id);i("fnRemoveGroup",l)},fnRemoveCategory({state:e,dispatch:t,commit:i,getters:a},n){var o=e.oDatabase.categories.filter((e=>e.parent_id==n.id));for(var s of o)t("fnRemoveCategory",s);e.oDatabase.articles=e.oDatabase.articles.filter((e=>e.category_id!=n.id)),e.oDatabase.categories=e.oDatabase.categories.filter((e=>e.parent_id!=n.id));var l=a.fnGetCategoryIndex(n.id);i("fnRemoveCategory",l)},fnRemoveArticle({commit:e,getters:t,state:i},a){var n=null;while(~(n=t.fnGetTagRelationIndexForArticle(a.id)))e("fnRemoveTagRelation",n);while(~(n=t.fnGetFavoriteIndexForArticle(a.id)))e("fnRemoveFavorite",n);var o=t.fnGetArticleIndex(a.id);e("fnRemoveArticle",o)},fnRemoveTag({commit:e,getters:t},i){var a=t.fnGetTagIndex(i.id);e("fnRemoveTag",a)},fnRemoveLink({commit:e,getters:t},i){var a=t.fnGetLinkIndex(i.id);e("fnRemoveLink",a)},async fnSelectArticle({commit:e,state:t,getters:i},a){if(e("fnSelectArticle",a),_l(">>>",a),a){var n=i.fnGetCurrentArticlePath();d.fnCreateDir("/pages/");d.fnReadFile(n).then((({sData:t,sSHA:i})=>{e("fnShowEditor"),e("fnSetArticleContent",t)})).catch((t=>{(t+"").match(/Not Found/)&&(d.fnWriteFile(n,""),e("fnShowEditor"),e("fnSetArticleContent",""))}))}},fnSaveGroup({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oGroupEditItem){var n={name:a.sGroupEditWindowGroupName};e("fnAddGroup",n)}else a.oGroupEditItem.name=a.sGroupEditWindowGroupName,t("fnUpdateGroup",a.oGroupEditItem)},fnSaveCategory({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oCategoryEditItem){var n={name:a.sCategoryEditWindowCategoryName,parent_id:a.sCategoryEditWindowCategoryID,group_id:a.sCategoryEditWindowGroupID};e("fnAddCategory",n)}else a.oCategoryEditItem.name=a.sCategoryEditWindowCategoryName,a.oCategoryEditItem.parent_id=a.sCategoryEditWindowCategoryID,a.oCategoryEditItem.group_id=a.sCategoryEditWindowGroupID,t("fnUpdateCategory",a.oCategoryEditItem)},fnSaveArticle({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oArticleEditItem){var n={name:a.sArticleEditWindowArticleName,category_id:a.sArticleEditWindowCategoryID,hash_name:p()};e("fnAddArticle",n)}else a.oArticleEditItem.name=a.sArticleEditWindowArticleName,a.oArticleEditItem.category_id=a.sArticleEditWindowCategoryID,t("fnUpdateArticle",a.oArticleEditItem)},fnSaveTag({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oTagEditItem){var n={name:a.sTagEditWindowTagName};e("fnAddTag",n)}else a.oTagEditItem.name=a.sTagEditWindowTagName,t("fnUpdateTag",a.oTagEditItem)},fnSaveLink({commit:e,dispatch:t,getters:i,state:a}){if(null===a.oLinkEditItem){var n={name:a.sLinkEditWindowLinkName,url:a.sLinkEditWindowLinkURL};e("fnAddLink",n)}else a.oLinkEditItem.name=a.sLinkEditWindowLinkName,a.oLinkEditItem.url=a.sLinkEditWindowLinkURL,t("fnUpdateLink",a.oLinkEditItem)},fnSaveArticleContent({commit:e,getters:t,state:i},a){if(t.oCurrentArticle){var n=i.oDatabase.articles.findIndex((e=>e.id==t.oCurrentArticle.id));e("fnSaveArticleContent",{iIndex:n,sContent:a})}},async fnSave({commit:e,getters:t,state:i,dispatch:a}){a("fnSaveDatabase").then((()=>{a("fnPublishIndexFile").then((()=>{setTimeout((()=>{i.sSelectedArticleID&&a("fnSaveArticlePage")}),300)}))})),e("fnUpdateVar","bShowSaveToast",!0)},fnExportDatabase({commit:e,state:t,dispatch:i,getters:a}){f("notes-database",JSON.stringify(t.oDatabase,null,4))},fnImportDatabase({commit:e,state:t,dispatch:i,getters:a},n){e("fnUpdateDatabase",JSON.parse(n))},fnExportRepos({commit:e,state:t,dispatch:i,getters:a}){f("notes-repos",JSON.stringify(t.aReposList,null,4))},fnImportRepos({commit:e,state:t,dispatch:i,getters:a},n){e("fnUpdateRepos",JSON.parse(n))}},getters:{fnGetCurrentArticlePath:(e,t)=>()=>`/pages/${t.oCurrentArticle?.hash_name}.md`,fnGetCurrentArticleLink:e=>()=>{var t=e.aReposList[e.iSelectedRepoIndex],i=e.oDatabase.articles.find((t=>t.id==e.sSelectedArticleID));return"github"==t.type?`https://github.com/${t.login}/${t.repo}/blob/main/pages/${i.hash_name}.md`:"webdav"==t.type?`${t.url}/pages/${i.hash_name}.md`:void 0},aReposList(e){return e.aDefaultRepoList.concat(e.aReposList)},oCurrentRepo(e,t){return t.aReposList[e.iSelectedRepoIndex]},fnGetCategory:e=>t=>e.oDatabase.categories.find((e=>e.id==t)),fnGetGroup:e=>t=>e.oDatabase.groups.find((e=>e.id==t)),fnGetArticle:e=>t=>e.oDatabase.articles.find((e=>e.id==t)),fnGetTagRelationIndexForArticle:e=>t=>e.oDatabase.tags_relations.findIndex((e=>e.article_id==t)),fnGetFavoriteIndexForArticle:e=>t=>e.oDatabase.favorites.findIndex((e=>e.article_id==t)),fnGetCategoryIndex:e=>t=>e.oDatabase.categories.findIndex((e=>e.id==t)),fnGetGroupIndex:e=>t=>e.oDatabase.groups.findIndex((e=>e.id==t)),fnGetArticleIndex:e=>t=>e.oDatabase.articles.findIndex((e=>e.id==t)),fnGetTagIndex:e=>t=>e.oDatabase.tags.findIndex((e=>e.id==t)),fnGetLinkIndex:e=>t=>e.oDatabase.links.findIndex((e=>e.id==t)),fnFilterCurrentCategories:e=>t=>e.oDatabase.categories.filter((i=>~i.name.indexOf(t)&&i.group_id==e.sSelectedGroupID)),fnFilterCurrentArticles:e=>t=>e.oDatabase.articles.filter((i=>~i.name.indexOf(t)&&i.category_id==e.sSelectedCategoryID)),fnGetFavorites:e=>()=>e.oDatabase.articles.filter((t=>~e.oDatabase.favorites.findIndex((e=>t.id==e.id)))),fnFilterFavorites:(e,t)=>e=>t.fnGetFavorites().filter((t=>~t.name.indexOf(e))),fnFilterLinks:e=>t=>e.oDatabase.links.filter((e=>~e.name.indexOf(t))),fnGetArticlesTags:e=>t=>e.oDatabase.tags.filter((i=>~e.oDatabase.tags_relations.findIndex((e=>t==e.article_id&&e.tag_id==i.id)))),fnFilterArticlesTags:(e,t)=>(e,i)=>t.fnGetArticlesTags(e).filter((e=>~e.name.indexOf(i))),fnGetTagsArticles:e=>t=>e.oDatabase.articles.filter((i=>~e.oDatabase.tags_relations.findIndex((e=>i.id==e.article_id&&e.tag_id==t)))),fnFilterTagsArticles:(e,t)=>(e,i)=>t.fnGetTagsArticles(e).filter((e=>~e.name.indexOf(i))),fnFilterCurrentTagsArticles:(e,t)=>i=>t.fnFilterTagsArticles(e.sSelectedTagID,i),fnFilterTags:e=>t=>e.oDatabase.tags.filter((e=>~e.name.indexOf(t))),fnFilterGroups:e=>t=>e.oDatabase.groups.filter((e=>~e.name.indexOf(t))),fnFilterTreeCategoriesByGroup:(e,t)=>i=>{var a=e.oDatabase.categories.filter((e=>e.group_id==i&&1*e.parent_id===0)),n=JSON.parse(JSON.stringify(a)),o=[];for(var s of n)o=o.concat([s]),n=t.fnFilterCategoriesByParent(s.id),o=o.concat(n);return o},fnFilterRootCategoriesByGroup:e=>t=>e.oDatabase.categories.filter((e=>e.group_id==t&&1*e.parent_id===0)),fnFilterCategoriesByParent:(e,t)=>(i,a=1)=>{var n=e.oDatabase.categories.filter((e=>e.parent_id==i)),o=JSON.parse(JSON.stringify(n)),s=[];for(var l of o)l.name="--".repeat(a)+(a>0?"--":"")+l.name,s=s.concat([l]),o=t.fnFilterCategoriesByParent(l.id,a+1),s=s.concat(o);return s},fnFilterCategories:e=>t=>e.oDatabase.categories.filter((e=>~e.name.indexOf(t))),fnFilterArticles:e=>t=>e.oDatabase.articles.filter((e=>~e.name.indexOf(t))),fnFilterFavorites:(e,t)=>e=>t.fnGetFavorites().filter((t=>~t.name.indexOf(e))),fnFilterTags:e=>t=>e.oDatabase.tags.filter((e=>~e.name.indexOf(t))),fnFilterLinks:e=>t=>e.oDatabase.links.filter((e=>~e.name.indexOf(t))),aGroupsList(e){return e.oDatabase.groups},aCategoriesList(e){return e.oDatabase.categories},aArticlesList(){return state.oDatabase.articles},aTagsList(){return state.oDatabase.tags},aLinksist(){return state.oDatabase.links},oCurrentGroup(e,t){return e.oDatabase.groups.find((t=>t.id==e.sSelectedGroupID))},oCurrentCategory(e,t){return e.oDatabase.categories.find((t=>t.id==e.sSelectedCategoryID))},oCurrentArticle(e,t){return e.oDatabase.articles.find((t=>t.id==e.sSelectedArticleID))},oCurrentTag(e,t){return e.oDatabase.tags.find((t=>t.id==e.sSelectedTagID))},oCurrentLink(e,t){return e.oDatabase.links.find((t=>t.id==e.sSelectedLinkID))},fnGetCurrentLink:e=>()=>e.oDatabase.links.find((t=>t.id==e.sSelectedLinkID)),fnGetCurrentTag:e=>()=>e.oDatabase.tags.find((t=>t.id==e.sSelectedTagID)),fnFilterCategoriesByGroup:e=>t=>e.oDatabase.categories.filter((e=>e.group_id==t)),fnFilterArticlesByCategory:e=>t=>e.oDatabase.articles.filter((e=>e.category_id==t)),fnFilterArticlesByID:e=>t=>e.oDatabase.articles.filter((e=>e.id==t))}}),w=i(9242),_=i(3396),C=i(2268);const y={class:"wrapper"},k={class:"app-modes"},S=(0,_._)("i",{class:"bi bi-person-fill"},null,-1),D=[S],I=(0,_._)("i",{class:"bi bi-cloud-arrow-up"},null,-1),A=[I],E=(0,_._)("hr",null,null,-1),F=["title","onClick"],L=(0,_._)("hr",null,null,-1),W=(0,_._)("i",{class:"bi bi-box-arrow-down"},null,-1),R=[W],T={class:"btn btn-import",title:"Импортировать"},x=(0,_._)("i",{class:"bi bi-box-arrow-in-up"},null,-1),G={class:"current-mode"},U={class:"editor-wrapper"};function O(e,t,i,a,n,o){const s=(0,_.up)("ListMode"),l=(0,_.up)("CatalogMode"),r=(0,_.up)("FavoritesMode"),d=(0,_.up)("TagsMode"),c=(0,_.up)("LinksMode"),u=(0,_.up)("PageEditor"),m=(0,_.up)("ErrorWindow"),p=(0,_.up)("AskAPIWindow"),f=(0,_.up)("EditGroup"),g=(0,_.up)("EditCategory"),b=(0,_.up)("EditArticle"),v=(0,_.up)("EditLink"),h=(0,_.up)("EditTag"),S=(0,_.up)("Loader"),I=(0,_.up)("SavedToast");return(0,_.wg)(),(0,_.iD)(_.HY,null,[(0,_._)("div",y,[(0,_._)("div",k,[(0,_._)("button",{class:"btn",onClick:t[0]||(t[0]=(...t)=>e.fnShowRepoWindow&&e.fnShowRepoWindow(...t)),title:"Выбрать другую сессию"},D),(0,_._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>o.fnSaveAll&&o.fnSaveAll(...e)),title:"Сохранить все"},A),E,((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(n.aMenu,(e=>((0,_.wg)(),(0,_.iD)("a",{key:e.class,class:(0,C.C_)((o.sCurrentMode==e.class?"btn-primary":"")+" btn "+e.class),title:e.title,onClick:t=>o.fnMenuItemClick(e)},[(0,_._)("i",{class:(0,C.C_)("bi "+e.icon)},null,2)],10,F)))),128)),L,(0,_._)("button",{class:"btn",title:"Экспортировать",onClick:t[2]||(t[2]=(...e)=>o.fnExport&&o.fnExport(...e))},R),(0,_._)("button",T,[x,(0,_._)("label",null,[(0,_._)("input",{type:"file",ref:"file_selector",onChange:t[3]||(t[3]=(...e)=>o.fnFileImportChange&&o.fnFileImportChange(...e))},null,544)])])]),(0,_._)("div",G,[(0,_.wy)((0,_.Wm)(s,null,null,512),[[w.F8,"app-mode-list"==o.sCurrentMode]]),(0,_.wy)((0,_.Wm)(l,null,null,512),[[w.F8,"app-mode-catalog"==o.sCurrentMode]]),(0,_.wy)((0,_.Wm)(r,null,null,512),[[w.F8,"app-mode-favorites"==o.sCurrentMode]]),(0,_.wy)((0,_.Wm)(d,null,null,512),[[w.F8,"app-mode-tags"==o.sCurrentMode]]),(0,_.wy)((0,_.Wm)(c,null,null,512),[[w.F8,"app-mode-links"==o.sCurrentMode]])]),(0,_._)("div",U,[(0,_.Wm)(u)])]),(0,_.Wm)(m,{message:e.sErrorWindowMessage,title:e.sErrorWindowTitle},null,8,["message","title"]),(0,_.Wm)(p),(0,_.Wm)(f),(0,_.Wm)(g),(0,_.Wm)(b),(0,_.Wm)(v),(0,_.Wm)(h),(0,_.Wm)(S),(0,_.Wm)(I)],64)}const M={class:"loader"},H=(0,_._)("div",{class:"center"},[(0,_._)("div",{class:"lds-dual-ring"})],-1),N=[H];function z(e,t,i,a,n,o){return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",M,N,512)),[[w.F8,e.bShowLoader]])}var P={computed:{...(0,a.rn)(c`bShowLoader`)}},K=i(89);const V=(0,K.Z)(P,[["render",z]]);var Y=V;const $={id:"mode-list",class:"mode"},B={class:"all-articles-panel"},Z={class:"actions-panel"},J={class:"list"},j=["onClick"],q={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},Q={class:"item-inner-title"},X={class:"item-inner-title"};function ee(e,t,i,a,n,o){const s=(0,_.up)("Dropdown");return(0,_.wg)(),(0,_.iD)("div",$,[(0,_._)("div",B,[(0,_._)("div",Z,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFilter=e)},null,512),[[w.nr,n.sFilter]]),(0,_.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnMenuItemClick},null,8,["items","onClickitem"])]),(0,_._)("div",J,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aArticleList,(t=>((0,_.wg)(),(0,_.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row item-artilces-list "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,_._)("a",q,[(0,_._)("div",Q,(0,C.zw)(t.name),1)]),(0,_._)("div",X,(0,C.zw)(e.fnGetCategory(t.category_id)?.name),1)],10,j)))),128))])])])}const te={class:"dropdown"},ie=["onClick","innerHTML"];function ae(e,t,i,a,n,o){return(0,_.wg)(),(0,_.iD)("div",te,[(0,_._)("a",{class:"btn dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:t[0]||(t[0]=(...e)=>o.fnMenuOpen&&o.fnMenuOpen(...e))}),(0,_._)("ul",{class:(0,C.C_)("dropdown-menu "+(n.bOpened?"show":""))},[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(n.aItems,(e=>((0,_.wg)(),(0,_.iD)("li",{key:e.id},[(0,_._)("a",{class:"dropdown-item",href:"#",onClick:t=>o.fnOnItemClick(e),innerHTML:e.title},null,8,ie)])))),128))],2)])}var ne={props:["items"],emits:["clickitem"],data(){return{aItems:this.items,bOpened:!1}},methods:{fnFocusOut(){this.bOpened=!1},fnMenuOpen(){this.bOpened=!this.bOpened},fnOnItemClick(e){this.bOpened=!1,this.$emit("clickitem",e)}},created(){window.addEventListener("click",(e=>{this.$el.contains(e.target)||(this.bOpened=!1)}))}};const oe=(0,K.Z)(ne,[["render",ae]]);var se=oe,le={name:"ListMode",components:{Dropdown:se},computed:{...(0,a.rn)(c`sSelectedArticleID`),...(0,a.Se)(c`oCurrentArticle fnGetCategory`),aArticleList(){return this.$store.getters.fnFilterArticles(this.sFilter)}},data(){return{sFilter:"",aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(c`fnShowArticleEditWindow`),...(0,a.nv)(c`fnSelectArticle fnRemoveArticle`),fnMenuItemClick(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnAddFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}}};const re=(0,K.Z)(le,[["render",ee]]);var de=re;const ce={id:"mode-catalog",class:"mode"},ue={class:"groups-panel"},me={class:"actions-panel"},pe={class:"list"},fe=["onClick"],ge={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},be={class:"item-inner-title"},ve={class:"categories-panel"},he={class:"actions-panel"},we={class:"list"},_e={class:"articles-panel"},Ce={class:"actions-panel"},ye={class:"list"},ke=["onClick"],Se={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},De={class:"item-inner-title"};function Ie(e,t,i,a,n,o){const s=(0,_.up)("Dropdown"),l=(0,_.up)("TreeList");return(0,_.wg)(),(0,_.iD)("div",ce,[(0,_._)("div",ue,[(0,_._)("div",me,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sGroupGilter=e)},null,512),[[w.nr,n.sGroupGilter]]),(0,_.Wm)(s,{items:n.aGroupDropdownMenu,onClickitem:o.fnGroupClickItem},null,8,["items","onClickitem"])]),(0,_._)("div",pe,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aGroupList,(t=>((0,_.wg)(),(0,_.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedGroupID?"active":"")),onClick:i=>e.fnSelectGroup(t.id)},[(0,_._)("a",ge,[(0,_._)("div",be,(0,C.zw)(t.name),1)])],10,fe)))),128))])]),(0,_._)("div",ve,[(0,_._)("div",he,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>n.sCategoryFilter=e)},null,512),[[w.nr,n.sCategoryFilter]]),(0,_.Wm)(s,{items:n.aCategoryDropdownMenu,onClickitem:o.fnCategoryClickItem},null,8,["items","onClickitem"])]),(0,_._)("div",we,[(0,_.Wm)(l,{list:o.aCategoryList,parent:0,level:0,selected:e.sSelectedCategoryID,onClickitem:o.fnSelectCategoryItem},null,8,["list","selected","onClickitem"])])]),(0,_._)("div",_e,[(0,_._)("div",Ce,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>n.sArticleFilter=e)},null,512),[[w.nr,n.sArticleFilter]]),(0,_.Wm)(s,{items:n.aArticleDropdownMenu,onClickitem:o.fnArticleClickItem},null,8,["items","onClickitem"])]),(0,_._)("div",ye,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aArticleList,((t,i)=>((0,_.wg)(),(0,_.iD)("div",{key:i,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,_._)("a",Se,[(0,_._)("div",De,(0,C.zw)(t.name),1)])],10,ke)))),128))])])])}function Ae(e,t,i,a,n,o){const s=(0,_.up)("TreeItem");return(0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aList,(e=>((0,_.wg)(),(0,_.j4)(s,{key:e.id,item:e,parent:o.sParent,list:o.aList,selected:o.sSelectedID,level:o.iLevel,onClickitem:o.fnSelectItem},null,8,["item","parent","list","selected","level","onClickitem"])))),128)}const Ee={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},Fe={class:"bi bi-caret-down-fill"},Le={class:"bi bi-caret-right-fill"},We={class:"item-inner-title"};function Re(e,t,i,a,n,o){const s=(0,_.up)("TreeItem");return(0,_.wg)(),(0,_.iD)(_.HY,null,[1*o.oItem.parent_id==1*o.sParent?((0,_.wg)(),(0,_.iD)("div",{key:0,class:(0,C.C_)("input-group item-tree-row "+(o.oItem.id==o.sSelectedID?"active":"")),onClick:t[1]||(t[1]=(...e)=>o.fnSelectItem&&o.fnSelectItem(...e))},[(0,_._)("a",Ee,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.iLevel,(e=>((0,_.wg)(),(0,_.iD)("div",{class:"tree-spacer",key:e})))),128)),(0,_._)("a",{class:"item-flag",onClick:t[0]||(t[0]=(...e)=>o.fnToggleItem&&o.fnToggleItem(...e))},[(0,_.wy)((0,_._)("i",Fe,null,512),[[w.F8,n.bIsOpened]]),(0,_.wy)((0,_._)("i",Le,null,512),[[w.F8,!n.bIsOpened]])]),(0,_._)("div",We,(0,C.zw)(o.oItem.name),1)])],2)):(0,_.kq)("",!0),((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aList,(e=>((0,_.wg)(),(0,_.iD)(_.HY,{key:e.id},[1*e.parent_id==1*o.oItem.id&&n.bIsOpened?((0,_.wg)(),(0,_.j4)(s,{key:0,item:e,parent:o.oItem.id,list:o.aList,selected:o.sSelectedID,level:o.iLevel+1,onClickitem:o.fnForwardSelectItem},null,8,["item","parent","list","selected","level","onClickitem"])):(0,_.kq)("",!0)],64)))),128))],64)}var Te={name:"TreeItem",components:{TreeList:Me},emits:["clickitem"],props:{item:Object,parent:{type:Number,default:0},list:Array,selected:[String,Number,null],level:{type:Number,default:0}},computed:{oItem(){return this.item},sParent(){return this.parent},aList(){return this.list},sSelectedID(){return this.selected},iLevel(){return this.level}},data(){return{bIsOpened:this.item.is_opened}},methods:{fnForwardSelectItem(e){this.$emit("clickitem",e)},fnSelectItem(){this.$emit("clickitem",this.oItem)},fnToggleItem(){this.oItem.is_opened=!this.oItem.is_opened,this.bIsOpened=this.oItem.is_opened}}};const xe=(0,K.Z)(Te,[["render",Re]]);var Ge=xe,Ue={name:"TreeList",components:{TreeItem:Ge},emits:["clickitem"],props:{parent:{type:Number,default:0},list:Array,selected:[String,Number,null],level:{type:Number,default:0}},computed:{sParent(){return this.parent},aList(){return this.list},sSelectedID(){return this.selected},iLevel(){return this.level}},data(){return{}},methods:{fnSelectItem(e){this.$emit("clickitem",e)}}};const Oe=(0,K.Z)(Ue,[["render",Ae]]);var Me=Oe,He={name:"CatalogMode",components:{Dropdown:se,TreeList:Me},computed:{...(0,a.rn)(c`sSelectedGroupID sSelectedCategoryID sSelectedArticleID`),...(0,a.Se)(c`oCurrentGroup oCurrentCategory oCurrentArticle`),aGroupList(){return this.$store.getters.fnFilterGroups(this.sGroupGilter)},aCategoryList(){return this.$store.getters.fnFilterCurrentCategories(this.sCategoryFilter)},aArticleList(){return this.$store.getters.fnFilterCurrentArticles(this.sArticleFilter)}},data(){return{sGroupGilter:"",sCategoryFilter:"",sArticleFilter:"",aGroupDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aCategoryDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aArticleDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(c`fnSelectGroup fnSelectCategory fnShowGroupEditWindow fnShowCategoryEditWindow fnShowArticleEditWindow fnAddFavorite`),...(0,a.nv)(c`fnSelectArticle fnRemoveGroup fnRemoveCategory fnRemoveArticle`),fnSelectCategoryItem(e){this.fnSelectCategory(e.id)},fnGroupClickItem(e){"add"==e.id&&this.fnShowGroupEditWindow(null),"edit"==e.id&&(this.oCurrentGroup?this.fnShowGroupEditWindow(this.oCurrentGroup):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentGroup?this.fnRemoveGroup(this.oCurrentGroup):alert("Нужно выбрать"))},fnCategoryClickItem(e){"add"==e.id&&this.fnShowCategoryEditWindow(null),"edit"==e.id&&(this.oCurrentCategory?this.fnShowCategoryEditWindow(this.oCurrentCategory):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentCategory?this.fnRemoveCategory(this.oCurrentCategory):alert("Нужно выбрать"))},fnArticleClickItem(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnAddFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}},created(){}};const Ne=(0,K.Z)(He,[["render",Ie]]);var ze=Ne;const Pe={id:"mode-favorites",class:"mode"},Ke={class:"favorites-panel"},Ve={class:"actions-panel"},Ye={class:"list"},$e=["onClick"],Be={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},Ze={class:"item-inner-title"};function Je(e,t,i,a,n,o){const s=(0,_.up)("Dropdown");return(0,_.wg)(),(0,_.iD)("div",Pe,[(0,_._)("div",Ke,[(0,_._)("div",Ve,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFavFilter=e)},null,512),[[w.nr,n.sFavFilter]]),(0,_.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnArticleClickItem},null,8,["items","onClickitem"])]),(0,_._)("div",Ye,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aFavList,((t,i)=>((0,_.wg)(),(0,_.iD)(_.HY,{key:i},[t&&t.id?((0,_.wg)(),(0,_.iD)("div",{key:0,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,_._)("a",Be,[(0,_._)("div",Ze,(0,C.zw)(t.name),1)])],10,$e)):(0,_.kq)("",!0)],64)))),128))])])])}var je={name:"FavoritesMode",components:{Dropdown:se},computed:{...(0,a.rn)(c`sSelectedArticleID oDatabase`),...(0,a.Se)(c`oCurrentArticle fnGetCategory`),aFavList(){return this.$store.state.oDatabase.favorites.map((e=>this.$store.state.oDatabase.articles.find((t=>t.id==e.article_id)))).filter((e=>~e?.name.indexOf(this.sFavFilter)))}},data(){return{sFavFilter:"",aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> Убрать из ибранного'}]}},methods:{...(0,a.OI)(c`fnShowArticleEditWindow`),...(0,a.nv)(c`fnSelectArticle fnRemoveArticle fnRemoveFavorite`),fnArticleClickItem(e){"add"==e.id&&this.fnShowArticleEditWindow(null),"edit"==e.id&&(this.oCurrentArticle?this.fnShowArticleEditWindow(this.oCurrentArticle):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentArticle?this.fnRemoveArticle(this.oCurrentArticle):alert("Нужно выбрать")),"favorites"==e.id&&(this.oCurrentArticle?this.fnRemoveFavorite(this.oCurrentArticle):alert("Нужно выбрать"))}}};const qe=(0,K.Z)(je,[["render",Je]]);var Qe=qe;const Xe={id:"mode-tags",class:"mode"},et={class:"tags-panel"},tt={class:"actions-panel"},it={class:"list"},at=["onClick"],nt={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},ot={class:"item-inner-title"},st={class:"tags-articles-panel"},lt={class:"actions-panel"},rt={class:"list"},dt=["onClick"],ct={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},ut={class:"item-inner-title"};function mt(e,t,i,a,n,o){const s=(0,_.up)("Dropdown");return(0,_.wg)(),(0,_.iD)("div",Xe,[(0,_._)("div",et,[(0,_._)("div",tt,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>n.sTagFilter=e)},null,512),[[w.nr,n.sTagFilter]]),(0,_.Wm)(s,{items:n.aTagDropdownMenu,onClickitem:o.fnTagClickItem},null,8,["items","onClickitem"])]),(0,_._)("div",it,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aTagsList,(t=>((0,_.wg)(),(0,_.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedTagID?"active":"")),onClick:i=>e.fnSelectTag(t.id)},[(0,_._)("a",nt,[(0,_._)("div",ot,(0,C.zw)(t.name),1)])],10,at)))),128))])]),(0,_._)("div",st,[(0,_._)("div",lt,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>n.sArticleFilter=e)},null,512),[[w.nr,n.sArticleFilter]])]),(0,_._)("div",rt,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aArticlesList,(t=>((0,_.wg)(),(0,_.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row "+(t.id==e.sSelectedArticleID?"active":"")),onClick:i=>e.fnSelectArticle(t.id)},[(0,_._)("a",ct,[(0,_._)("div",ut,(0,C.zw)(t.name),1)])],10,dt)))),128))])])])}var pt={name:"TagsMode",components:{Dropdown:se},computed:{...(0,a.rn)(c`sSelectedTagID sSelectedArticleID`),...(0,a.Se)(c`oCurrentTag`),aTagsList(){return this.$store.getters.fnFilterTags(this.sTagFilter)},aArticlesList(){return this.$store.getters.fnFilterCurrentTagsArticles(this.sArticleFilter)}},data(){return{sTagFilter:"",sArticleFilter:"",aTagDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aArticleDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'},{id:"favorites",title:'<i class="bi bi-star-fill"></i> В избранное'}]}},methods:{...(0,a.OI)(c`fnSelectTag fnShowTagEditWindow`),...(0,a.nv)(c`fnSelectArticle fnRemoveTag`),fnTagClickItem(e){"add"==e.id&&this.fnShowTagEditWindow(null),"edit"==e.id&&(this.oCurrentTag?this.fnShowTagEditWindow(this.oCurrentTag):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentTag?this.fnRemoveTag(this.oCurrentTag):alert("Нужно выбрать"))}}};const ft=(0,K.Z)(pt,[["render",mt]]);var gt=ft;const bt={id:"mode-links",class:"mode"},vt={class:"links-panel"},ht={class:"actions-panel"},wt={class:"list"},_t=["onClick"],Ct={class:(0,C.C_)("list-group-item list-group-item-action item-title ")},yt={class:"item-inner-title"},kt=["href"],St={class:"item-inner-title"};function Dt(e,t,i,a,n,o){const s=(0,_.up)("Dropdown");return(0,_.wg)(),(0,_.iD)("div",bt,[(0,_._)("div",vt,[(0,_._)("div",ht,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sFilter=e)},null,512),[[w.nr,n.sFilter]]),(0,_.Wm)(s,{items:n.aDropdownMenu,onClickitem:o.fnClickItem},null,8,["items","onClickitem"])]),(0,_._)("div",wt,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aLinkList,(t=>((0,_.wg)(),(0,_.iD)("div",{key:t.id,class:(0,C.C_)("input-group item-row item-links-row "+(t.id==e.sSelectedLinkID?"active":"")),onClick:i=>e.fnSelectLink(t.id)},[(0,_._)("a",Ct,[(0,_._)("div",yt,(0,C.zw)(t.name),1)]),(0,_._)("a",{href:t.url,class:"list-group-item list-group-item-action item-title link"},[(0,_._)("div",St,(0,C.zw)(t.url),1)],8,kt)],10,_t)))),128))])])])}var It={name:"LinksMode",components:{Dropdown:se},computed:{...(0,a.rn)(c`sSelectedLinkID`),...(0,a.Se)(c`oCurrentLink`),aLinkList(){return this.$store.getters.fnFilterLinks(this.sFilter)}},data(){return{sFilter:"",sSelectedID:null,oSelectedLink:null,aDropdownMenu:[{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'},{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}]}},methods:{...(0,a.OI)(c`fnSelectLink fnShowLinkEditWindow`),...(0,a.nv)(c`fnRemoveLink`),fnClickItem(e){"add"==e.id&&this.fnShowLinkEditWindow(null),"edit"==e.id&&(this.oCurrentLink?this.fnShowLinkEditWindow(this.oCurrentLink):alert("Нужно выбрать")),"delete"==e.id&&(this.oCurrentLink?this.fmRemoveLink(this.oCurrentLink):alert("Нужно выбрать"))}}};const At=(0,K.Z)(It,[["render",Dt]]);var Et=At;const Ft=(0,_._)("div",{class:"block-overlay"},null,-1),Lt={class:"modal fade show",id:"modal-error",tabindex:"-1"},Wt={class:"modal-dialog"},Rt={class:"modal-content"},Tt={class:"modal-header"},xt={class:"modal-title"},Gt={class:"modal-body"},Ut=(0,_._)("div",{class:"modal-footer"},null,-1);function Ot(e,t,i,a,n,o){return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",null,[Ft,(0,_._)("div",Lt,[(0,_._)("div",Wt,[(0,_._)("div",Rt,[(0,_._)("div",Tt,[(0,_._)("h5",xt,(0,C.zw)(i.title),1),(0,_._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,_._)("div",Gt,(0,C.zw)(i.message),1),Ut])])])],512)),[[w.F8,e.bShowErrorWindow]])}var Mt={props:["title","message"],computed:{...m("bShowErrorWindow")},methods:{fnClose(){this.bShowErrorWindow=!1}}};const Ht=(0,K.Z)(Mt,[["render",Ot]]);var Nt=Ht;const zt=(0,_._)("div",{class:"block-overlay"},null,-1),Pt={id:"modal-ask-api-key",class:"modal show",tabindex:"-1"},Kt={class:"modal-dialog"},Vt={class:"modal-content"},Yt=(0,_._)("div",{class:"modal-header"},[(0,_._)("h5",{class:"modal-title"},"Данные репозитория")],-1),$t={class:"modal-body",style:{height:"500px","overflow-y":"scroll"}},Bt={class:"modal-ask-api_list_buttons"},Zt=(0,_._)("div",null,null,-1),Jt={class:"mb-3"},jt=(0,_._)("label",{for:"",class:"form-label"},"Логин",-1),qt=(0,_._)("option",{value:"github"},"github",-1),Qt=(0,_._)("option",{value:"webdav"},"webdav",-1),Xt=[qt,Qt],ei={class:"mb-3"},ti=(0,_._)("label",{for:"",class:"form-label"},"Название",-1),ii={class:"mb-3"},ai=(0,_._)("label",{for:"",class:"form-label"},"Логин",-1),ni={class:"mb-3"},oi=(0,_._)("label",{for:"",class:"form-label"},"Репозиторий",-1),si={class:"mb-3"},li=(0,_._)("label",{for:"",class:"form-label"},"API Ключ",-1),ri={class:"mb-3"},di=(0,_._)("label",{for:"",class:"form-label"},"URL",-1),ci={class:"mb-3"},ui=(0,_._)("label",{for:"",class:"form-label"},"Пользователь",-1),mi={class:"mb-3"},pi=(0,_._)("label",{for:"",class:"form-label"},"Пароль",-1),fi={class:"modal-ask-api_list_buttons"},gi=(0,_._)("div",null,null,-1),bi=(0,_._)("i",{class:"bi bi-box-arrow-down"},null,-1),vi=[bi],hi=(0,_._)("i",{class:"bi bi-box-arrow-in-up"},null,-1),wi=(0,_._)("i",{class:"bi bi-trash"},null,-1),_i=[wi],Ci=(0,_._)("i",{class:"bi bi-plus-lg"},null,-1),yi=[Ci],ki={class:"list-repo-item_desc"},Si={class:"list-repo-item_title"},Di={class:"list-repo-item_type"},Ii={class:"list-repo-item_name"},Ai=(0,_._)("b",null,"login:",-1),Ei=(0,_._)("b",null,"repo:",-1),Fi=(0,_._)("b",null,"key:",-1),Li=(0,_._)("b",null,"url:",-1),Wi=(0,_._)("b",null,"username:",-1),Ri=(0,_._)("b",null,"password:",-1),Ti={style:{display:"flex","align-items":"start"}},xi=["onClick"],Gi=(0,_._)("i",{class:"bi bi-pencil"},null,-1),Ui=[Gi],Oi=["onClick"],Mi=(0,_._)("i",{class:"bi bi-trash"},null,-1),Hi=[Mi],Ni=(0,_._)("div",{style:{width:"32px",height:"29px"}},null,-1),zi=(0,_._)("div",{style:{width:"32px",height:"29px"}},null,-1),Pi=["onClick"],Ki=(0,_._)("i",{class:"bi bi-star-fill"},null,-1),Vi=[Ki],Yi={class:"modal-footer"};function $i(e,t,i,a,n,o){return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",null,[zt,(0,_._)("div",Pt,[(0,_._)("div",Kt,[(0,_._)("div",Vt,[Yt,(0,_._)("div",$t,[null!==n.iEditIndex?((0,_.wg)(),(0,_.iD)(_.HY,{key:0},[(0,_._)("div",Bt,[Zt,(0,_._)("div",null,[(0,_._)("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=(...e)=>o.fnCancelRepo&&o.fnCancelRepo(...e))},"Отмена"),(0,_._)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>o.fnSaveRepo&&o.fnSaveRepo(...e))},"Сохранить")])]),(0,_._)("div",Jt,[jt,(0,_.wy)((0,_._)("select",{class:"form-control","onUpdate:modelValue":t[2]||(t[2]=e=>n.sFromType=e)},Xt,512),[[w.bM,n.sFromType]])]),(0,_._)("div",ei,[ti,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=t=>e.sFormName=t)},null,512),[[w.nr,e.sFormName]])]),"github"==n.sFromType?((0,_.wg)(),(0,_.iD)(_.HY,{key:0},[(0,_._)("div",ii,[ai,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=e=>n.sFormLogin=e)},null,512),[[w.nr,n.sFormLogin]])]),(0,_._)("div",ni,[oi,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=e=>n.sFormRepo=e)},null,512),[[w.nr,n.sFormRepo]])]),(0,_._)("div",si,[li,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>n.sFormKey=e)},null,512),[[w.nr,n.sFormKey]])])],64)):(0,_.kq)("",!0),"webdav"==n.sFromType?((0,_.wg)(),(0,_.iD)(_.HY,{key:1},[(0,_._)("div",ri,[di,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>n.sFormURL=e)},null,512),[[w.nr,n.sFormURL]])]),(0,_._)("div",ci,[ui,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=t=>e.sFormUsername=t)},null,512),[[w.nr,e.sFormUsername]])]),(0,_._)("div",mi,[pi,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=t=>e.sFormPassword=t)},null,512),[[w.nr,e.sFormPassword]])])],64)):(0,_.kq)("",!0)],64)):((0,_.wg)(),(0,_.iD)(_.HY,{key:1},[(0,_._)("div",fi,[gi,(0,_._)("div",null,[(0,_._)("button",{class:"btn btn-secondary",title:"Экспортировать",onClick:t[10]||(t[10]=(...e)=>o.fnExport&&o.fnExport(...e))},vi),(0,_._)("button",{class:"btn btn-import btn-secondary",title:"Импортировать",onClick:t[12]||(t[12]=(...e)=>o.fnImport&&o.fnImport(...e))},[hi,(0,_._)("label",null,[(0,_._)("input",{type:"file",ref:"file_selector",onChange:t[11]||(t[11]=(...e)=>o.fnFileImportChange&&o.fnFileImportChange(...e))},null,544)])]),(0,_._)("button",{class:"btn btn-danger",title:"Очистить все",onClick:t[13]||(t[13]=(...e)=>o.fnCleanRepo&&o.fnCleanRepo(...e))},_i),(0,_._)("button",{class:"btn btn-success",title:"Добавить",onClick:t[14]||(t[14]=(...e)=>o.fnNewRepo&&o.fnNewRepo(...e))},yi)])]),((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(e.aReposList,((t,i)=>((0,_.wg)(),(0,_.iD)("div",{key:i,class:(0,C.C_)("list-repo-item "+(e.iSelectedRepoIndex==i?"active":""))},[t?((0,_.wg)(),(0,_.iD)(_.HY,{key:0},[(0,_._)("div",ki,[(0,_._)("div",Si,[(0,_._)("div",Di,(0,C.zw)(t.type),1),(0,_._)("div",Ii,(0,C.zw)(t.name),1)]),"github"==t.type?((0,_.wg)(),(0,_.iD)(_.HY,{key:0},[(0,_._)("div",null,[Ai,(0,_.Uk)(" "+(0,C.zw)(t.login),1)]),(0,_._)("div",null,[Ei,(0,_.Uk)(" "+(0,C.zw)(t.repo),1)]),(0,_._)("div",null,[Fi,(0,_.Uk)(" "+(0,C.zw)(t.key),1)])],64)):(0,_.kq)("",!0),"webdav"==t.type?((0,_.wg)(),(0,_.iD)(_.HY,{key:1},[(0,_._)("div",null,[Li,(0,_.Uk)(" "+(0,C.zw)(t.url),1)]),(0,_._)("div",null,[Wi,(0,_.Uk)(" "+(0,C.zw)(t.username),1)]),(0,_._)("div",null,[Ri,(0,_.Uk)(" "+(0,C.zw)(t.password),1)])],64)):(0,_.kq)("",!0)]),(0,_._)("div",Ti,["localstorage"!=t.type?((0,_.wg)(),(0,_.iD)(_.HY,{key:0},[(0,_._)("button",{class:"btn btn-success",onClick:e=>o.fnEditRepo(i),title:"Редактировать"},Ui,8,xi),(0,_._)("button",{class:"btn btn-danger",onClick:e=>o.fnRemoveRepo(i),title:"Удалить"},Hi,8,Oi)],64)):((0,_.wg)(),(0,_.iD)(_.HY,{key:1},[Ni,zi],64)),(0,_._)("button",{class:"btn btn-info",onClick:e=>o.fnSelectRepo(i),title:"Выбрать"},Vi,8,Pi)])],64)):(0,_.kq)("",!0)],2)))),128))],64))]),(0,_._)("div",Yi,[(0,_._)("button",{class:"btn btn-success",onClick:t[15]||(t[15]=e=>o.fnAcceptRepo())},"Выбрать")])])])])],512)),[[w.F8,e.bShowRepoWindow]])}var Bi={name:"AskAPIWindow",components:{},computed:{...(0,a.rn)(c`iSelectedRepoIndex bShowRepoWindow`),...(0,a.Se)(c`aReposList`)},data(){return{iEditIndex:null,sFormLogin:"",sFormRepo:"",sFormKey:"",sFormURL:"",sFromType:"github"}},methods:{...(0,a.OI)(c`fnReposRemove fnReposSelect fnReposClean fnReposUpdate`),...(0,a.nv)(c`fnPrepareRepo fnExportRepos fnImportRepos`),fnSaveRepo(){if(this.sFormName){var e={name:this.sFormName,login:this.sFormLogin,repo:this.sFormRepo,key:this.sFormKey,type:this.sFromType,url:this.sFormURL,username:this.sFormUsername,password:this.sFormPassword};this.fnReposUpdate({iIndex:this.iEditIndex,oObj:e}),_l(this.aReposList),this.iEditIndex=null}else alert("Надо заполнить поле - Название")},fnNewRepo(){this.iEditIndex=-1,this.sFormName="",this.sFormLogin="",this.sFormRepo="",this.sFormKey="",this.sFormType="github",this.sFormURL="",this.sFormUsername="",this.sFormPassword=""},fnEditRepo(e){this.iEditIndex=e;var t=this.aReposList[this.iEditIndex];this.sFormName=t.name,this.sFormLogin=t.login,this.sFormRepo=t.repo,this.sFormKey=t.key,this.sFormType=t.type,this.sFormURL=t.url,this.sFormUsername=t.username,this.sFormPassword=t.password},fnRemoveRepo(e){this.fnReposRemove(e)},fnSelectRepo(e){this.fnReposSelect(e)},fnCleanRepo(){this.fnReposClean()},fnCancelRepo(){this.iEditIndex=null},fnAcceptRepo(){if(!this.aReposList[this.iSelectedRepoIndex])return alert("Нужно выбрать репозиторий");this.fnPrepareRepo()},fnExport(){this.fnExportRepos()},fnImport(){let e=this.$refs.file_selector.files[0],t=new FileReader;var i=this;t.readAsText(e),t.onload=function(){i.fnImportDatabase(t.result)},t.onerror=function(){console.error(t.error)}},fnFileImportChange(){this.fnImport()}},created(){}};const Zi=(0,K.Z)(Bi,[["render",$i]]);var Ji=Zi;const ji=(0,_._)("div",{class:"block-overlay"},null,-1),qi={class:"modal show",id:"modal-edit-article",tabindex:"-1"},Qi={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Xi={class:"modal-content"},ea={class:"modal-header"},ta=(0,_._)("h5",{class:"modal-title"},"Статья",-1),ia={class:"modal-body"},aa={class:"mb-3"},na=(0,_._)("label",{for:"",class:"form-label"},"Название",-1),oa={class:"modal-footer"};function sa(e,t,i,a,n,o){return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",null,[ji,(0,_._)("div",qi,[(0,_._)("div",Qi,[(0,_._)("div",Xi,[(0,_._)("div",ea,[ta,(0,_._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,_._)("div",ia,[(0,_._)("div",aa,[na,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sGroupEditWindowGroupName=t)},null,512),[[w.nr,e.sGroupEditWindowGroupName]])])]),(0,_._)("div",oa,[(0,_._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,_._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowGroupEditWindow]])}var la={name:"EditGroup",props:{},computed:{...(0,a.rn)(c`bShowGroupEditWindow`),...m("sGroupEditWindowGroupName")},methods:{...(0,a.OI)(c`fnHideGroupEditWindow`),...(0,a.nv)(c`fnSaveGroup`),fnSave(){this.fnSaveGroup(),this.fnHideGroupEditWindow()},fnClose(){this.fnHideGroupEditWindow()}}};const ra=(0,K.Z)(la,[["render",sa]]);var da=ra;const ca=(0,_._)("div",{class:"block-overlay"},null,-1),ua={class:"modal show",id:"modal-edit-category",tabindex:"-1"},ma={class:"modal-dialog"},pa={class:"modal-content"},fa={class:"modal-header"},ga=(0,_._)("h5",{class:"modal-title"},"Редактирование категории",-1),ba={class:"modal-body"},va={class:"mb-3"},ha=(0,_._)("label",{for:"",class:"form-label"},"Родительская группа",-1),wa=["value"],_a={class:"mb-3"},Ca=(0,_._)("label",{for:"",class:"form-label"},"Родительская категория",-1),ya=["value"],ka={class:"mb-3"},Sa=(0,_._)("label",{for:"",class:"form-label"},"Название",-1),Da={class:"modal-footer"};function Ia(e,t,i,a,n,o){return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",null,[ca,(0,_._)("div",ua,[(0,_._)("div",ma,[(0,_._)("div",pa,[(0,_._)("div",fa,[ga,(0,_._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,_._)("div",ba,[(0,_._)("div",va,[ha,(0,_._)("div",null,[(0,_.wy)((0,_._)("select",{id:"edit-category-group",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sCategoryEditWindowGroupID=t)},[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(e.aGroupsList,(e=>((0,_.wg)(),(0,_.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,wa)))),128))],512),[[w.bM,e.sCategoryEditWindowGroupID]])])]),(0,_._)("div",_a,[Ca,(0,_._)("div",null,[(0,_.wy)((0,_._)("select",{id:"edit-category-parent",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sCategoryEditWindowCategoryID=t)},[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aCategoriesList,(e=>((0,_.wg)(),(0,_.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,ya)))),128))],512),[[w.bM,e.sCategoryEditWindowCategoryID]])])]),(0,_._)("div",ka,[Sa,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control",id:"edit-category-name","aria-describedby":"","onUpdate:modelValue":t[3]||(t[3]=t=>e.sCategoryEditWindowCategoryName=t)},null,512),[[w.nr,e.sCategoryEditWindowCategoryName]])])]),(0,_._)("div",Da,[(0,_._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,_._)("button",{id:"category-edit-save",type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowCategoryEditWindow]])}var Aa={name:"EditCategory",props:{},computed:{...(0,a.rn)(c`bShowCategoryEditWindow`),...(0,a.Se)(c`aGroupsList`),...m("sCategoryEditWindowCategoryName sCategoryEditWindowGroupID sCategoryEditWindowCategoryID"),aCategoriesList(){return this.$store.getters.fnFilterCategoriesByGroup(this.sCategoryEditWindowGroupID)}},data(){return{}},methods:{...(0,a.OI)(c`fnHideCategoryEditWindow`),...(0,a.nv)(c`fnSaveCategory`),fnSave(){this.fnSaveCategory(),this.fnHideCategoryEditWindow()},fnClose(){this.fnHideCategoryEditWindow()}}};const Ea=(0,K.Z)(Aa,[["render",Ia]]);var Fa=Ea;const La=(0,_._)("div",{class:"block-overlay"},null,-1),Wa={class:"modal show",id:"modal-edit-category",tabindex:"-1"},Ra={class:"modal-dialog"},Ta={class:"modal-content"},xa={class:"modal-header"},Ga=(0,_._)("h5",{class:"modal-title"},"Редактирование категории",-1),Ua={class:"modal-body"},Oa={class:"mb-3"},Ma=(0,_._)("label",{for:"",class:"form-label"},"Родительская группа",-1),Ha=["value"],Na={class:"mb-3"},za=(0,_._)("label",{for:"",class:"form-label"},"Родительская категория",-1),Pa=["value"],Ka={class:"mb-3"},Va=(0,_._)("label",{for:"",class:"form-label"},"Название",-1),Ya={class:"modal-footer"};function $a(e,t,i,a,n,o){return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",null,[La,(0,_._)("div",Wa,[(0,_._)("div",Ra,[(0,_._)("div",Ta,[(0,_._)("div",xa,[Ga,(0,_._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,_._)("div",Ua,[(0,_._)("div",Oa,[Ma,(0,_._)("div",null,[(0,_.wy)((0,_._)("select",{id:"edit-category-group",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sArticleEditWindowGroupID=t)},[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(e.aGroupsList,(e=>((0,_.wg)(),(0,_.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,Ha)))),128))],512),[[w.bM,e.sArticleEditWindowGroupID]])])]),(0,_._)("div",Na,[za,(0,_._)("div",null,[(0,_.wy)((0,_._)("select",{id:"edit-category-parent",class:"form-control box1","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sArticleEditWindowCategoryID=t)},[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aCategoriesList,(e=>((0,_.wg)(),(0,_.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,Pa)))),128))],512),[[w.bM,e.sArticleEditWindowCategoryID]])])]),(0,_._)("div",Ka,[Va,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control",id:"edit-category-name","aria-describedby":"","onUpdate:modelValue":t[3]||(t[3]=t=>e.sArticleEditWindowArticleName=t)},null,512),[[w.nr,e.sArticleEditWindowArticleName]])])]),(0,_._)("div",Ya,[(0,_._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,_._)("button",{id:"category-edit-save",type:"button",class:"btn btn-success",onClick:t[5]||(t[5]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowArticleEditWindow]])}var Ba={name:"EditArticle",props:{},computed:{...(0,a.rn)(c`bShowArticleEditWindow`),...(0,a.Se)(c`aGroupsList fnFilterCategoriesByGroup`),...m("sArticleEditWindowArticleName sArticleEditWindowGroupID sArticleEditWindowCategoryID"),aCategoriesList(){return this.$store.getters.fnFilterCategoriesByGroup(this.sArticleEditWindowGroupID)}},data(){return{bShowWindow:!1}},methods:{...(0,a.OI)(c`fnHideArticleEditWindow`),...(0,a.nv)(c`fnSaveArticle`),fnSave(){this.fnSaveArticle(),this.fnHideArticleEditWindow()},fnClose(){this.fnHideArticleEditWindow()}}};const Za=(0,K.Z)(Ba,[["render",$a]]);var Ja=Za;const ja=(0,_._)("div",{class:"block-overlay"},null,-1),qa={class:"modal show",id:"modal-edit-article",tabindex:"-1"},Qa={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Xa={class:"modal-content"},en={class:"modal-header"},tn=(0,_._)("h5",{class:"modal-title"},"Статья",-1),an={class:"modal-body"},nn={class:"mb-3"},on=(0,_._)("label",{for:"",class:"form-label"},"Название",-1),sn={class:"mb-3"},ln=(0,_._)("label",{for:"",class:"form-label"},"URL",-1),rn={class:"modal-footer"};function dn(e,t,i,a,n,o){return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",null,[ja,(0,_._)("div",qa,[(0,_._)("div",Qa,[(0,_._)("div",Xa,[(0,_._)("div",en,[tn,(0,_._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,_._)("div",an,[(0,_._)("div",nn,[on,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sLinkEditWindowLinkName=t)},null,512),[[w.nr,e.sLinkEditWindowLinkName]])]),(0,_._)("div",sn,[ln,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[2]||(t[2]=t=>e.sLinkEditWindowLinkURL=t)},null,512),[[w.nr,e.sLinkEditWindowLinkURL]])])]),(0,_._)("div",rn,[(0,_._)("button",{type:"button",class:"btn btn-secondary",onClick:t[3]||(t[3]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,_._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[4]||(t[4]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowLinkEditWindow]])}var cn={name:"EditLink",props:{},computed:{...(0,a.rn)(c`bShowLinkEditWindow`),...m("sLinkEditWindowLinkName sLinkEditWindowLinkURL")},data(){return{}},methods:{...(0,a.OI)(c`fnHideLinkEditWindow`),...(0,a.nv)(c`fnSaveLink`),fnClose(){this.fnHideLinkEditWindow()},fnSave(){this.fnSaveLink(),this.fnHideLinkEditWindow()}}};const un=(0,K.Z)(cn,[["render",dn]]);var mn=un;const pn=(0,_._)("div",{class:"block-overlay"},null,-1),fn={class:"modal show",id:"modal-edit-article",tabindex:"-1"},gn={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},bn={class:"modal-content"},vn={class:"modal-header"},hn=(0,_._)("h5",{class:"modal-title"},"Статья",-1),wn={class:"modal-body"},_n={class:"mb-3"},Cn=(0,_._)("label",{for:"",class:"form-label"},"Название",-1),yn={class:"modal-footer"};function kn(e,t,i,a,n,o){return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",null,[pn,(0,_._)("div",fn,[(0,_._)("div",gn,[(0,_._)("div",bn,[(0,_._)("div",vn,[hn,(0,_._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=(...e)=>o.fnClose&&o.fnClose(...e))})]),(0,_._)("div",wn,[(0,_._)("div",_n,[Cn,(0,_.wy)((0,_._)("input",{type:"text",class:"form-control","aria-describedby":"","onUpdate:modelValue":t[1]||(t[1]=t=>e.sTagEditWindowTagName=t)},null,512),[[w.nr,e.sTagEditWindowTagName]])])]),(0,_._)("div",yn,[(0,_._)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>o.fnClose&&o.fnClose(...e))},"Отмена"),(0,_._)("button",{id:"article-edit-save",type:"button",class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.fnSave&&o.fnSave(...e))},"Сохранить")])])])])],512)),[[w.F8,e.bShowTagEditWindow]])}var Sn={name:"EditGroup",props:{},computed:{...(0,a.rn)(c`bShowTagEditWindow`),...m("sTagEditWindowTagName")},data(){return{}},methods:{...(0,a.OI)(c`fnHideTagEditWindow`),...(0,a.nv)(c`fnSaveTag`),fnClose(){this.fnHideTagEditWindow()},fnSave(){this.fnSaveTag(),this.fnHideTagEditWindow()}}};const Dn=(0,K.Z)(Sn,[["render",kn]]);var In=Dn;const An={class:"page-panel"},En={class:"actions-panel page-actions-panel"},Fn=(0,_._)("i",{class:"bi bi-save"},null,-1),Ln=[Fn],Wn=(0,_._)("i",{class:"bi bi-link-45deg"},null,-1),Rn=[Wn],Tn=(0,_._)("i",{class:"bi bi-file-code"},null,-1),xn=[Tn],Gn=(0,_._)("i",{class:"bi bi-tags"},null,-1),Un=[Gn],On=(0,_._)("i",{class:"bi bi-image"},null,-1),Mn=[On],Hn=(0,_._)("i",{class:"bi bi-journal-text"},null,-1),Nn=[Hn],zn=(0,_._)("div",{class:"actions-panel-spacer"},null,-1),Pn=(0,_._)("i",{class:"bi bi-x-lg"},null,-1),Kn=[Pn],Vn={class:"tab-page"},Yn={class:"tab-page-tags"},$n={class:"tab-page-images"},Bn={class:"actions-panel"},Zn={class:"list"},Jn=(0,_._)("a",{class:(0,C.C_)("list-group-item list-group-item-action item-title ")},[(0,_._)("div",{class:"item-inner-title"},[(0,_._)("img",{src:""})])],-1),jn=(0,_._)("div",{class:"image-path"},null,-1),qn=[Jn,jn],Qn={class:"tab-page-comments"},Xn={class:"actions-panel"},eo=(0,_._)("div",null,null,-1);function to(e,t,i,a,n,o){const s=(0,_.up)("editor",!0),l=(0,_.up)("TagsSelector");return(0,_.wy)(((0,_.wg)(),(0,_.iD)("div",An,[(0,_._)("div",En,[(0,_._)("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...t)=>e.fnSaveEditorContents&&e.fnSaveEditorContents(...t))},Ln),(0,_._)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...e)=>o.fnOpenLink&&o.fnOpenLink(...e))},Rn),(0,_._)("button",{class:(0,C.C_)("btn "+("page"==n.sCurrentTab?"btn-primary":"")),onClick:t[2]||(t[2]=e=>n.sCurrentTab="page")},xn,2),(0,_._)("button",{class:(0,C.C_)("btn "+("tags"==n.sCurrentTab?"btn-primary":"")),onClick:t[3]||(t[3]=e=>n.sCurrentTab="tags")},Un,2),(0,_._)("button",{class:(0,C.C_)("btn "+("images"==n.sCurrentTab?"btn-primary":"")),onClick:t[4]||(t[4]=e=>n.sCurrentTab="images")},Mn,2),(0,_._)("button",{class:(0,C.C_)("btn "+("comments"==n.sCurrentTab?"btn-primary":"")),onClick:t[5]||(t[5]=e=>n.sCurrentTab="comments")},Nn,2),zn,(0,_._)("button",{class:"btn btn-danger",onClick:t[6]||(t[6]=(...e)=>o.fnClose&&o.fnClose(...e))},Kn)]),(0,_.wy)((0,_._)("div",Vn,[(0,_.Wm)(s,{"api-key":"tsbudecaa1nyy1uzzd269l4hjzko6g94gcjruqgfy6r1cl3a",init:{height:"calc(100vh - 30px)",menubar:!1,plugins:["advlist autolink lists link image charmap codesample print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor |                         alignleft aligncenter alignright alignjustify | codesample code                         bullist numlist outdent indent | removeformat | help",codesample_languages:[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"SQL",value:"sql"},{text:"YAML",value:"yaml"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]},modelValue:e.sArticleContent,"onUpdate:modelValue":t[7]||(t[7]=t=>e.sArticleContent=t),onInit:o.onEditorReady,onExecCommand:o.fnExecCommand,onKeyDown:o.fnKeyDown},null,8,["init","modelValue","onInit","onExecCommand","onKeyDown"])],512),[[w.F8,"page"==n.sCurrentTab]]),(0,_.wy)((0,_._)("div",Yn,[(0,_.Wm)(l,{id:n.sArticleID},null,8,["id"])],512),[[w.F8,"tags"==n.sCurrentTab]]),(0,_.wy)((0,_._)("div",$n,[(0,_._)("div",Bn,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[8]||(t[8]=e=>n.sImagesFilter=e),onInput:t[9]||(t[9]=(...e)=>o.fnImagesFilter&&o.fnImagesFilter(...e))},null,544),[[w.nr,n.sImagesFilter]])]),(0,_._)("div",Zn,[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(n.aImagesList,(e=>((0,_.wg)(),(0,_.iD)("div",{key:e.id,class:(0,C.C_)("input-group item-row item-image-row")},qn)))),128))])],512),[[w.F8,"images"==n.sCurrentTab]]),(0,_.wy)((0,_._)("div",Qn,[(0,_._)("div",Xn,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[10]||(t[10]=e=>n.sCommentsFilter=e),onInput:t[11]||(t[11]=(...e)=>o.fnCommentsFilter&&o.fnCommentsFilter(...e))},null,544),[[w.nr,n.sCommentsFilter]])]),eo],512),[[w.F8,"comments"==n.sCurrentTab]])],512)),[[w.F8,e.bShowEditor]])}const io={class:"selecteion-tag-panel"},ao={class:"left-tag-panel"},no={class:"actions-panel"},oo=(0,_._)("i",{class:"bi bi-arrow-repeat"},null,-1),so=[oo],lo={class:"selector"},ro=["value"],co={class:"middle-tag-panel"},uo=(0,_._)("i",{class:"bi bi-chevron-double-left"},null,-1),mo=[uo],po=(0,_._)("i",{class:"bi bi-chevron-compact-left"},null,-1),fo=[po],go=(0,_._)("i",{class:"bi bi-chevron-compact-right"},null,-1),bo=[go],vo=(0,_._)("i",{class:"bi bi-chevron-double-right"},null,-1),ho=[vo],wo={class:"right-tag-panel"},_o={class:"actions-panel"},Co=(0,_._)("i",{class:"bi bi-arrow-repeat"},null,-1),yo=[Co],ko={class:"selector"},So=["value"];function Do(e,t,i,a,n,o){return(0,_.wg)(),(0,_.iD)("div",io,[(0,_._)("div",ao,[(0,_._)("div",no,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[0]||(t[0]=e=>n.sAllTagFilter=e)},null,512),[[w.nr,n.sAllTagFilter]]),(0,_._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>o.fnAllTagsFilter&&o.fnAllTagsFilter(...e))},so)]),(0,_._)("div",lo,[(0,_.wy)((0,_._)("select",{multiple:"",size:"10","onUpdate:modelValue":t[2]||(t[2]=e=>n.aSelectedAllTags=e)},[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(o.aTagsList,(e=>((0,_.wg)(),(0,_.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,ro)))),128))],512),[[w.bM,n.aSelectedAllTags]])])]),(0,_._)("div",co,[(0,_._)("button",{class:"btn",onClick:t[3]||(t[3]=(...e)=>o.fnMoveAllLeft&&o.fnMoveAllLeft(...e))},mo),(0,_._)("button",{class:"btn",onClick:t[4]||(t[4]=(...e)=>o.fnMoveOneLeft&&o.fnMoveOneLeft(...e))},fo),(0,_._)("button",{class:"btn",onClick:t[5]||(t[5]=(...e)=>o.fnMoveOneRight&&o.fnMoveOneRight(...e))},bo),(0,_._)("button",{class:"btn",onClick:t[6]||(t[6]=(...e)=>o.fnMoveAllRight&&o.fnMoveAllRight(...e))},ho)]),(0,_._)("div",wo,[(0,_._)("div",_o,[(0,_.wy)((0,_._)("input",{type:"text",class:"form-control",placeholder:"","aria-label":"","aria-describedby":"","onUpdate:modelValue":t[7]||(t[7]=e=>n.sSelectedTagFilter=e),onInput:t[8]||(t[8]=(...e)=>o.fnSelectedTagsFilter&&o.fnSelectedTagsFilter(...e))},null,544),[[w.nr,n.sSelectedTagFilter]]),(0,_._)("button",{class:"btn",onClick:t[9]||(t[9]=(...e)=>o.fnSelectedTagsFilter&&o.fnSelectedTagsFilter(...e))},yo)]),(0,_._)("div",ko,[(0,_.wy)((0,_._)("select",{multiple:"",size:"10","onUpdate:modelValue":t[10]||(t[10]=e=>n.aSelectedArticleTags=e)},[((0,_.wg)(!0),(0,_.iD)(_.HY,null,(0,_.Ko)(n.aSelectedTagsList,(e=>((0,_.wg)(),(0,_.iD)("option",{key:e.id,value:e.id},(0,C.zw)(e.name),9,So)))),128))],512),[[w.bM,n.aSelectedArticleTags]])])])])}var Io={name:"TagsSelector",props:{id:[String,null]},computed:{...(0,a.rn)(c`sSelectedTagID`),...(0,a.Se)(c`oCurrentTag`),sID(){return this.id},aTagsList(){return this.$store.getters.fnFilterTags(this.sTagFilter)}},data(){return{sAllTagFilter:"",sSelectedTagFilter:"",aAllTagsList:[],aSelectedTagsList:[],aSelectedAllTags:[],aSelectedArticleTags:[]}},watch:{id(e,t){var i=this;i.fnAllTagsFilter(),i.fnSelectedTagsFilter()}},methods:{...(0,a.OI)(c`fnSelectTag fnShowTagEditWindow`),...(0,a.nv)(c`fnSelectArticle fnRemoveTag`),fnAllTagsFilter(){},fnSelectedTagsFilter(){},fnMoveAllLeft(){},fnMoveOneLeft(){},fnMoveOneRight(){},fnMoveAllRight(){}},mounted(){}};const Ao=(0,K.Z)(Io,[["render",Do]]);var Eo=Ao,Fo=i(5046),Lo={name:"PageEditor",props:[],components:{TagsSelector:Eo,editor:Fo.Z},computed:{...(0,a.rn)(c`bShowEditor`),...(0,a.Se)(c`oCurrentRepo fnGetCurrentArticleLink fnSaveArticlePage fnSaveDatabase`),...m("bSaveEditor sArticleContent")},data(){return{sCurrentTab:"page",sImagesFilter:"",sCommentsFilter:"",sData:"",sArticleID:null,oArticle:null,oEditor:null,oEditorConfig:{},aImagesList:[]}},methods:{...(0,a.OI)(c`fnHideEditor`),...(0,a.nv)(c`fnSave`),onEditorReady(e,t){this.oEditor=t},fnExecCommand(e,t){},fnKeyDown(e,t){e.ctrlKey&&83===e.keyCode&&(e.preventDefault(),_l("CTRL + S"),this.fnSave())},fnOpenLink(){window.open(this.fnGetCurrentArticleLink())},fnImagesFilter(){},fnCommentsFilter(){},fnClose(){this.fnHideEditor()}},mounted(){}};const Wo=(0,K.Z)(Lo,[["render",to]]);var Ro=Wo;const To={class:"toast-container position-fixed top-0 end-0 p-3"},xo={class:"toast fade show",role:"alert","aria-live":"assertive","aria-atomic":"true"},Go=(0,_._)("div",{class:"toast-header"},[(0,_._)("strong",{class:"me-auto"},"Сохранено"),(0,_._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})],-1),Uo=(0,_._)("div",{class:"toast-body"}," Данные были сохранены ",-1),Oo=[Go,Uo];function Mo(e,t,i,a,n,o){return(0,_.wg)(),(0,_.iD)("div",To,[(0,_.wy)((0,_._)("div",xo,Oo,512),[[w.F8,e.bShowSaveToast]])])}var Ho={name:"SavedToast",components:{},computed:{...m("bShowSaveToast")},data(){return{}},watch:{bShowSaveToast(e,t){e&&setTimeout((()=>{this.bShowSaveToast=!1}),2e3)}}};const No=(0,K.Z)(Ho,[["render",Mo]]);var zo=No,Po={name:"App",components:{Loader:Y,ListMode:de,CatalogMode:ze,FavoritesMode:Qe,TagsMode:gt,LinksMode:Et,ErrorWindow:Nt,AskAPIWindow:Ji,PageEditor:Ro,SavedToast:zo,EditGroup:da,EditCategory:Fa,EditArticle:Ja,EditLink:mn,EditTag:In},computed:{...(0,a.rn)(c`bShowRepoWindow sSelectedArticleID`),...m("bShowSaveToast bSaveEditor"),sCurrentMode:{set(e){this.$store.commit("fnUpdateMode",e)},get(){return this.$store.state.sCurrentMode}}},data(){return{aMenu:[{class:"app-mode-list",title:"Список",icon:"bi-justify"},{class:"app-mode-catalog",title:"Каталог",icon:"bi-grid-1x2"},{class:"app-mode-favorites",title:"Избранное",icon:"bi-star-fill"},{class:"app-mode-tags",title:"Тэги",icon:"bi-tags"},{class:"app-mode-links",title:"Ссылки",icon:"bi-link"},{class:"app-publish-btn",title:"Публикация",icon:"bi-journal-arrow-up"}]}},methods:{...(0,a.OI)(c`fnLoadRepos fnShowRepoWindow fnCleanDatabase fnLoadDemoDatabase`),...(0,a.nv)(c`fnSaveDatabase fnSaveArticlePage fnPublishIndexFile fnSave fnImportDatabase fnExportDatabase`),fnMenuItemClick(e){"app-publish-btn"==e.class||"app-export-btn"==e.class||"app-import-btn"==e.class||(this.sCurrentMode=e.class)},fnSaveAll(){this.fnSave()},fnExport(){this.fnExportDatabase()},fnImport(){let e=this.$refs.file_selector.files[0],t=new FileReader;var i=this;t.readAsText(e),t.onload=function(){i.fnImportDatabase(t.result)},t.onerror=function(){console.error(t.error)}},fnFileImportChange(){this.fnImport()},fnCleanDatabaseClick(){confirm("Все данные будут удалены. Продолжить?")&&(this.fnCleanDatabase(),this.fnSaveDatabase(),this.fnPublishIndexFile(),this.bShowSaveToast=!0)},fnLoadDemoDatabaseClick(){confirm("Все данные будут удалены. Продолжить?")&&(this.fnLoadDemoDatabase(),this.fnSaveDatabase(),this.fnPublishIndexFile(),this.bShowSaveToast=!0)}},mounted(){var e=this;document.addEventListener("keydown",(t=>{t.ctrlKey&&83===t.keyCode&&(t.preventDefault(),_l("CTRL + S"),e.fnSaveAll())}))},created(){this.fnLoadRepos()}};const Ko=(0,K.Z)(Po,[["render",O]]);var Vo=Ko;i.g._l=(...e)=>(console.log.apply(console,e),e[0]),i.g._s=()=>{var e=new Error;console.trace(e.stack.match(/at ([^\n]*)/g)[1])},(0,w.ri)(Vo).use(h).mount("#app")}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,a,n,o){if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var l=!0,r=0;r<a.length;r++)(!1&o||s>=o)&&Object.keys(i.O).every((function(e){return i.O[e](a[r])}))?a.splice(r--,1):(l=!1,o<s&&(s=o));if(l){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,s=a[0],l=a[1],r=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(r)var c=r(i)}for(t&&t(a);d<s.length;d++)o=s[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},a=self["webpackChunkwapp_github_blog_engine_vue"]=self["webpackChunkwapp_github_blog_engine_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[998],(function(){return i(2050)}));a=i.O(a)})();
//# sourceMappingURL=app.0126bc79.js.map